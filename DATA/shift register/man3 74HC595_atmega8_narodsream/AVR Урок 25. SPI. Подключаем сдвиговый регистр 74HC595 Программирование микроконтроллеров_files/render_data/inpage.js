!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var r in e)t.d(n,r,function(t){return e[t]}.bind(null,r));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=178)}([function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return o}));var r=i(48);const a={NO_APPROPRIATE_VIDEO_SOURCE:52,MEDIA_ERR_ABORTED:101,MEDIA_ERR_NETWORK:102,MEDIA_ERR_SRC_NOT_SUPPORTED:104,VIDEO_ERROR:10,INVALID_VAST_XML:40,YANDEX_INVALID_VAST_XML:40,INCORRECT_SKIPOFFSET_FORMAT:46,YANDEX_INCORRECT_SKIPOFFSET_FORMAT:46,ADFOX_VAST_LOAD_ERROR:47,VAST_LOAD_ERROR:48,NO_AD_SECTION:53,VAST_LOAD_TIMEOUT:60,YANDEX_VAST_LOAD_TIMEOUT:60,NO_INLINE_OR_WRAPPER_NODE:58,YANDEX_NO_INLINE_OR_WRAPPER_NODE:58,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,VIDEO_TIMEOUT:62,BUFFER_FULL_TIMEOUT:63,BUFFER_EMPTY_LIMIT:64,VPAID_START_TIMEOUT:65,EXPECTED_PREROLL_AD_BREAK:66,VMAP_CONFIG_WITHOUT_PARTNER_ID:1003,NO_AD_TO_DISPLAY:51,VPAIDLoadingError:68,VPAIDPlayingError:67,VpaidEventBusCallbackError:81,CANNOT_LOAD_VPAID_MEDIA_FILE:82,CANNOT_LOAD_MODULE:91,CANNOT_INIT_MODULE:92,TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS:21002,PUBLIC_CONTROLLER_PLAY_ERROR:21010,NO_AD_CUSTOM_MARKER:21101};class o extends r.a{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=t.message||e.message;var r,o,s;super(e,n({},t,{message:"AdSDK Error ["+(t.code||e.code)+"]"+(i?"["+i+"]":"")})),s=void 0,(o="id")in(r=this)?Object.defineProperty(r,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[o]=s,this.id=function(e){return a[e]||0}(this.code)}}},function(e,t,i){"use strict";function n(){if(f.a&&f.a.document&&"function"===typeof f.a.document.hasFocus)try{return f.a.document.hasFocus()}catch(e){}}function r(e){var t;return(void 0===t&&(t=window),void 0===q&&(q=t.JSON),q).stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,n)=>{if(void 0!==e)try{e.set(i,n)}catch(r){t.push({path:n,value:i})}else t.push({path:n,value:i})},get:i=>{const n=Object(H.a)(t,e=>e.value===i);return void 0!==e&&void 0===n?e.get(i):n?n.path:void 0}}}();return(i,n)=>{if(Object(w.a)(n))return Object(G.a)(n.name)?n.name:"[Function]";if(Object(W.a)(n))return Object(Y.c)(n);if(!Object(z.a)(n))return n;const r=t.get(n);if(r)return"[Circular "+r+"]";for(;e.length>0&&e[e.length-1].value[i]!==n;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:n}),t.set(n,a),n}}())}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var s=i(26);var d=i(15),l=i(20),c=i(40),u=i(102);var h=i(30),p=i(0),A=i(13),m=i(64),v=i(7),f=i(39),g=i(48),b=i(146);const y=Object(b.a)(window);var _=i(83),O=i(155),T=i(107),E=i(76),S=i(44),w=i(12),C=i(71),I=i(133),P=i(47),N=i(43),D=i(38),R=i(134);const k=Object(R.a)(window),V=64;var B=i(42);Object(B.a)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var L=i(52),j=i(108),M=i(109),x=i(135),U=i(27),F=i(144),H=i(46),W=i(74),z=i(2),G=i(17),Y=i(90);let q;var K=i(59),X=i(145),J=i(61),Q=i(137),Z=i(101);const $=e=>{let{eventType:t,eventName:i,value:n,values:r}=e;const a={};return Object(N.a)(r,(e,n)=>{a[t+"_"+i+"_"+n]=e}),o({[t+"_"+i]:n},a)},ee=o({},Q.a,{[x.a]:String(X.a.serialize()),bannerTypeFromNanpu:F.a,bundleName:U.c,abFlags:L.a,iCookie:j.a,testIds:M.a,ecmaVer:"ES2017"});class te{constructor(e){a(this,"rootFields",{}),a(this,"labels",{}),a(this,"params",void 0),a(this,"event",e=>{let{name:t,data:i,labels:n,probability:r,extraRootFields:a,queryParams:o}=e;this.push({eventType:"event",eventName:t,data:i,additionalStatsLabels:n,probability:r,extraRootFields:a,queryParams:o})}),a(this,"error",e=>{let{error:t,labels:i,probability:n,extraRootFields:r}=e;const a=new g.a(t);this.push({eventName:String(a.code),eventType:"fatal",data:a,additionalStatsLabels:i,probability:n,extraRootFields:r})}),a(this,"values",e=>{let{name:t,values:i,data:n,labels:r,probability:a,extraRootFields:o}=e;this.push({eventName:t,eventType:"values",data:n,additionalStatsLabels:r,probability:a,values:i,extraRootFields:o})}),a(this,"warning",e=>{let{name:t,message:i,probability:n,extraRootFields:r}=e;Object(K.a)(i),this.push({eventName:t,eventType:"warning",data:{message:i},probability:n,extraRootFields:r})}),a(this,"getParams",()=>{return function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(this.params,["onLogError"])}),a(this,"setRootFields",e=>{const t=Object(D.a)(e);Object(v.a)(t,e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i})}),a(this,"setLabels",e=>{const t=Object(D.a)(e);Object(v.a)(t,e=>{let[t,i]=e;void 0===i?delete this.labels[t]:this.labels[t]=i})}),a(this,"errorToStats",(e,t,i)=>{const n=new g.a(e);this.push({eventName:String(n.code),eventType:"fatal",data:n,additionalStatsLabels:t,extraRootFields:i})});const{onLogError:t}=e;this.params=o({},e,{sid:e.sid||Object(S.a)(V),rnd:e.rnd,onLogError:t?e=>{try{t(e)}catch(e){Object(s.a)(e)}}:s.a})}push(e){let{eventName:t,eventType:i,data:n={},additionalStatsLabels:a,value:s=1,probability:d=1,values:c={},extraRootFields:u={},queryParams:h={}}=e;if(!Object(Z.a)(d))return;const{service:p,version:A}=this.params,m={service:p,version:A,data:n,eventName:t,eventType:i,additionalStatsLabels:a,value:s,values:c};if(void 0!==te.sendingEventName)throw new g.a({message:"RecursiveStatsRequests",details:{service:p,version:A,eventType:i,eventName:t,sendingEventName:te.sendingEventName}});te.sendingEventName=t;try{const e=Object(l.b)(ie,o({[p]:A,[i]:t},a,h)),n=this.createFullStatsObject(m,u);this.sendData(e,r(n))}catch(v){te.sendingEventName=void 0,this.params.onLogError(new g.a(v,{details:{service:p,version:A,eventType:i,eventName:t}}))}te.sendingEventName=void 0}sendData(e,t){(function(e,t){return!!k&&window.navigator.sendBeacon(e,t)})(e,t)||Object(I.a)({url:e,data:t,method:"POST"})}createFullStatsObject(e,t){const{service:i,version:r,eventName:a,eventType:s,data:d,additionalStatsLabels:l,value:c}=e,u=$(e),h=o({},this.labels,l,{version:this.params.version}),p=Object(D.a)(u),A=Object(P.a)(p),v=Object(D.a)(h),f={service:i,tags:A,labels:Object(P.a)(v)},{location:g,referrer:b}=Object(T.a)(document);return o({},t,ee,this.rootFields,f,{timestamp:Date.now(),eventType:s,eventName:a,data:d,sid:this.params.sid,version:r,location:Object(E.a)(window),topLocation:g,topAncestor:_.b,isTopAncestorUndetermined:!_.a||void 0,ancestorOrigins:y,documentIsVisible:Object(J.a)(document),referrer:window.document.referrer,topReferrer:b,currentScriptSrc:O.a,secureIFrame:C.a,isVideoADB:Object(w.a)(m.a),value:c,rnd:this.params.rnd,topDocumentFocus:n()})}}a(te,"sendingEventName",void 0),i.d(t,"a",(function(){return ie})),i.d(t,"b",(function(){return ne})),i.d(t,"c",(function(){return re}));const ie="https://jstracer.yandex.ru/jstracer",ne=Object(l.e)(ie).hostname,re=new te({service:"AdSDKJS",version:String(h.a),sid:c.a,rnd:u.a,onLogError:Object(A.a)(e=>{Object(s.a)(e),re.error({error:new p.a(e,{code:"STATS_LOG_ERROR",details:void 0})})})});d.a.addErrorHandler(e=>{re.error({error:new p.a(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})})},function(e,t,i){"use strict";function n(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){var t;const i=(r.a||window).console;if(!s.a||void 0===i)return;const n="AdSDKJS["+d.c+"]:";null===(t=i.log)||void 0===t||t.call(i,n,e)}var r=i(39),a=i(106);Object(a.a)(window);var o=i(60);o.a&&o.a.src;var s=i(88),d=(i(154),i(27)),l=i(42);Object(l.a)({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(){return Math.random()<s}i.d(t,"b",(function(){return o})),i.d(t,"e",(function(){return n})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return l})),i.d(t,"d",(function(){return c}));var r=i(101),a=i(88);const o=1,s=.001,d=a.a?o:.05,l=a.a?o:s,c=Object(r.a)(d)},function(e,t,i){"use strict";function n(){}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=(e,t,i)=>{const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t.call(i,e[r],r,e);return n}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=(e,t,i)=>{for(let n=0;n<e.length;n++)t.call(i,e[n],n,e)}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(11),r=i(122);class a extends n.a{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add(i=>{e(i)&&Object(r.a)(t,i)})}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,e=>{i(),Object(r.a)(t,e)});return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}},function(e,t,i){"use strict";function n(e){return Object(r.a)(e)&&e.length>0}i.d(t,"a",(function(){return n}));var r=i(17)},function(e,t,i){"use strict";function n(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)Object(r.a)(e,i)&&t.push(i);return t}}i.d(t,"a",(function(){return n}));var r=i(75)},function(e,t,i){"use strict";function n(e,t){e.forEach(e=>{Object(r.a)(e,t)})}var r=i(122);i.d(t,"a",(function(){return a}));class a{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){const{once:t}=this;this.once=[],n(this.on,e),n(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}},function(e,t,i){"use strict";function n(e){return"function"===typeof e||"Function"===Object(r.a)(e)}i.d(t,"a",(function(){return n}));var r=i(56)},function(e,t,i){"use strict";function n(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){let{element:t,eventName:i,listener:n,options:l,ignoreBubbling:c=!1}=e;const u=c?function(e){e.target===t&&n.call(this,e)}:n,h=function(e){let t=!1,i=!1,n=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),n=Boolean(e.once)),{capture:t,passive:i,once:n}}(l),p=a.a?h:h.capture,A=h.once&&!a.b?function(e){m(),u.call(this,e)}:u,m=()=>{Object(r.b)(t,i,A,p)};try{Object(r.a)(t,i,A,p)}catch(v){const e=Object(s.a)(v)?v:new o.a({code:"ADD_EVENT_LISTENER_FUNCTION_CALL_ERROR",details:{error:v}});throw d.c.error({error:e}),e}return m}i.d(t,"a",(function(){return n}));var r=i(82),a=i(113),o=i(0),s=i(55),d=i(1)},function(e,t,i){"use strict";i(48);var n=i(105),r=(i(155),i(44),i(33)),a=i(42);Object(a.a)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return o}));class o{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){o.errorHandlers.push(e)}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r]=t;if(!this._isDestroyed){this._isDestroyed=!0,this._destroyReason=r;try{Object(n.a)(this.destroyHandlers,...t)}catch(a){Object(n.a)(o.errorHandlers,a)}this.destroyHandlers.length=0}}getIsDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var t=this;let i=e;return function(){t.isDestroyed&&(i=r.a);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];i.apply(t,n)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}o.errorHandlers=[]},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=(e,t,i)=>{const n=[];for(let r=0;r<e.length;r++){const a=e[r];t.call(i,a,r,e)&&n.push(a)}return n}},function(e,t,i){"use strict";function n(e){return"string"===typeof e}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e,t){var i,n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"===typeof btoa){var a=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(o).concat([a]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"===typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];null!=a&&(n[a]=!0)}for(r=0;r<e.length;r++){var o=e[r];null!=o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"",""]),t.locals={NORMAL_BUTTON_HEIGHT:"32px",MIDDLE_BUTTON_HEIGHT:"40px",NORMAL_BUTTON_LEFT_RIGHT_MARGIN:"8px",MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:"12px"}},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){A.a.href=e;let t=A.a.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(A.a.search||"")+(A.a.hash||""),a=e.lastIndexOf(i),o=-1===a?e:e.slice(0,a);if(m.test(e)){const t=r(e.replace(m,"https:"));return A.a.href=e,n({},t,{originalPath:o,protocol:e.slice(0,e.indexOf(":")+1),href:A.a.href})}const s=A.a.protocol&&/^[a-z\-]+:/i.test(A.a.protocol)?A.a.protocol:"";return{originalPath:o,href:A.a.href,protocol:s,host:A.a.host,hostname:A.a.hostname,port:A.a.port,pathname:t,search:A.a.search,hash:A.a.hash}}function a(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function o(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let n=0;n<i.length;n++){const e=i[n].indexOf("=");let r,a;if(-1===e?(r=v(i[n]),a=""):(r=v(i[n].slice(0,e)),a=i[n].slice(e+1)),r){const e=Boolean(/(\[\])$/.exec(r));r=r.replace(/\[\]$/,""),e?void 0===t[r]?t[r]=[v(a)]:t[r]=[].concat(t[r],v(a)):t[r]=v(a)}}return t}function s(e){return o(r(e).search)}function d(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];Object(u.a)(n)?t.push(f(i,n)):void 0!==n&&t.push(i+"="+encodeURIComponent(n))}return"?"+t.join("&")}function l(e,t,i){if(void 0===i)return e;const s=r(e),l=o(s.search);return l[t]=i,a(n({},s,{search:d(l)}))}function c(e,t,i){let{override:s=!0,saveOriginalPath:l=!1}=void 0===i?{}:i;const c=r(e),u=o(c.search);return Object(p.a)(t,(e,t)=>{(void 0===u[t]||s)&&(u[t]=e)}),a(n({},c,{search:d(u)}),l)}i.d(t,"e",(function(){return r})),i.d(t,"f",(function(){return a})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c}));var u=i(36),h=i(131),p=i(43),A=i(37);Object(h.a)(e=>{return n({},r(e))});const m=/^(android-app:|chrome-extension:)/,v=e=>{try{return decodeURIComponent(e)}catch(t){return e}},f=(e,t)=>t.map(t=>e+"[]="+encodeURIComponent(t)).join("&")},function(e,t,i){"use strict";function n(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e,t){return-1!==Object(r.a)(e,t)}i.d(t,"a",(function(){return n}));var r=i(138)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a}));const n=["a","n.ya","nd","ex.ru"].join(""),r=["ya","sta","tic.net"].join(""),a=[n,r]},function(e,t,i){"use strict";function n(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}i.d(t,"a",(function(){return n}))},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"",""]),t.locals={AD_FONT:'-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'}},function(e,t,i){"use strict";function n(e){setTimeout(()=>{throw e},0)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));const n="",r="InPage",a=1627666094359},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=e=>{let t=0;return{promise:new Promise(i=>{t=window.setTimeout(i,e)}),clear(){clearTimeout(t)},timeoutId:t}}},function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"h",(function(){return s})),i.d(t,"b",(function(){return d})),i.d(t,"g",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"f",(function(){return u})),i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return p}));var n=i(60),r=i(87);const a=n.a?Object(r.b)(n.a):void 0;n.a&&Object(r.a)(n.a);const o=null===a||void 0===a?void 0:a.SID,s=null===a||void 0===a?void 0:a.VSID,d=null===a||void 0===a?void 0:a.ICOOKIE,l=null===a||void 0===a?void 0:a.TEST_IDS,c=null===a||void 0===a?void 0:a.AB_FLAGS,u=null===a||void 0===a?void 0:a.AdditionalStatsRootFields,h=null===a||void 0===a?void 0:a.VAS_USER_SESSION_RANDOM,p=null===a||void 0===a?void 0:a.RUM_WRAPPER},function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return d}));var n=i(32);let r;try{r={build:396799,code:[{id:396799,percent:100}]}}catch(l){r={}}const{build:a,code:o}=r,s=a,d=Object(n.a)(window,"adsdkver",o)},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".zDT{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:opacity .1s linear,height .1s ease-in;pointer-events:none;will-change:opacity,height}.zDT:not(.BNABCJFNA){visibility:hidden}.BNABCJFNA{opacity:1;pointer-events:auto}.zDT:not(.tAyhgZbmVq){top:40px;right:8px;width:260px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.tAyhgZbmVq{top:0;right:0;bottom:0;left:0}.W38DS{box-sizing:border-box;padding:8px 16px}.tAyhgZbmVq .W38DS{height:100%;overflow:auto}.vT6FjRp6{padding-bottom:16px}.H4mG7D8{display:flex;align-items:center;height:36px}.cY3H{box-sizing:border-box;width:100%;height:152px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+i(25).locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:8px;outline:none;resize:none;pointer-events:auto}.cY3H:focus{border-color:#498bff}.oTNrtBtu49{margin-top:8px;background-color:#498bff;border-radius:8px}.oTNrtBtu49:hover{background-color:#2e71e5}.SY8i8iyK8D{justify-content:center;color:#fff;font-size:14px;line-height:20px}.aLDv{padding:8px;color:#3a3d40;font-size:14px}.dwv9X{color:#a3acbf;font-size:14px;line-height:16px;word-break:break-word}.vnCFW1 .dwv9X,.C8GuC .dwv9X{padding:10px 8px}.BNMK .dwv9X{margin-right:15px;padding:6px 0 6px 8px}.kNruJP80Z .dwv9X{margin-right:15px}.dwv9X,.aLDv{font-weight:700;font-family:"+i(25).locals.AD_FONT+";line-height:16px}.GT7{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:background-color .1s ease-in;pointer-events:auto}.GT7:hover{background-color:#f4f8ff}.SDB9lp75{display:flex;flex-direction:column}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AbuseDisplay:"zDT",AbuseDisplay_visible:"BNABCJFNA",AbuseDisplay__fullSize:"tAyhgZbmVq",AbuseDisplay__content:"W38DS",AbuseDisplay__content_offsetBottom:"vT6FjRp6",AbuseDisplay__customReasonDisplayHeader:"H4mG7D8",AbuseDisplay__customReasonDisplayTextarea:"cY3H",AbuseDisplay__customReasonDisplayButton:"oTNrtBtu49",AbuseDisplay__customReasonDisplayButtonContent:"SY8i8iyK8D",AbuseDisplay__text:"aLDv",AbuseDisplay__hint:"dwv9X",AbuseDisplay__complaintDisplay:"vnCFW1",AbuseDisplay__hideDisplay:"C8GuC",AbuseDisplay__defaultDisplay:"BNMK",AbuseDisplay__customReasonDisplay:"kNruJP80Z",AbuseDisplay__arrowLeftIcon:"GT7",AbuseDisplay__messageBox:"SDB9lp75"}},function(e,t,i){"use strict";function n(e,t){const i={UrlParams:()=>v[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{for(const r of Object(o.a)(e)){var i,n;const e=null===(i=r.Ya)||void 0===i?void 0:null===(n=i.hardcodedParams)||void 0===n?void 0:n[t];if(e)return String(e)}}};for(const[n,r]of Object(d.a)(i)){const e=Object(A.a)(r);if(Object(l.a)(e))return Object(m.a)("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+n+"]"),e}}function r(e,t,i){const r=n(e,t);return r?Number(r):function(e){const t=100*Object(u.a)();let i=0;for(let n=0;n<e.length;n++)if(t<(i+=e[n].percent))return e[n].id;return e[0].id}(i)}var a=i(69),o=i(70),s=i(129),d=i(38),l=i(9),c=i(20),u=i(58),h=i(10);const p={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkmotionoldanimation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkthemeemptyactionbutton:0,adsdkabflags:0};Object(h.a)(p);var A=i(34),m=i(59);i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return r}));const v={},f=Object(s.a)(document);for(const{location:g}of f){const e=Object(c.c)(g);Object(a.a)(e,(e,t)=>{0===p[t]&&(v[t]=e)})}},function(e,t,i){"use strict";function n(){}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=function(e,t,i){let n=0;for(arguments.length<3&&(n=1,i=e[0]);n<e.length;n++)i=t(i,e[n],n,e);return i}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(56),r=i(92);const a=Object(r.a)(Array,"isArray"),o=Boolean(a)?e=>a.call(Array,e):e=>"Array"===Object(n.a)(e)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=document.createElement("a")},function(e,t,i){"use strict";function n(e){return"function"===typeof Object.entries?Object.entries(e):Object(r.a)(e).map(t=>[t,e[t]])}i.d(t,"a",(function(){return n}));var r=i(10)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(81);const{length:r}=n.a,a=r>0?n.a[r-1].ownerDocument.defaultView:window},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(44),r=i(3),a=i(29);const o=a.e||Object(n.a)(64);Object(r.a)((a.e?"Use existing SID":"Generate new SID")+" ["+o+"]")},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(70),r=i(12),a=i(78),o=i(121);const s=function(e){if(void 0===e&&(e=window),o.a)return o.a;const t=Object(n.a)(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=Object(a.a)(e,"ya.videoAd.encodeUrl");if(Object(r.a)(i))return i}}},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var r=i(128),a=i(33);const o=a.a,s=a.a;i.d(t,"a",(function(){return d}));const d=e=>{let{win:t,propertyName:i}=e;return{call:e=>Object(r.a)(n({win:t,propertyName:i},e)),subscribe:e=>s(n({win:t,propertyName:i},e)),wait:e=>(e=>{let{propertyName:t,win:i}=e;return new Promise(e=>{s({callback:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e(i)},propertyName:t,win:i})})})(n({win:t,propertyName:i},e)),waitUntil:e=>(e=>{let{propertyName:t,win:i,comparator:n}=e;return new Promise(e=>{s({propertyName:t,win:i,callback:function(){n(...arguments)&&e()}})})})(n({win:t,propertyName:i},e)),clear:e=>o(n({win:t,propertyName:i},e))}}},function(e,t,i){"use strict";function n(e,t,i){for(const n in e)Object(r.a)(e,n)&&t.call(i,e[n],n,e)}i.d(t,"a",(function(){return n}));var r=i(75)},function(e,t,i){"use strict";function n(e){let t="";for(let i=0;i<e;i++)t+=(16*Object(r.a)()|0).toString(16);return t}i.d(t,"a",(function(){return n}));var r=i(58)},function(e,t,i){"use strict";function n(e,t,i){var n,r,a,o,s,d,l;const c=null===(n=i.ya)||void 0===n?void 0:null===(r=n.videoAd)||void 0===r?void 0:null===(a=r.loadedModules)||void 0===a?void 0:a[e];return c||(void 0!==t?null===(o=i.ya)||void 0===o?void 0:null===(s=o.videoAd)||void 0===s?void 0:null===(d=s.modules)||void 0===d?void 0:null===(l=d[t])||void 0===l?void 0:l[e]:void 0)}function r(e){let{moduleName:t,version:i=s.b,onSuccess:r,onError:m,win:v,timeout:f}=e,b="loading";const _=Date.now(),O=Object(p.a)(Object(A.a)(e=>{b="success";const n=Date.now()-_;c.c.values({name:"ModuleLoaded",labels:{bundleName:t},data:{loaderVersion:s.a,bundleVersion:i},values:{timeSpent:n}}),r(e)},"LOAD_MODULE_CALLBACK_ERROR")),T=Object(p.a)(Object(A.a)(e=>{b="error",c.c.error({error:e}),m(e)},"LOAD_MODULE_CALLBACK_ERROR")),E=n(t,i,v);if(E)return O(E),h.a;const w=S({version:i,bundleName:t,win:v,ecmaVersion:g}),{promise:C,teardown:I}=P({src:w,win:v}),{promise:N,clear:D}=Object(a.a)(f),R=Object(u.a)({element:v,eventName:"unload",listener:()=>{T(new d.a({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:t,version:i,timeout:f}}))}}),k=()=>{R(),D()};return N.then(()=>{T(new d.a({code:"LOAD_MODULE_TIMEOUT",details:{moduleName:t,version:i,timeout:f}}))}),C.then(()=>{k();const e=n(t,i,v),r=y(t);e?(l.a&&o.a.logTimingAndLoadRum(r,w),O(e)):T(new d.a({code:"CANNOT_INIT_MODULE",details:{moduleName:t,version:i}}))}).catch(e=>{k(),T(new d.a(e,{code:"CANNOT_LOAD_MODULE",details:{moduleName:t,version:i}}))}),()=>{k(),I(),"loading"===b&&c.c.event({name:"LoadModuleTeardownCalled",data:void 0})}}var a=i(28),o=i(110),s=i(30),d=i(0),l=i(140),c=i(1),u=i(14),h=i(5),p=i(13),A=i(118),m=i(134);const v=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&Object(m.a)(e))(window);var f=i(119);const g=(()=>"ES2017"===f.a?"ES2017":"ES5"===f.a?"ES5":v?"ES2017":"ES5")();var b=i(141);const y=e=>b.b[e]+".bundle.js";var _=i(41),O=i(12),T=i(142),E=i(80);const S=e=>{let{bundleName:t,win:i,ecmaVersion:n,version:r}=e;const a=T.a[n],o=Object(_.a)(i),s=y(t),d=""+Object(E.a)(r)+a+"/"+s;return Object(O.a)(o)?o(d):d};var w=i(111),C=i(120);const I=e=>{var t;(e=>{e.crossOrigin="anonymous"})(e),null===(t=C.a.onBeforeLoad)||void 0===t||t.call(C.a,e)},P=e=>{let{src:t,win:i}=e;return Object(w.a)({src:t,onBeforeLoad:I,win:i})};i.d(t,"a",(function(){return N})),i.d(t,"b",(function(){return r}));const N=3e4},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(21);const r=[].find,a=Object(n.a)(r)?(e,t)=>r.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const n=e[i];if(t(n,i,e))return n}}},function(e,t,i){"use strict";function n(e){const t={};return e.forEach(e=>{let[i,n]=e;t[i]=n}),t}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){return void 0===e&&(e=window),void 0===u&&(u=function(e){void 0===e&&(e=window);return e.JSON&&Object(c.a)(e.JSON.stringify)&&Object(c.a)(e.JSON.parse)}(e)?e.JSON:{stringify:p("stringify"),parse:p("parse")}),u}function r(e){return n().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,n)=>{if(void 0!==e)try{e.set(i,n)}catch(r){t.push({path:n,value:i})}else t.push({path:n,value:i})},get:i=>{const n=Object(o.a)(t,e=>e.value===i);return void 0!==e&&void 0===n?e.get(i):n?n.path:void 0}}}();return(i,n)=>{if(Object(s.a)(n))return Object(m.a)(n.name)?n.name:"[Function]";if(!Object(A.a)(n))return n;const r=t.get(n);if(r)return"[Circular "+r+"]";for(;e.length>0&&e[e.length-1].value[i]!==n;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:n}),t.set(n,a),n}}())}var a=i(16),o=i(46),s=i(12),d=i(132),l=i(24),c=i(21);let u;const h=function(e){void 0===e&&(e=document.body);const t=function(e){const t=Object(d.a)(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>(function(e){e.src="",Object(l.a)(e)})(t)}},p=e=>t=>{const{JSON:i,clean:n}=h();try{return i[e](t)}finally{n()}};var A=i(2),m=i(17);const v={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0};i.d(t,"a",(function(){return g}));const f=i(170);class g extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||v.message)};super(),f(this,g.prototype),this.message=t.message||i.message||v.message,this.code=t.code||i.code||i.id||v.code,this.isFatal=Boolean(function(e){const[t]=Object(a.a)(e,e=>void 0!==e);return t}([t.isFatal,i.isFatal,v.isFatal])),this.details=t.details||i.details||v.details;const n=t.stack||i.stack||function(e){const{url:t,line:i,col:n,fileName:r,columnNumber:a,lineNumber:o}=e;return(t||r||"?")+":"+(i||o||"?")+":"+(n||a||"?")}(i);let o=n===v.stack?this.stack:n;if(o&&o!==v.stack)this.stack=o;else if(!this.stack)try{throw new Error(this.message)}catch(s){this.stack=o=s.stack||v.stack}this.toString=()=>r(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:o})}}},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var r=i(13),a=(i(168),i(7)),o=i(36),s=i(74),d=i(10),l=i(2),c=i(17);const u=(e,t)=>{if(!Object(l.a)(t))throw new Error("Parsed replaced macro is not an object: "+e);if(function(e){if(void 0!==e){if(!Object(c.a)(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0===e.length)throw new Error("testIdsString string is empty");for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[n,,r]=i;if(0===n.trim().length)throw new Error("testId length error ["+e+"]");if(0===r.trim().length)throw new Error("testId bucket length error ["+e+"]")}}}(t.testIds),!("flags"in t)||!Object(l.a)(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0},h=e=>{const t=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,["expFlags"]),i={};return Object(a.a)(e.expFlags,e=>{Object(a.a)(e,e=>{let{CONTEXT:{FLAGS:t}}=e;Object(l.a)(t)&&Object(a.a)(Object(d.a)(t),e=>{const n=t[e];i[e]=n})})}),n({flags:i},t)},p={testIds:"",flags:{}};const A=Object(r.a)(()=>{try{return __UAAS_CFG__}catch(e){return e}}),m=e=>{if(Object(s.a)(e))return{error:e,config:p};try{const t=Object(l.a)(e)?e:JSON.parse(""+(e||"")),i=(e=>!!Object(l.a)(e)&&(!!("expFlags"in e&&Object(o.a)(e.expFlags))&&!!("testIds"in e&&Object(c.a)(e.testIds))))(t)?h(t):t;if(!u(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:p}}},v=Object(r.a)(()=>m(A()));i.d(t,"a",(function(){return b})),i.d(t,"b",(function(){return y}));let f,g=p;try{const e=v();if(e.error)throw e.error;g=e.config}catch(_){f=_}const b=g,y=f},function(e,t,i){"use strict";var n=i(10),r=i(2),a=i(9),o=i(34);i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));const{rootFields:s,extractionError:d}=(e=>{let t,i;return{rootFields:t=Object(o.a)(()=>(e=>{var t,i;const o=null===e||void 0===e?void 0:null===(t=e.ya)||void 0===t?void 0:null===(i=t.videoAd)||void 0===i?void 0:i.statsRootParams;if(Object(r.a)(o)){const e={},{vsid:t,contentPlayerVersion:i,pcodeVersion:r,widgetVersion:s}=o;if(Object(a.a)(t)&&(e.vsid=t),Object(a.a)(i)&&(e.contentPlayerVersion=i),Object(a.a)(r)&&(e.pcodeVersion=r),Object(a.a)(s)&&(e.widgetVersion=s),Object(n.a)(e).length>0)return e}})(e),e=>{i=e})||void 0,extractionError:i}})(window),l=s,c=d},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,":root{}.rbDK8yB{all:revert!important}.AceEudO,.xUZnCqqZ{cursor:pointer!important}.xUZnCqqZ{min-width:5em!important;max-height:2.4em!important;margin-bottom:.7em!important;overflow:hidden!important;color:#000!important;font-size:1.5em!important;line-height:1.2em!important;text-align:left!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.AceEudO{position:relative!important;display:inline-block!important;box-sizing:border-box!important;min-width:10em!important;padding:.6em 1.2em .7em!important;color:#006aff!important;font-weight:300!important;font-size:1em!important;text-align:center!important;background-color:#e5f0ff!important;border-radius:.3em!important}.AceEudO:hover{background-color:#d9e9ff!important}.iydk4DkCgT{position:absolute!important;top:-15px!important;left:-15px!important;width:100%!important;height:100%!important;padding:15px!important}.xm3nR8nH{position:absolute!important;top:0!important;left:0!important;display:flex!important;width:100%!important;height:100%!important}.myjz{font-size:18px!important}.L4eA{z-index:1!important;display:none!important;overflow:hidden!important;font-family:Helvetica,Arial,sans-serif!important;opacity:0!important}.R9hu7b{position:absolute!important;top:9px!important;left:13px!important;display:flex!important;align-items:flex-end!important;color:#afc5cf!important;font-weight:700!important;font-size:12px!important;font-style:normal!important;line-height:14px!important;letter-spacing:.05em!important;text-transform:uppercase!important}.PkBi5k6z3 .xUZnCqqZ{color:#fff!important}.PkBi5k6z3 .AceEudO{color:#fff!important;background-color:#535c7a!important}.PkBi5k6z3 .AceEudO:hover{background-color:#5d6682!important}.g6e{position:absolute!important;top:0!important;right:0!important;z-index:2!important;box-sizing:content-box!important;padding:10px!important;cursor:pointer!important}.g6e,.g6e svg{width:12px!important;height:12px!important}.g6e svg{vertical-align:top!important}.MgLWixcwk .myjz{min-width:0!important;max-width:44vh!important;margin:0 3.5vh 0 3vh!important}.KnWf9H77q0.kDpqLK .L4eA{position:absolute!important;top:0!important;left:0!important;width:100%!important;height:32px!important}.nXdeWD86Hz .L4eA{display:block!important;opacity:0!important}.hMQxpYIF .L4eA{opacity:0!important}.KnWf9H77q0.orQ .L4eA{opacity:1!important}.hMQxpYIF .g6e,:not(.orQ) .g6e{display:none!important}.wBjyw,.KnWf9H77q0 .g6e{display:block!important}",""]),t.locals={reset:"rbDK8yB",yaInpageAdditionalContent__button:"AceEudO",yaInpageAdditionalContent__description:"xUZnCqqZ",yaInpageAdditionalContent__buttonClickableArea:"iydk4DkCgT",additionalContentWrapper:"xm3nR8nH",yaInpageAdditionalContent:"myjz",yaInpageAdditionalContentContainer:"L4eA",yaInpageAdditionalContent__adTitle:"R9hu7b",yaInpageAdditionalContent_dark:"PkBi5k6z3",yaInpageCross:"g6e","variant-covering":"MgLWixcwk",sticky:"KnWf9H77q0",flyroll:"kDpqLK",additionalContent__enabled:"nXdeWD86Hz",inline:"hMQxpYIF",isDetached:"orQ",covering:"wBjyw"}},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return v}));var r=i(35),a=i(39),o=(i(2),i(17)),s=i(20),d=i(49),l=i(29),c=i(32);const u=d.a.flags;const h=Object(s.d)(location.search).adsdkabflags,p=Object(c.b)(a.a,"adsdkabflags"),A=null!==h&&void 0!==h?h:p,m=Object(o.a)(A)?Object(r.a)(A.split(","),(e,t)=>{const[i,r]=t.split("=");return n({},e,{[i]:r})},{}):{},v=n({},{},u,l.a,m)},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".UyvaqLD{border-radius:16px;cursor:pointer;transition:background-color .1s ease-in;will-change:background-color}.UyvaqLD:not(.p81KJ),.p81KJ{background-color:rgba(35,37,38,.1)}.UyvaqLD:not(.p81KJ):hover,.p81KJ:hover{background-color:rgba(35,37,38,.4)}.NDDIV{transform:translate(12px,12px);will-change:transform}.rlptFeu8P{transform:rotate(45deg);opacity:0}.F7UZ3Y8V,.rlptFeu8P{transition:transform .1s ease-in,opacity .1s ease-in;will-change:transform,opacity}.p81KJ .F7UZ3Y8V{opacity:0}.p81KJ .rlptFeu8P{opacity:1}.p81KJ .svTC9eN{transform:translateY(6px)}.p81KJ .F4tXAKzMtP{transform:translateY(-6px)}.p81KJ .dTn3U0ElOL{transform:rotate(0deg)}.p81KJ .FNI61yzO{transform:rotate(90deg)}",""]),t.locals={AbuseAnimationIcon:"UyvaqLD",AbuseAnimationIcon_cross:"p81KJ",AbuseAnimationIcon__lines:"NDDIV",AbuseAnimationIcon__line:"rlptFeu8P",AbuseAnimationIcon__dot:"F7UZ3Y8V",AbuseAnimationIcon__dot_top:"svTC9eN",AbuseAnimationIcon__dot_bottom:"F4tXAKzMtP",AbuseAnimationIcon__line_left:"dTn3U0ElOL",AbuseAnimationIcon__line_right:"FNI61yzO"}},function(e,t,i){"use strict";function n(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){return Object(r.a)(e)&&Boolean(e.code)}i.d(t,"a",(function(){return n}));var r=i(90)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));const n={}.toString,r=/\[object (\w+)\]/,a=e=>{const t=n.call(e);if(!t)return null;const i=t.match(r);if(!i)return null;const a=i[1];return a||null}},function(e,t,i){"use strict";function n(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(t){return""}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";var n=i(21);const r=!Object(n.a)(Math.random)||Math.random()===Math.random();var a=i(117),o=i(12);const s="undefined"===typeof window?void 0:window.performance,d=s&&Object(o.a)(s.now),l=s&&s.timing&&s.timing.navigationStart?s.timing.navigationStart:Object(a.a)();let c=0;const u=d?()=>s.now():()=>(()=>{const e=Object(a.a)()-l;return c=Math.max(e,c)})(),h=2147483647,p=16807;let A=Date.now()*u()%h;const m=h-1;i.d(t,"a",(function(){return v}));const v=r?function(){return((A=A*p%h)-1)/m}:function(){return Math.random()}},function(e,t,i){"use strict";function n(e){Object(a.a)(console)&&Object(r.a)(console.warn)&&console.warn(e)}i.d(t,"a",(function(){return n}));var r=i(12),a=i(2)},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(46),r=i(63),a=i(87);let o=document.currentScript;if(!o){const e=Object(r.a)(document.getElementsByTagName("script"));(o=Object(n.a)(e,a.c))||(o=e[e.length-1])}const s=o},function(e,t,i){"use strict";function n(e,t){void 0===t&&(t=!0);const i=Object(r.a)(e);return i?!e[i]:t}i.d(t,"a",(function(){return n}));var r=i(136)},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".h9pvtcu3wQ{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;color:#fff;font-weight:300;font-family:"+i(25).locals.AD_FONT+";background-color:rgba(0,0,0,.8);pointer-events:auto}.TvWWH{position:absolute;top:45px;bottom:0;left:60px}.Hbjzr{position:relative;top:0;left:0;display:flex;flex-direction:column;justify-content:center}.eRbbZ{text-align:center}.xc9914Yiy{width:calc(100% + 8px);margin-left:-4px}.ohYA0unPtS{margin:1px 0}.z2wgWe{width:100%;height:100%}.dkXTEU{position:absolute;top:0;right:0;width:14px;height:14px;padding:8px;cursor:pointer}.Hz2M9krz{width:17px;height:17px;padding:9px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AbuseScreen:"h9pvtcu3wQ",AbuseScreen__content:"TvWWH",AbuseScreen__content_centered:"Hbjzr",AbuseScreen__title_centered:"eRbbZ",AbuseScreen__buttons:"xc9914Yiy",AbuseScreen__button:"ohYA0unPtS",AbuseScreen__cross:"z2wgWe",AbuseScreen__crossContainer:"dkXTEU",AbuseScreen__crossContainer_medium:"Hz2M9krz"}},function(e,t,i){"use strict";function n(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(41);const r=Object(n.a)(window)},function(e,t,i){"use strict";function n(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:n}=t;return i||n||0}(e)>0&&!d(e)}function r(e,t){if(!Object(c.a)(e.matchMedia))return!1;const i=e.matchMedia(t);return Object(u.a)(i)&&Boolean(i.matches)}function a(e){return void 0===e&&(e=window),n(e)||function(e){return r(e,p)}(e)||function(e){return r(e,A)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||Object(o.a)(e)}var o=i(130),s=i(77);const d=function(e){return void 0===e&&(e=window),Object(s.a)(e)>11};var l=i(6),c=i(12),u=i(2),h=i(89);const p=Object(l.a)(h.a,e=>"("+e+"any-pointer:coarse)").join(","),A=Object(l.a)(h.a,e=>"("+e+"touch-enabled)").join(",");var m=i(112),v=i(57);const f=function(e){void 0===e&&(e=window);const t=Object(v.a)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]};i.d(t,"a",(function(){return g}));const g=(void 0===b&&(b=window),f(b)||Object(m.a)(b)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&a(e)}(b));var b},function(e,t,i){"use strict";function n(e){const{src:t,win:i,onBeforeLoad:n=s.a}=e,d=new r.a({});let l=s.a;return{promise:new Promise((e,s)=>{const c=i.document.createElement("script");let u=!1;l=()=>{u=!0,Object(a.a)(c)};c.type="text/javascript",c.async=!0,c.onload=()=>{u||e()},c.onerror=e=>{u||(s(new r.a(d,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),l())},c.src=t,c.charset=o,n(c),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(c)}),teardown:l}}var r=i(48),a=i(24);const o="utf-8";var s=i(5);i.d(t,"a",(function(){return n}))},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".UEEiB{position:static}.ktOzUjQK8{display:flex;align-items:center;justify-content:center}.XjuWnH1MX6{position:relative;bottom:1px;margin-right:"+i(19).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN+"}.XjuWnH1MX6.iZfrq{margin-right:0}.hvsviAd7{margin-right:"+i(19).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN+"}.hvsviAd7.iZfrq{margin-right:0}.H8Y{display:flex;align-items:center;justify-content:center;width:"+i(19).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(19).locals.NORMAL_BUTTON_HEIGHT+"}.GK0ScT6kx{width:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}.bYp8rBPKP{width:29px;height:24px}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(19).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,NORMAL_BUTTON_LEFT_RIGHT_MARGIN:""+i(19).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN,MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:""+i(19).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN,UnmuteButton:"UEEiB",UnmuteButton__content:"ktOzUjQK8",UnmuteButton__text:"XjuWnH1MX6",UnmuteButton__without_text:"iZfrq",UnmuteButton__text_middle:"hvsviAd7",UnmuteButton__iconContainer:"H8Y",UnmuteButton__iconContainer_middle:"GK0ScT6kx",UnmuteButton__icon:"bYp8rBPKP"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"",""]),t.locals={AD_FONT_WEIGHT:"500"}},function(e,t,i){"use strict";var n=i(43);i.d(t,"a",(function(){return n.a}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(76);const r=e=>{const t=[];for(;e;)try{if(Object(n.a)(e),t.push(e),e.parent===e)break;e=e.parent}catch(i){break}return t}},function(e,t,i){"use strict";var n=i(6),r=i(81);i.d(t,"a",(function(){return a}));const a=function(){const e=Object(n.a)(r.a,e=>e.ownerDocument),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}()},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".vzWwQ7Uv{position:relative}.sZzTAt9CDP{cursor:pointer}.i1X{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.h9zBg{position:absolute;top:0;left:0}.f5j{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+i(25).locals.AD_FONT+"}.uSL{position:absolute;bottom:0;width:100%;height:2px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,PackshotScreen:"vzWwQ7Uv",PackshotScreen_clickable:"sZzTAt9CDP",PackshotScreen__buttonWrapper:"i1X",PackshotScreen__packshotOverlayWrapper:"h9zBg",PackshotScreen__textBlock:"f5j",PackshotScreen__timelineBarWrapper:"uSL"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".YwVfi{position:absolute;bottom:60px;left:0;display:flex;flex-direction:row;box-sizing:border-box;width:100%}.eKWBJWGhjX .YwVfi{top:50%;bottom:auto;transform:translateY(-50%)}.uZ814 .YwVfi{top:50%;bottom:auto;flex-direction:row-reverse;transform:translateY(-50%)}.XyjwoIFN .YwVfi{flex-direction:row-reverse}.DnOqc3Vpsf{position:relative;display:flex;flex:1 1;align-items:center;padding:0 5%}.NznuvfNNS1{position:relative;flex:0 0 auto;padding:0 .5em;pointer-events:auto}.rcjaBVZRe{position:absolute;top:50%;left:50%;z-index:0;overflow:hidden;transform:translateY(-50%) translateX(-50%)}",""]),t.locals={OldActionButton__body:"YwVfi",OldActionButton__bannerPosition_right_center:"eKWBJWGhjX",OldActionButton__bannerPosition_left_center:"uZ814",OldActionButton__bannerPosition_left_bottom:"XyjwoIFN",OldActionButton__context:"DnOqc3Vpsf",OldActionButton__buttonContainer:"NznuvfNNS1",OldActionButton__wrapper:"rcjaBVZRe"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(56);const r=e=>e instanceof Error||"Error"===Object(n.a)(e)},function(e,t,i){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const n=i(169),r=function(e){void 0===e&&(e=window);const t=n(e);return"boolean"===typeof t?-1:t}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(2);const r=(e,t)=>{for(const i of t.split(".")){if(!Object(n.a)(e)){e=void 0;break}e=e[i]}return e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=["aw","ap","s-a","d-sd","k-j","s"].join("")},function(e,t,i){"use strict";function n(e){return void 0===e&&(e=r.b),a.b||function(e){return o.a+"1.0-"+e+"/"}(e)}var r=i(30),a=i(27),o=i(143);i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(104);const r=Object(n.a)(document.documentElement)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return a}));var n=i(92);let r=function(e,t,i){e.attachEvent("on"+t,i)},a=function(e,t,i){e.detachEvent("on"+t,i)};Object(n.a)(document,"addEventListener")&&Object(n.a)(document,"removeEventListener")&&(r=function(e,t,i,r){const a=e&&Object(n.a)(e,"addEventListener");a&&a.call(e,t,i,r)},a=function(e,t,i,r){const a=e&&Object(n.a)(e,"removeEventListener");a&&a.call(e,t,i,r)})},function(e,t,i){"use strict";var n=i(39),r=i(106),a=i(107),o=i(71),s=i(20),d=i(146);i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return h}));const{topAncestor:l,isTrusted:c}=function(e){void 0===e&&(e=window);const t=Object(d.a)(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:l}=Object(a.a)(e.document),c=o.a?l:i,u=!o.a||Object(r.a)(n.a).length<2,{protocol:h,hostname:p,host:A,port:m}=Object(s.e)(c);return{topAncestor:Object(s.f)({protocol:h,hostname:p,host:A,port:m,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:u}}(),u=l,h=c},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".pDjek{font-family:"+i(25).locals.AD_FONT+"}.E5z{position:relative;min-width:42px;height:100%}.qhDivM{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;overflow:hidden;background-color:rgba(38,38,38,.65);border-radius:4px;cursor:pointer;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);pointer-events:auto}.LBOkb3KisC{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.tU70PJ1E4{display:flex;flex-wrap:nowrap;align-items:center;margin-left:40px;overflow:hidden}.D1C{margin-left:10px}.LBOkb3KisC img{border-radius:2px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,YoutubeLikeActionButton:"pDjek",YoutubeLikeActionButton__content:"E5z",YoutubeLikeActionButton__mask:"qhDivM",YoutubeLikeActionButton__favicon:"LBOkb3KisC",YoutubeLikeActionButton__wrapper:"tU70PJ1E4",YoutubeLikeActionButton__wrapper_wide:"D1C"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".K662SpB{width:100%}.fYkdAw{font-size:18px}.fYkdAw .mVz5bp{height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}.K662SpB:hover .T1Xz8PU{border-color:#fff}.T1Xz8PU{display:flex;align-items:center;justify-content:space-between;width:calc(100% - 20px);height:32px;padding:0 10px;color:#fff;font-weight:400;font-size:11px;white-space:nowrap;background-color:hsla(0,0%,100%,.2);border-radius:4px}.TZPS{width:calc(100% - 27px);height:40px;padding:0 12px 0 15px;font-size:13px}.Vrq{width:15px;height:15px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,AbuseVariantButton:"K662SpB",AbuseVariantButton_middle:"fYkdAw",AbuseVariantButton__basecontent:"mVz5bp",AbuseVariantButton__content:"T1Xz8PU",AbuseVariantButton__content_middle:"TZPS",AbuseVariantButton__icon_middle:"Vrq"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".GOZwTnDT{position:static;margin-left:auto}.cwM{position:relative;margin-left:4px}.HLFx58Oqk{position:relative;bottom:1px;display:flex;align-items:center;margin-left:8px}.iGF{position:relative;justify-content:center;width:35px;text-align:center}.fpSt{display:flex}.fpSt>span:first-child{width:16px;text-align:right}.rOiVhQwnwq{position:relative;top:0;width:19px;height:13px}",""]),t.locals={SkipButtonWithText:"GOZwTnDT",SkipButtonWithText__text:"cwM",SkipButtonWithText__content:"HLFx58Oqk",SkipButtonWithText__timeToSkipString:"iGF",SkipButtonWithText__digitsContainer:"fpSt",SkipButtonWithText__icon:"rOiVhQwnwq"}},function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return s}));var n=i(2);const r=e=>Object(n.a)(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__),a=(e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t},o=e=>e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__,s=e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(49),r=i(103);const a=n.a.isInternalNetwork||!1,o=Boolean(r.a)||a},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return r}));const n=["","webkit","moz","o","ms"],r=["","-webkit-","-ms-","-moz-","-o-"]},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return s}));var n=i(2),r=i(17);const a=e=>!!Object(n.a)(e)&&(!!Object(r.a)(e.name)&&!!Object(r.a)(e.message)),o=e=>({name:e.name,message:e.message,stack:e.stack}),s=e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t}},function(e,t,i){"use strict";function n(e,t,i){void 0===i&&(i=" ");const n=t-e.length;if(n>0){let t=i;for(;t.length<n;)t+=t;return(t.length>n?t.substr(0,n):t)+e}return e}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e,t){let i=e[t];if(!Object(r.a)(i)){const r=i;try{delete e[t];const n=e[t];"function"===typeof n&&(i=n),e[t]=r}catch(n){}}return i}i.d(t,"a",(function(){return n}));var r=i(21)},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,":root{}.rbDK8yB{all:revert!important}.gpp{display:flex!important;flex-grow:1!important;flex-shrink:1!important;align-items:center!important;justify-content:center!important;box-shadow:none!important}.N7J{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/z-index:10000!important}.FUYPk5Ah6i{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/box-sizing:content-box!important;border-radius:4px!important;box-shadow:0 12px 12px rgba(25,58,75,.1),0 4px 4px rgba(25,58,75,.05),0 0 4px rgba(25,58,75,.05)!important}.FUYPk5Ah6i .L4eA{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/position:absolute!important;top:0!important;left:0!important;width:100%!important;height:32px!important}.TDO{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/box-shadow:0 0 20px 20px rgba(96,109,128,.15)!important}.N3VZ{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/background-color:#fff!important}.QLXdtZX8{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/background-color:#283459!important}.Ct6qsXSEq{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/position:relative!important;z-index:2!important;flex-shrink:0!important;width:100%!important;height:100%!important;overflow:hidden!important;font-size:0!important}.jtQz{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/position:relative!important;display:flex!important;flex-grow:1!important;flex-shrink:1!important;align-items:stretch!important;visibility:hidden!important}.LKyDUSCKub{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/position:absolute!important;top:0!important;left:0!important;display:block!important;width:100%!important;height:100%!important;margin:0!important;padding:0!important}.ODFpHO,.n6d7n{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.ODFpHO{display:none;background-position:50%;background-size:cover}.HSB0X{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;margin:0!important;padding:0!important;overflow:hidden!important}.L4eA{z-index:1;display:none;overflow:hidden;font-family:Helvetica,Arial,sans-serif;opacity:0}.g6e{position:absolute;top:0;right:0;z-index:2;box-sizing:content-box;width:12px;height:12px;padding:10px;cursor:pointer}.g6e svg{width:12px;height:12px;vertical-align:top}.Am9B0zwL .myjz{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/min-width:0!important;max-width:44vh!important;margin:0 3.5vh 0 3vh!important}.myjz{font-size:18px}.R9hu7b{position:absolute;top:9px;left:13px;display:flex;align-items:flex-end;color:#afc5cf;font-weight:700;font-size:12px;font-style:normal;line-height:14px;letter-spacing:.05em;text-transform:uppercase}.AceEudO,.xUZnCqqZ{cursor:pointer}.xUZnCqqZ{min-width:5em;max-height:2.4em;margin-bottom:.7em;overflow:hidden;color:#000;font-size:1.5em;line-height:1.2em;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.AceEudO{position:relative;display:inline-block;box-sizing:border-box;min-width:10em;padding:.6em 1.2em .7em;color:#006aff;font-weight:300;font-size:1em;text-align:center;background-color:#e5f0ff;border-radius:.3em}.AceEudO:hover{background-color:#d9e9ff}.iydk4DkCgT{position:absolute;top:-15px;left:-15px;width:100%;height:100%;padding:15px}.PkBi5k6z3 .xUZnCqqZ{color:#fff}.PkBi5k6z3 .AceEudO{color:#fff;background-color:#535c7a}.PkBi5k6z3 .AceEudO:hover{background-color:#5d6682}.Am9B0zwL{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/transition:box-shadow .2s linear,background-color .2s linear,width .4s ease,height .4s ease,left .4s ease,top .4s ease,bottom .4s ease,right .4s ease!important;will-change:width,height,left,top,bottom,right!important}.DsaOapvi{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/transition:box-shadow .2s linear,background-color .2s linear,margin-top .2s linear,transform .4s ease!important}.Am9B0zwL .Ct6qsXSEq{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/transition:width .4s,height .4s!important;will-change:width,height!important}.uOig{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/transition:none!important}.L4eA{transition:opacity .2s}.alUosCZhg .L4eA{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/display:block!important;opacity:0!important}.gpp:not(.dWNMUZN) .L4eA,.RrhngDpNY .L4eA{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/opacity:0!important}.gpp:not(.dWNMUZN) .g6e,.RrhngDpNY .g6e{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/display:none!important}.JpBhMbC9K.dWNMUZN.DsaOapvi{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/margin-top:32px!important}.N7J .L4eA{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/opacity:1!important}.N7J .g6e{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/display:block!important}.TDO .Ct6qsXSEq{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/width:auto!important}.FUYPk5Ah6i{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/padding-top:32px!important;background-color:#ecf4f9!important}",""]),t.locals={reset:"rbDK8yB",yaInPageStickyWrapper:"gpp",yaInPageStickyWrapper__sticky:"N7J",yaInPageStickyWrapper__sticky__flyroll:"FUYPk5Ah6i",yaInpageAdditionalContentContainer:"L4eA",yaInPageStickyWrapper__sticky__covering:"TDO",yaInPageStickyWrapper__sticky__covering_color_scheme_light:"N3VZ",yaInPageStickyWrapper__sticky__covering_color_scheme_dark:"QLXdtZX8",yaInPageWrapper:"Ct6qsXSEq",yaInPagePlaceholderElement:"jtQz",InPageLayout__videoSlot:"LKyDUSCKub",InPageLayout__packshotContainer:"ODFpHO",InPageLayout__slot:"n6d7n",InPageLayout__videoSlotContainer:"HSB0X",yaInpageCross:"g6e",yaInPageStickyWrapper__variant__covering:"Am9B0zwL",yaInpageAdditionalContent:"myjz",yaInpageAdditionalContent__adTitle:"R9hu7b",yaInpageAdditionalContent__button:"AceEudO",yaInpageAdditionalContent__description:"xUZnCqqZ",yaInpageAdditionalContent__buttonClickableArea:"iydk4DkCgT",yaInpageAdditionalContent_dark:"PkBi5k6z3",yaInPageStickyWrapper__variant__flyroll:"DsaOapvi",yaInPageStickyWrapper__unAnimated:"uOig",yaInPageStickyWrapper__additionalContent_enabled:"alUosCZhg",yaInPageStickyWrapper__detached:"dWNMUZN",yaInPageStickyWrapper__inline:"RrhngDpNY",yaInPageStickyWrapper__isAnimating:"JpBhMbC9K"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".sx2oF{width:100%;transform-origin:0;will-change:transform}.sx2oF,.l9lst6{position:absolute;height:2px}.XKqLA{background-color:#ff1a2d;transform:scaleX(0)}.df6fy2tW{background-color:#cdcdcd;transform:scaleX(1)}",""]),t.locals={TimelineBar:"sx2oF",TimelineBar__container:"l9lst6",TimelineBar__progress:"XKqLA",TimelineBar__background:"df6fy2tW"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".XpOru{flex:1 1 0;margin-right:8px;color:#fff;font-weight:700;font-size:1em;font-family:"+i(25).locals.AD_FONT+";line-height:1.3}.hrAvdI8{line-height:1.3;-webkit-line-clamp:2}.Tr0Hr1htgm .hrAvdI8{font-size:.9em}.ykS44ULM{position:fixed;white-space:nowrap;visibility:hidden}.eZZs8dt{font-weight:400;font-size:.8em;white-space:-moz-pre-wrap;white-space:pre-wrap;white-space:-o-pre-wrap;word-break:break-all;-webkit-line-clamp:1}.eZZs8dt,.hrAvdI8{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,InfoBlock:"XpOru",InfoBlock__title:"hrAvdI8",InfoBlock_multiline:"Tr0Hr1htgm",InfoBlock__titleSpy:"ykS44ULM",InfoBlock__domain:"eZZs8dt"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.i(i(68),""),t.i(i(19),""),t.push([e.i,".uPiog2Ae{display:inline-block;color:#000;font-weight:"+i(68).locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+i(25).locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vzBT{cursor:pointer}.tqcUUN{text-decoration:none}.vzBT .JFOkcc{opacity:.915}.vzBT:hover .JFOkcc{opacity:1}.fuRJXv{padding:4px;pointer-events:auto}.JFOkcc{display:flex;align-items:center;height:"+i(19).locals.NORMAL_BUTTON_HEIGHT+";opacity:.6}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AD_FONT_WEIGHT:""+i(68).locals.AD_FONT_WEIGHT,NORMAL_BUTTON_HEIGHT:""+i(19).locals.NORMAL_BUTTON_HEIGHT,Button:"uPiog2Ae",Button_active:"vzBT",Button_link:"tqcUUN",Button__content:"JFOkcc",Button__clickable:"fuRJXv"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".Kkmww42{width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:background-color .1s ease-in}.KF8a3l0iN{display:flex;align-items:center;margin-right:13px}.Mz8UcreV{margin-left:auto}.Kkmww42:hover{background-color:#e5f2ff}.Kkmww42 .fuRJXv{padding:0}.NfcmBUcE{padding:8px}.RUXIH{height:auto;font-size:14px;line-height:16px}",""]),t.locals={AbuseOptionButton:"Kkmww42",AbuseOptionButton__leftIcon:"KF8a3l0iN",AbuseOptionButton__rightIcon:"Mz8UcreV",Button__clickable:"fuRJXv",AbuseOptionButton__clickable:"NfcmBUcE",AbuseOptionButton__content:"RUXIH"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".YoONjrk3jv{font-size:18px}.YoONjrk3jv .vxz5aov{height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}.F0Y{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.F0Y .ilChM183a8{position:relative;background-color:rgba(38,38,38,.3);border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.F0Y.dw9:hover .ilChM183a8{background-color:rgba(0,0,0,.65)}.dw9 .JFOkcc{opacity:1}.dw9 .ilChM183a8{background-color:rgba(38,38,38,.65)}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,SquareButton_middle:"YoONjrk3jv",SquareButton__basecontent:"vxz5aov",SquareButton:"F0Y",SquareButton__basebutton:"ilChM183a8",SquareButton_active:"dw9",Button__content:"JFOkcc"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".W6S2{position:static}.IzPk3O{width:29px;height:24px}.qTL,.etFH{display:flex;align-items:center;justify-content:center}.etFH{width:"+i(19).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(19).locals.NORMAL_BUTTON_HEIGHT+"}.VIkq{width:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(19).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,MuteButton:"W6S2",MuteButton__icon:"IzPk3O",MuteButton__content:"qTL",MuteButton__iconContainer:"etFH",MuteButton__iconContainer_middle:"VIkq"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".afYkZF{cursor:pointer}.ox0jK0{font-size:18px}.ox0jK0 .dQWlE{height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}.NbVzJW{width:60px;height:60px}.RUQosz05{width:80px;height:80px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,CirclePlayButton:"afYkZF",CirclePlayButton_middle:"ox0jK0",CirclePlayButton__basecontent:"dQWlE",CirclePlayButton__icon:"NbVzJW",CirclePlayButton__icon_middle:"RUQosz05"}},function(e,t,i){"use strict";function n(e){return r.a<e}i.d(t,"a",(function(){return n}));var r=i(102)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(58),r=i(29);const a=null!==r.c&&void 0!==r.c?r.c:Object(n.a)()},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(32);const r=Object(n.b)(window,"adsdkdebug")},function(e,t,i){"use strict";function n(e,t){if(void 0===t&&(t=!0),r.a&&t)return[];{const t=[];let n=e;for(;;)try{if(!(n=n.ownerDocument.defaultView.frameElement))return t;t.push(n)}catch(i){return t}}}i.d(t,"a",(function(){return n}));var r=i(65)},function(e,t,i){"use strict";function n(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Object(r.a)(e)&&e.forEach(e=>{"function"===typeof e&&e(...i)})}i.d(t,"a",(function(){return n}));var r=i(36)},function(e,t,i){"use strict";function n(e){let t=e;const i=[e],{top:n}=e;for(;t!==n;)t=t.parent,i.push(t);return i}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){let t="",i="";if(e){Object(r.a)(e).reverse().forEach(e=>{let{location:n,referrer:r}=e;t=t||n,i=i||r})}return{location:t,referrer:i}}i.d(t,"a",(function(){return n}));var r=i(129)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(29),r=i(49);const a=n.b||r.a.iCookie},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(29),r=i(49);const a=n.g||(null===r.a||void 0===r.a?void 0:r.a.testIds)||void 0},function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=i(22),a=i(130);const o=(void 0===s&&(s=window),Object(a.a)(s));var s,d=i(58),l=i(8);const c="production";var u=i(30),h=i(1),p=i(5),A=i(3);const m={idle:["initializing"],initializing:["initialized","disabled"]};var v=i(29);i.d(t,"a",(function(){return f}));const f=null!==v.d&&void 0!==v.d?v.d:new class{constructor(e){n(this,"state",new l.a({name:"idle"},(e,t)=>{const i=m[e.name];return!i||!Object(r.a)(i,t.name)||(Object(A.a)("RumWrapperClass: change state from ["+e.name+"] to ["+t.name+"]"),!1)})),n(this,"config",void 0),this.config=e,this.state.subscribeValueCondition(e=>"initializing"===e.name,()=>this.loadRum()),this.state.subscribeValueCondition(e=>"disabled"===e.name,()=>h.c.event({name:"RumIsDisabled",data:void 0}))}init(){this.state.dispatch({name:"initializing"})}logBundleTiming(e,t){const i=this.state.getValue();"disabled"!==i.name&&("initialized"===i.name?this.sendResTiming({name:e,src:t,state:i}):this.state.subscribeValueCondition(e=>"initialized"===e.name,i=>{this.sendResTiming({name:e,src:t,state:i})}))}logTimingAndLoadRum(e,t){"idle"===this.state.getValue().name&&this.init(),this.logBundleTiming(e,t)}isLoading(){return"initializing"===this.state.getValue().name}isLoaded(){return"initialized"===this.state.getValue().name}loadRum(){var e;let t=null===(e=this.config)||void 0===e?void 0:e.loadModule;t||(t=i(172).loadRumModule),t().then(e=>{this.initLoadedRum(e),e.isRumInited()?this.state.dispatch({name:"initialized",rum:e}):this.state.dispatch({name:"disabled"})}).catch(p.a)}initLoadedRum(e){const t={clck:"https://yandex.ru/clck/click",reqid:Date.now()+":adsdk:"+Object(d.a)(),scrollLatencyMetric:!0,sendAutoElementTiming:!0,isDevMode:!1},i=o?"touch":"desktop",n={rum_id:"ru.adsdk."+i,"-project":"adsdk","-page":window.location.host,"-version":u.a,"-platform":i,"-env":c,"-url":window.location.href,"-domain":window.location.host,"-blocker":void 0};e.init(t,n)}sendResTiming(e){let{state:t,name:i,src:n}=e;t.rum.sendResTiming(i,n)}}},function(e,t,i){"use strict";function n(e,t){void 0===t&&(t=window);const{hostname:i}=Object(s.e)(e),n=Object(o.a)(t);return n?-1===d.c.indexOf(i)?e:n(e):e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function a(e){const{src:t,win:i}=e;return Object(l.a)(r({},c.a,e,{src:n(t,i)}))}i(39),i(12);var o=i(41),s=i(20),d=i(23),l=i(66),c=i(120);i.d(t,"a",(function(){return a}))},function(e,t,i){"use strict";function n(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!r(e)}const r=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1};i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";var n=i(33),r=i(82);i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}));let a=!1,o=!1,s=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>a=!0}),Object.defineProperty(t,"passive",{get:()=>o=!0}),Object.defineProperty(t,"capture",{get:()=>s=!0}),Object(r.a)(e,"click",n.a,t)}}catch(d){}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".S5QY{position:static;margin-left:auto}.m0TIPQv5{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.KIJA{opacity:.5;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.TKK{width:17px}",""]),t.locals={SkipButtonSmall:"S5QY",SkipButtonSmall__content:"m0TIPQv5",SkipButtonSmall__disabled:"KIJA",SkipButtonSmall__timeToSkipString__icon:"TKK"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".xyMTZA{position:absolute;bottom:76px;left:0;padding-left:10px;overflow:hidden}.nVpY8r .xyMTZA{right:0;bottom:50%;left:auto;transform:translateY(50%)}.oNr2jsRCj .xyMTZA{bottom:50%;transform:translateY(50%)}.qsl4P7 .xyMTZA{right:0;left:auto}",""]),t.locals={SkinActionButton:"xyMTZA",SkinActionButton__position_right_center:"nVpY8r",SkinActionButton__position_left_center:"oNr2jsRCj",SkinActionButton__position_right_bottom:"qsl4P7"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.i(i(68),""),t.i(i(152),""),t.i(i(153),""),t.push([e.i,".WH4DtXvi{position:absolute;top:2px;left:6px;display:inline-block;padding:4px;color:#fff;font-weight:"+i(68).locals.AD_FONT_WEIGHT+";font-size:10px;font-family:"+i(25).locals.AD_FONT+";line-height:"+i(152).locals.AD_LABEL_SMALL_HEIGHT+";letter-spacing:1px;text-transform:uppercase;text-decoration:none;text-shadow:0 0 20px rgba(0,0,0,.2),1px 0 1px rgba(0,0,0,.1),0 1px 1px rgba(0,0,0,.1);transform-origin:bottom left;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.AqBo6yiO{top:4px}.JxYlinsL{top:4px;font-size:12px;line-height:"+i(153).locals.AD_LABEL_MIDDLE_HEIGHT+"}.AqBo6yiO.JxYlinsL{top:6px}.lHXWYDfRvu{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#fff}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AD_FONT_WEIGHT:""+i(68).locals.AD_FONT_WEIGHT,AD_LABEL_SMALL_HEIGHT:""+i(152).locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+i(153).locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"WH4DtXvi",AdLabel_withIcon:"AqBo6yiO",AdLabel_middle:"JxYlinsL",AdLabel_icon:"lHXWYDfRvu"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(12);const r=Date&&Object(n.a)(Date.now)?()=>Date.now():()=>(new Date).getTime()},function(e,t,i){"use strict";function n(e,t){return function(){try{e(...arguments)}catch(i){o.c.error({error:new a.a(i,{code:t})}),Object(r.a)(i)}}}i.d(t,"a",(function(){return n}));var r=i(26),a=i(0),o=i(1)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(32);const r=(""+Object(n.b)(window,"adsdkecmaver")).toUpperCase(),a="ES2017"===r||"ES5"===r?r:void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(139),r=i(87);const a={onBeforeLoad:e=>{Object(r.d)(e,n.a)}}},function(e,t,i){"use strict";var n=i(12),r=i(2);const a="__ADB_CONFIG__";i.d(t,"a",(function(){return s}));const o=Object(r.a)(a)&&a.fn&&Object(n.a)(a.fn.encodeUrl)?a.fn.encodeUrl:void 0,s=void 0!==o?e=>o(e):void 0},function(e,t,i){"use strict";function n(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}i.d(t,"a",(function(){return n}))},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".Kck{position:absolute;width:24px;height:24px;cursor:pointer;pointer-events:auto}.Kck:not(.bbmpgq09){top:8px;right:8px}.bbmpgq09{top:4px;right:4px}.pR31m6Jl{z-index:2}",""]),t.locals={AbuseBurgerButton:"Kck",AbuseBurgerButton_small:"bbmpgq09",AbuseBurgerButton_inFullSize:"pR31m6Jl"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.i(i(68),""),t.push([e.i,".LXq{display:inline-block;box-sizing:content-box;min-width:1em;min-height:1em;padding:0;overflow:hidden;color:#000;font-weight:"+i(68).locals.AD_FONT_WEIGHT+";font-size:inherit;font-family:"+i(25).locals.AD_FONT+";line-height:inherit;white-space:nowrap;text-align:center;text-decoration:none;text-overflow:ellipsis;background-color:#ffdc00;border:.05em solid transparent;border-radius:1em;outline:none;box-shadow:0 6px 8px rgba(255,220,0,.53);cursor:pointer}.w9i6EGAcM1{display:flex;align-items:center;justify-content:center;height:1em;padding:0 .3em}.z6j1ESrEI{display:inline;min-width:1em;min-height:1em;padding-right:.4em;font-size:.47em}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AD_FONT_WEIGHT:""+i(68).locals.AD_FONT_WEIGHT,ArrowButton:"LXq",ArrowButton__content:"w9i6EGAcM1",ArrowButton__textContent:"z6j1ESrEI"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".XLss3zXj{position:static}.hohh4azU{width:"+i(19).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(19).locals.NORMAL_BUTTON_HEIGHT+"}.WSvqKV{width:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(19).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,PauseButton:"XLss3zXj",PauseButton__icon:"hohh4azU",PauseButton__icon_middle:"WSvqKV"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".qtzGa{position:static}.DfFGFZ0DRv{width:"+i(19).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(19).locals.NORMAL_BUTTON_HEIGHT+"}.k9xJ{width:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(19).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,SquarePlayButton:"qtzGa",SquarePlayButton__icon:"DfFGFZ0DRv",SquarePlayButton__icon_middle:"k9xJ"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".kSK{position:absolute;top:0;right:0;width:30px;height:30px;cursor:pointer;pointer-events:auto}.kSK.CW1{width:35px;height:35px}.kSK .NjcmDrqLcu{width:30px;height:30px}.kSK.CW1 .NjcmDrqLcu{width:35px;height:35px}",""]),t.locals={AbuseButton:"kSK",AbuseButton_middle:"CW1",AbuseButton__icon:"NjcmDrqLcu"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i(70),i(105);const n=i(33).a},function(e,t,i){"use strict";function n(e){const t=Object(a.a)(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:Object(r.a)(e.defaultView),referrer:e.referrer}))}i.d(t,"a",(function(){return n}));var r=i(76),a=i(104)},function(e,t,i){"use strict";function n(e){return"ontouchstart"in e}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));class n{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const r=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new n({})),function(){const n=t.apply(this,arguments);if(i.has(n))return i.get(n);const r=e.apply(this,arguments);return i.set(n,r),r}}},function(e,t,i){"use strict";function n(e,t){let{content:i,size:n}=void 0===t?{}:t;const r=e.ownerDocument.createElement("iframe");r.scrolling="no",r.setAttribute("allowfullscreen",""),r.style.display="block",n&&(r.height=n.height,r.width=n.width),e.appendChild(r);const a=r.contentDocument;return a.open(),i&&a.write(i),a.close(),a.body.style.margin="0",r.style.borderWidth="0",r}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){const{method:t,url:i,async:c=!0,data:u,responseType:h="text",onBeforeSend:p=o.a,onRetry:A=o.a,checkStatus:m=(e=>d===e),headers:v={},xhrConstructor:f=XMLHttpRequest,retries:g=0,timeout:b=0,withCredentials:y,onAbort:_,onSetup:O}=e;if(!f)return;const T=e.onSuccess?Object(a.a)(e.onSuccess):o.a,E=e.onError?Object(a.a)(e.onError):o.a;let S,w=!1,C=0,I=e=>{w=!0,I=o.a,S=e,P(new Error("Abort request")),"function"===typeof _&&_(e)};const P=t=>{if(N.onerror=null,N.onreadystatechange=null,C&&clearTimeout(C),C&&N.readyState!==l||w)try{N.abort()}catch(t){}if(!w)if(g>0){const i=A(t,N);if("boolean"!==typeof i||Boolean(i)||I(),w)return;r(n({},e,{onSetup:e=>{let{abort:t}=e;I=e=>t(e),w&&t(S)},retries:g-1}))}else I=o.a,E(t,N)},N=new f;try{N.open(t,i,c)}catch(D){return void P(D)}if(N.responseType=h,N.withCredentials=Boolean(y),Object(s.a)(v,(e,t)=>{try{N.setRequestHeader(t,e)}catch(D){}}),b>0&&isFinite(b)&&(C=window.setTimeout(()=>{P(new Error("Request timeout, "+i))},b)),N.onerror=P,N.onreadystatechange=()=>{if(N.readyState===l){const{status:e}=N;m(e)?(I=o.a,clearTimeout(C),T(N)):P(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof O||(O({abort:e=>I(e)}),!w))&&(p(N,e),!w))try{N.send(u)}catch(D){P(D)}}i.d(t,"a",(function(){return r}));var a=i(54),o=i(33),s=i(43);const d=200,l=4},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(21);const r=e=>Object(n.a)(e.navigator.sendBeacon)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n="adsdk-test-tag"},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(29),r=i(50);const a=n.f||r.b||void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=r);for(let r=i;r<e.length;r++)if(n(e[r],t))return r;return-1},r=(e,t)=>e===t},function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i(52),r=i(137),a=i(108),o=i(109),s=i(110),d=i(40),l=i(102),c=i(147);const u={SID:d.a,VSID:c.a,VAS_USER_SESSION_RANDOM:l.a,AB_FLAGS:n.a,ICOOKIE:a.a,TEST_IDS:o.a,AdditionalStatsRootFields:r.a,RUM_WRAPPER:s.a}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(4),r=i(101);const a=Object(r.a)(n.a)},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return a}));const r={OverlayTGO:"overlay_tgo",MotionTGO:"motion_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",ThemeEmpty:"theme_empty"},a=n({},{InPage:"inpage",BannerAd:"banner_ad",VideoPlayer:"video_player",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},r)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n={ES5:"bundles",ES2017:"bundles-es2017"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(79);const r="https://"+i(23).b+"/"+n.a+"-bundles/"},function(e,t,i){"use strict";const n=i(70).a;i.d(t,"a",(function(){return r}));const r=function(e){const t=n(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window)},function(e,t,i){"use strict";function n(e){const t=[];for(const[i,n]of e){const e=r(n,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function r(e,t){return a(function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2),t)}function a(e,t){return Object(h.a)(e,t,"0")}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var s=i(64),d=i(12),l=i(7),c=i(6),u=i(2),h=i(91);class p{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(o({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const n=t+i,r=a(e.toString(2),n).substr(-n,i);return parseInt(r,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return Object(u.a)(e)&&Object(l.a)(this.getTemplate(),t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])},this),this}getProps(){return o({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return n((e=this.getTemplate(),t=this.props,Object(c.a)(e,e=>{let[i,n]=e;return[i,n&&t[n]||null]})))}slice(e,t){return p.sliceBits(this.serialize(),e,t)}}var A=i(30),m=i(27);i.d(t,"a",(function(){return f}));const v={AdSDKLoader:0,VpaidPlayerLoader:1,OldPythiaSurvey:4,AdLoader:11,BannerAd:12,InPage:13,VideoPlayer:15,Multiroll:16,VideoBannerAd:17,OverlayTGO:18,YaMusicAPI:19,MotionTGO:20,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,ThemeEmpty:26,Rum:27,Examples:30,Test:31,TestVpaid:31};const f=new class extends p{getTemplate(){return[[10,"VERSION"],[5,"BUNDLE"],[36,"UNUSED"],[1,"ADBLOCK"]]}defaults(){return{VERSION:A.a,BUNDLE:v[m.c],UNUSED:0,ADBLOCK:Object(d.a)(s.a)}}}},function(e,t,i){"use strict";function n(e){return r?Object(a.a)(e.location.ancestorOrigins):[]}const r=Boolean(window.location.ancestorOrigins);var a=i(63);i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";var n=i(44),r=i(91),a=i(30);const o="VAS",s=e=>Object(r.a)(String(e%Math.pow(10,4)),4,"0"),d=()=>Object(r.a)(Date.now().toString().slice(0,10),10,"0");var l=i(3),c=i(29);i.d(t,"a",(function(){return u}));const u=(null===c.f||void 0===c.f?void 0:c.f.vsid)||c.h||(void 0===h&&(h=a.a),[Object(n.a)(44),o,s(h),d()].join("x"));var h;Object(l.a)(((null===c.f||void 0===c.f?void 0:c.f.vsid)?"Use VSID from player":c.h?"Use VSID from session":"Generate new VSID")+" ["+u+"]")},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".lDsZS{display:inline-block;color:#000;font-size:16px;font-family:"+i(25).locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.UctukH{padding:10px 16px;line-height:16px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,PackshotButton:"lDsZS",PackshotButton__content:"UctukH"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".NXIjv5p1{display:flex;align-items:center;box-sizing:border-box;min-width:0;height:100%;padding:10px 0}.Kxm{display:flex;align-items:center;height:2.4em;padding:0 .5em;color:#000;font-weight:700;font-size:1em;font-family:"+i(25).locals.AD_FONT+";line-height:3;white-space:nowrap;background-color:#ffd500;border-radius:2px;cursor:pointer;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,ActionButton:"NXIjv5p1",ActionButton__content:"Kxm"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".sn7yF8Ru8{display:flex;flex-flow:column nowrap;max-height:calc(100% - 56px);padding:4px;overflow:hidden;font-size:16px;font-family:"+i(25).locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.cqXDasd81{margin:0 auto 2px;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:rgba(38,38,38,.65);border-radius:4px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,Subtitles__container:"sn7yF8Ru8",Subtitles__subtitle:"cqXDasd81"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".ggRkC5{position:absolute;right:6px;bottom:16px;left:6px;display:flex;flex-flow:column nowrap}.SGAT{display:flex}",""]),t.locals={BottomControls__container:"ggRkC5",ButtonControls:"SGAT"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_SMALL_HEIGHT:"18px"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_MIDDLE_HEIGHT:"20px"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(32);const r=Object(n.b)(window,"adsdktracelogs"),a=Boolean(r)||void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const n=function(e,t){void 0===e&&(e=document);const i=e.currentScript;if(i)return i;{const i=e.getElementsByTagName("script"),n=[];for(let e=0;e<i.length;e++)n.push(i[e]);if("function"===typeof t){const e=n.filter(t);return e[e.length-1]}return n[n.length-1]}}(),r=n?n.src:""},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".sYFwt1ayFC{background-color:#000;opacity:.5}",""]),t.locals={PackshotOverlay:"sYFwt1ayFC"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".zgH8gh{}",""]),t.locals={AbuseContainer:"zgH8gh"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".WluGKlZW2i{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={MuteIcon:"WluGKlZW2i"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".KIAA{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={UnmuteIcon:"KIAA"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".qApTTTF{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),t.locals={Timeline:"qApTTTF"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"@keyframes A8962Mw7MI{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.Pxg7g1r{animation-name:A8962Mw7MI;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),t.locals={SpinnerIcon__css_animated:"Pxg7g1r",spin:"A8962Mw7MI"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".jva{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),t.locals={Spinner:"jva"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".uyw{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),t.locals={CenterControls:"uyw"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".cxb3uZ{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}",""]),t.locals={VideoAvatar:"cxb3uZ"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".UeLgW{position:absolute;top:8px;left:8px;display:flex;justify-content:space-between}",""]),t.locals={TgoButtonControls:"UeLgW"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".bfLxxosGcW{position:absolute;top:10px;left:10px;display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+i(25).locals.AD_FONT+";text-decoration:none;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,SocialAdvertisingAdLabel:"bfLxxosGcW"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".DDSp{position:absolute;top:0;right:0;left:0}",""]),t.locals={TopControls:"DDSp"}},function(e,t){},function(e,t){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},function(e){e.exports={be:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},en:{adsdk:{ABUSE_ADS_TEXT:"Ad",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"Enter your message",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"Submit",ABUSE_IMPROVE_REASON_TEXT:"State the reason:",ABUSE_OPTION_ABOUT:"Ads on Yandex",ABUSE_OPTION_ALREADY_PURCHASED:"Already purchased",ABUSE_OPTION_ANOTHER_REASON:"Another reason",ABUSE_OPTION_COMPLAINT:"Report",ABUSE_OPTION_FALSE_INFO_SOCIAL:"Speculation",ABUSE_OPTION_HIDE:"Hide",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"Illegal goods or services",ABUSE_OPTION_NOT_INTERESTED:"Not interested",ABUSE_OPTION_OVERLAP_CONTENT:"Covers page content",ABUSE_OPTION_POLITICAL_SOCIAL:"Political ad",ABUSE_OPTION_SCAMMERS:"Scammers",ABUSE_OPTION_SEEN_TOO_OFTEN:"I see this ad too often",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"Shocking content",ABUSE_OPTION_UNPLEASANT_CONTENT:"I don't like it",ABUSE_SCREEN_DESCRIPTION:"We try to show you ads that match your interests. Tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_DESCRIPTION_SHORT:"Please tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_TITLE:"Report this ad",ABUSE_VARIANT_ANNOYING:"Intrusive or annoying",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"False information",ABUSE_VARIANT_NOT_INTERESTED:"I'm not interested in this",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"I'm not interested in this",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"Political ad",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"Shocking content",ABUSE_VARIANT_SPAM:"Inappropriate content or spam",ABUSE_VARIANT_SPAM_SHORT:"Looks like spam",AD_TITLE:"Ad",LEARN_MORE:"Learn more",MORE:"More",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Repeat",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sec",SKIP:"Skip",SKIP_TIME_LEFT:"Skip ad",SOCIAL_ADVERTISING_AD_LABEL:"Social ad",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"Read more",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"Read more on the website",THEME_EMPTY_ACTION_BUTTON_LABEL:"Go",TIME_LEFT:"Ad",UNMUTE:"Unmute",UNMUTE_INVITE:"Move mouse over ad<br>to hear sound",VISIT_SITE:"Go to advertiser\u2019s site",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},kk:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},ru:{adsdk:{ABUSE_ADS_TEXT:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",ABUSE_IMPROVE_REASON_TEXT:"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:",ABUSE_OPTION_ABOUT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435",ABUSE_OPTION_ALREADY_PURCHASED:"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e",ABUSE_OPTION_ANOTHER_REASON:"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430",ABUSE_OPTION_COMPLAINT:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f",ABUSE_OPTION_FALSE_INFO_SOCIAL:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_OPTION_HIDE:"\u0421\u043a\u0440\u044b\u0442\u044c",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430",ABUSE_OPTION_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442",ABUSE_OPTION_OVERLAP_CONTENT:"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_OPTION_POLITICAL_SOCIAL:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_OPTION_SCAMMERS:"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438",ABUSE_OPTION_SEEN_TOO_OFTEN:"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_OPTION_UNPLEASANT_CONTENT:"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e",ABUSE_SCREEN_DESCRIPTION:"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_DESCRIPTION_SHORT:"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_TITLE:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443",ABUSE_VARIANT_ANNOYING:"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_VARIANT_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_VARIANT_SPAM:"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c",ABUSE_VARIANT_SPAM_SHORT:"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c",AD_TITLE:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",LEARN_MORE:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",MORE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN_WITHOUT_DOMAIN:"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",MOTION_DIETARYSUPPL_DISCLAIMER:"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c",MOTION_DISTANCE_SALES:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.",MOTION_DRUG_DISCLAIMER:"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.",MOTION_HIDE_DISCLAIMER:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443",MOTION_SHOW_DISCLAIMER:"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",REPEAT:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",REWARDED_TIMER_1:"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b",REWARDED_TIMER_2:"\u0441\u0435\u043a",SECONDS:"\u0441\u0435\u043a",SKIP:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",SKIP_TIME_LEFT:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443",SOCIAL_ADVERTISING_AD_LABEL:"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",THEME_EMPTY_ACTION_BUTTON_LABEL:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",TIME_LEFT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",UNMUTE:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",UNMUTE_INVITE:"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",VISIT_SITE:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f",YANDEX_DIRECT:"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442",YANDEX_DIRECT_LINK:"https://direct.yandex.ru/?partner"}},tr:{adsdk:{ABUSE_ADS_TEXT:"Reklam",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"Mesaj\u0131n\u0131z\u0131 girin",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"G\xf6nder",ABUSE_IMPROVE_REASON_TEXT:"Nedenini a\xe7\u0131klay\u0131n:",ABUSE_OPTION_ABOUT:"Yandex'te reklam",ABUSE_OPTION_ALREADY_PURCHASED:"Zaten sat\u0131n al\u0131nd\u0131",ABUSE_OPTION_ANOTHER_REASON:"Ba\u015fka bir neden var",ABUSE_OPTION_COMPLAINT:"\u015eikayet et",ABUSE_OPTION_FALSE_INFO_SOCIAL:"Yanl\u0131\u015f bilgi",ABUSE_OPTION_HIDE:"Gizle",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"Yasad\u0131\u015f\u0131 mal/hizmet",ABUSE_OPTION_NOT_INTERESTED:"\u0130lgilenmiyorum",ABUSE_OPTION_OVERLAP_CONTENT:"\u0130\xe7eri\u011fin \xfczerini kapl\u0131yor",ABUSE_OPTION_POLITICAL_SOCIAL:"Siyasi i\xe7erikli reklam",ABUSE_OPTION_SCAMMERS:"Doland\u0131r\u0131c\u0131lar",ABUSE_OPTION_SEEN_TOO_OFTEN:"Bunu \xe7ok s\u0131k g\xf6r\xfcyorum",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"Rahats\u0131z edici i\xe7erik",ABUSE_OPTION_UNPLEASANT_CONTENT:"Ho\u015fuma gitmiyor",ABUSE_SCREEN_DESCRIPTION:"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_DESCRIPTION_SHORT:"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_TITLE:"Reklam\u0131 \u015fikayet et",ABUSE_VARIANT_ANNOYING:"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"Bu konuyla ilgilenmiyorum",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"G\xfcvenilir olmayan i\xe7erik veya spam",ABUSE_VARIANT_SPAM_SHORT:"Spam gibi g\xf6r\xfcn\xfcyor",AD_TITLE:"Reklam",LEARN_MORE:"Daha fazla bilgi edinin",MORE:"Daha fazla",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Tekrarla",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sn",SKIP:"Atla",SKIP_TIME_LEFT:"Reklam\u0131 atla",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"Reklam",UNMUTE:"Sesi a\xe7",UNMUTE_INVITE:"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin",VISIT_SITE:"Reklam verenin sitesine git",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uk:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uz:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}}}},function(e,t,i){"use strict";i.r(t),i.d(t,"loadRumModule",(function(){return r}));var n=i(45);const r=()=>new Promise((e,t)=>{Object(n.b)({moduleName:"Rum",version:void 0,onSuccess:t=>{e(t)},onError:t,win:window,timeout:n.a})})},function(e,t){Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],a=0;a<n;a++)if(t=i[a],e.call(r,t,a,i))return t})},function(e,t){e.exports={initMoatTracking:function(e,t,i,n){var r=document.createElement("script"),a={events:[],addEvent:function(e){s.sendEvent?(a.events&&(s.sendEvent(a.events),a.events=!1),s.sendEvent(e)):a.events.push(e)}},o=function(t){return function(){var n,r=-1;if(e&&e.getAdVolume&&(n=e.getAdVolume()),"number"==typeof n&&!isNaN(n)&&0<=n&&(r=n),a.addEvent({type:t,adVolume:r}),-1!==h.indexOf(t)&&e&&e.unsubscribe&&!u)for(var o in u=!0,c)if(c.hasOwnProperty&&c.hasOwnProperty(o))try{e.unsubscribe(c[o],o)}catch(i){}}},s={adData:{ids:i,vpaid:e,build:"cc07a80-clean"},dispatchEvent:a.addEvent};i="_moatApi"+Math.floor(1e8*Math.random());var d,l,c={AdStarted:o("AdStarted"),AdStopped:o("AdStopped"),AdSkipped:o("AdSkipped"),AdLoaded:o("AdLoaded"),AdLinearChange:o("AdLinearChange"),AdSizeChange:o("AdSizeChange"),AdExpandedChange:o("AdExpandedChange"),AdSkippableStateChange:o("AdSkippableStateChange"),AdDurationChange:o("AdDurationChange"),AdRemainingTimeChange:o("AdRemainingTimeChange"),AdVolumeChange:o("AdVolumeChange"),AdImpression:o("AdImpression"),AdClickThru:o("AdClickThru"),AdInteraction:o("AdInteraction"),AdVideoStart:o("AdVideoStart"),AdVideoFirstQuartile:o("AdVideoFirstQuartile"),AdVideoMidpoint:o("AdVideoMidpoint"),AdVideoThirdQuartile:o("AdVideoThirdQuartile"),AdVideoComplete:o("AdVideoComplete"),AdUserAcceptInvitation:o("AdUserAcceptInvitation"),AdUserMinimize:o("AdUserMinimize"),AdUserClose:o("AdUserClose"),AdPaused:o("AdPaused"),AdPlaying:o("AdPlaying"),AdError:o("AdError")},u=!1,h=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(e&&e.subscribe)for(var t in c)c.hasOwnProperty&&c.hasOwnProperty(t)&&e.subscribe(c[t],t)}();try{l=(d=t.ownerDocument).defaultView||d.parentWindow}catch(p){d=document,l=window}return l[i]=s,r.type="text/javascript",t&&t.insertBefore(r,t.childNodes[0]||null),r.src="https://z.moatads.com/"+n+"/moatvideo.js#"+i,s}}},function(e,t){!function(e){function t(){this.intersectionSupport=!!e.IntersectionObserver,this.intersectionRatio=-1,this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"}],this.audibilityFired=!1,this.secondsAudible=0,this.started=!1}function i(e){return e!=t.eventsMap.AdImpression||a?e==t.eventsMap.AdClickThru?"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=":"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn="+e+"&g.ra={{random}}&a.ycp={{siteID}}":(a=!0,"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}&a.ycp={{siteID}}")}function n(e,t){for(var i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{{"+i+"}}","g"),t[i]));return e}function r(e){(new Image).src=e}var a=!1;t.prototype.version=function(){console.log("[Viewability Observer JS] 2018.02.20")},t.VOLUME_ON="Audible",t.VOLUME_OFF="Inaudible",t.INITIALLY_ON="initially_unmuted",t.INITIALLY_OFF="initially_muted",t.FIRE_TIME=2e3,t.DELAY=250,t.ON_PAGE="OnPage",t.S_FRAME="SameDomainFrame",t.X_FRAME="CrossDomainFrame",t.VIEWABLE="Viewable",t.NOT_VIEWABLE="Unviewable",t.UNDETERMINED="Undetermined",t.VISIBILITY_RATIO=.5,t.USE_FOCUS=!0,t.eventsMap={AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"",AdImpressionYandex:"AdImpressionYandex",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdStopped:"stop",AdSkipped:"skip",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},t.audioEventsMap={AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete"},t.playerSizeParams={PlayerSmallDesktop:[0,480],PlayerNormalDesktop:[480,720],PlayerBigDesktop:[720,960],PlayerHugeDesktop:[960,0],PlayerSmallMobile:[0,260],PlayerNormalMobile:[260,320],PlayerBigMobile:[320,380],PlayerHugeMobile:[380,0]},t.prototype.hasFocus=function(){return("undefined"===this.realDocument.hidden||!0!==this.realDocument.hidden)&&(this.getPosition()===t.X_FRAME||"function"!==typeof this.realWindow.top.document.hasFocus||this.realWindow.top.document.hasFocus())},t.prototype.getPosition=function(){if(!this.position)if(e.top===this.realWindow)this.position=t.ON_PAGE;else{this.position=t.S_FRAME;try{for(var i=this.realWindow;i.parent!==i;){if(i.parent.document.domain!==i.document.domain){this.position=t.X_FRAME;break}i=i.parent}}catch(n){this.position=t.X_FRAME}}return this.position},t.prototype.init=function(e,a,o){this.rootElement=e,this.realDocument=this.rootElement.ownerDocument,this.realWindow=this.realDocument.defaultView||this.realDocument.parentWindow,this.adParameters=JSON.parse(a),this.adParameters.agi=Math.round(1e3*Math.random()),this.adParameters.random=Math.round(1e8*Math.random()),this.adParameters.protocol="https:",this.vpaidObject=o,this.volume=-1,this.completeDispatched=this.durationChecked=!1,e={cet:0,pg:0,ulv:0,dnn:0};try{if("undefined"!==typeof this.adParameters.cp){var s=decodeURIComponent(this.adParameters.cp).split("|");for(a=0;a<s.length;a++)if(s[a]){var d=s[a].split(":");e[d[0]]=2!=d.length||("undefined"!==typeof e[d[0]]?isNaN(parseInt(d[1],10))?e[d[0]]:parseInt(d[1],10):d[1])}}}catch(c){}for(var l in this.customParams=e,0<this.customParams.pg&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:2e3,useFocus:!0,name:"70and2"},{percent:.99,duration:2e3,useFocus:!0,name:"100and2"},{percent:.75,duration:5e3,useFocus:!0,name:"MRC75Prc"}]),0<this.customParams.ulv&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.5,duration:2e3,useFocus:!0,name:"visibility_2sec"},{percent:.5,duration:4e3,useFocus:!0,name:"visibility_4sec"},{percent:.5,duration:7e3,useFocus:!0,name:"visibility_7sec"},{percent:.5,duration:1e4,useFocus:!0,name:"visibility_10sec"},{percent:.5,duration:15e3,useFocus:!0,name:"visibility_15sec"},{percent:.5,duration:2e4,useFocus:!0,name:"visibility_20sec"},{percent:.5,duration:3e4,useFocus:!0,name:"visibility_30sec"}]),0<this.customParams.dnn&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:5e3,useFocus:!0,name:"MRC70"}]),r(n(i(this.getPosition()),this.adParameters)),t.eventsMap)t.eventsMap.hasOwnProperty(l)&&o.subscribe(this.onVPAIDEvent.bind(this,l),l);if(this.intersectionSupport)this.intersectionObserver=new IntersectionObserver(function(e){this.intersectionRatio=Math.round(100*e[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement);else if(this.getPosition()==t.X_FRAME)return r(n(i(this.observerData.shift().name+t.UNDETERMINED),this.adParameters)),!1},t.prototype.checkDuration=function(){if(this.vpaidObject&&"function"==typeof this.vpaidObject.getAdDuration&&this.vpaidObject.getAdDuration()){var e=Math.round(this.vpaidObject.getAdDuration());if(0<e){this.durationChecked=!0;for(var t=0;t<this.observerData.length;t++)this.observerData[t].duration>1e3*e&&(this.observerData.splice(t,1),t--)}else setTimeout(this.checkDuration,250)}},t.prototype.onVPAIDEvent=function(e){if(0<this.customParams.ulv&&!this.durationChecked&&"AdVideoStart"==e&&this.checkDuration(),"AdVideoStart"==e){this.onVPAIDEvent("AdImpression"),this.onVPAIDEvent("AdImpressionYandex"),this.started||(this.started=!0,this.updater=setInterval(t.updateTime.bind(this),t.DELAY),this.updaterAudibility=setInterval(t.updateTimeAudibility.bind(this),t.DELAY)),this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),r(n(i(c=this.volume>0?t.INITIALLY_ON:t.INITIALLY_OFF),this.adParameters));var a=t.playerSizeParams,o=parseFloat(this.vpaidObject.getAdWidth(),10);for(var s in a)if(a.hasOwnProperty(s)){var d=a[s];(!d[0]||o>=d[0])&&(!d[1]||o<d[1])&&r(n(i(s),this.adParameters))}}if("AdVideoComplete"==e){if(this.completeDispatched)return;if(this.completeDispatched=!0,0<this.customParams.pg)(l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS)).state===t.VIEWABLE&&r(n(i("AdVideoCompleteMRC"),this.adParameters))}if("AdClickThru"==e&&0<this.customParams.cet&&(0<(l=this.vpaidObject.getAdDuration()-this.vpaidObject.getAdRemainingTime())&&r(n(i("AdVideoClick"+parseInt(l,10)),this.adParameters))),"AdPaused"==e&&(clearInterval(this.updater),clearInterval(this.updaterAudibility)),-1!=["AdStopped","AdSkipped","AdUserClose"].indexOf(e)&&this.stop(),t.eventsMap.hasOwnProperty(e)){var l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS);r(n(i(t.eventsMap[e]),this.adParameters)),"AdImpression"!=e&&"AdImpressionYandex"!=e&&l.state&&r(n(i(e+l.state),this.adParameters))}if("AdVideoThirdQuartile"==e&&this.checkTwoSeconds(),t.audioEventsMap.hasOwnProperty(e)){this.volume=parseFloat(this.vpaidObject.getAdVolume(),10);var c=this.volume>0?t.VOLUME_ON:t.VOLUME_OFF;r(n(i(t.eventsMap[e]+c),this.adParameters))}},t.prototype.checkTwoSeconds=function(){if(!this.completeDispatched){var e=this.vpaidObject.getAdRemainingTime();if(0<e&&1.1>e)this.completeDispatched=!0,e=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS),0<this.customParams.pg&&e.state===t.VIEWABLE&&r(n(i("AdVideoCompleteMRC"),this.adParameters)),r(n(i(t.eventsMap.AdVideoComplete),this.adParameters)),e.state&&r(n(i("AdVideoComplete"+e.state),this.adParameters)),this.stop();else{var a=this;setTimeout((function(){a.checkTwoSeconds()}),250)}}},t.prototype.stop=function(){if(clearInterval(this.updater),clearInterval(this.updaterAudibility),this.started=!1,t.updateTime.call(this),this.observerData&&this.observerData.length)for(;this.observerData.length;)r(n(i(this.observerData.shift().name+t.NOT_VIEWABLE),this.adParameters));this.updater&&clearInterval(this.updater),this.audibilityFired||(this.audibilityFired=!0,r(n(i(t.VOLUME_OFF),this.adParameters)))},t.prototype.getViewAbility=function(i,n){if(this.intersectionSupport)return t.match(this.hasFocus(),n,this.intersectionRatio,i);if(this.getPosition()==t.X_FRAME)return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1};var r=this.realWindow,a=this.rootElement.getBoundingClientRect(),o=t.calculateArea(a,r);try{for(;r!==e.top;){var s=r.name||(r.name="wb-"+Math.round(1e6*Math.random()).toString(16));a=(r=r.parent).frames[s].frameElement.getBoundingClientRect(),o=Math.min(t.calculateArea(a,r),o)}}catch(d){return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1}}return t.match(this.hasFocus(),n,o,i)},t.updateTime=function(){var e=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var a=[],o=0;o<this.observerData.length;o++){var s=this.observerData[o];s.timeInView=(!s.useFocus||e.focus)&&e.percent>=s.percent?t.DELAY+(s.timeInView||0):0,s.timeInView>=s.duration?r(n(i(s.name+t.VIEWABLE),this.adParameters)):a.push(s)}this.observerData=a},t.updateTimeAudibility=function(){if(this.audibilityFired)return clearInterval(this.updaterAudibility);this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),this.volume<=0||isNaN(this.volume)?this.secondsAudible=0:this.secondsAudible+=t.DELAY,this.secondsAudible>=t.FIRE_TIME&&(this.audibilityFired=!0,r(n(i(t.VOLUME_ON),this.adParameters)))},t.match=function(e,i,n,r){var a=t.NOT_VIEWABLE;return(e||!i)&&n>=r&&(a=t.VIEWABLE),{state:a,focus:e,percent:n}},t.calculateArea=function(e,t){var i=e.width*e.height,n=e.width,r=e.height;return 0>e.top&&(r+=e.top),e.bottom>t.innerHeight&&(r-=e.bottom-t.innerHeight),0>e.left&&(n+=e.left),e.right>t.innerWidth&&(n-=e.right-t.innerWidth),n*r/i},e.WBViewAbility=t}(window)},function(e,t,i){"use strict";function n(e,t,i,n,r,a,o){var s,d,l=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:a},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:o};t="_moatApi"+Math.floor(1e8*Math.random());try{d=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,d=window}return d[t]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+r+"/moat/"+n+"/moatvideo.js#"+t,u}i.r(t),i.d(t,"initMoatTracking",(function(){return n}))},function(e,t){e.exports='<svg width=\'100%\' height=\'100%\' viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 1L13 13" stroke="#AFC5CF" stroke-width="2"/>\n<path d="M1 13L13 1" stroke="#AFC5CF" stroke-width="2"/>\n</svg>\n'},function(e,t,i){"use strict";function n(e,t){return t===e.substring(e.length-t.length)}function r(e){const{hostname:t}=Object(rs.e)(e);return t===as||n(t,"."+as)}function a(e){if(!e)return!1;const{hostname:t}=Object(rs.e)(e);return!(!t||0===t.length)&&os(ds,e=>e===t||n(t,"."+e))}function o(e){(new Image).src=e}function s(e,t){if(a(e)||r(e)){if(function(e,t){return!!cs&&window.navigator.sendBeacon(e,t)}(e,t))return}else a(e)&&Qo.c.event({name:"TrackYandexUrlWithImage",data:{url:e},probability:Xo.c});o(e)}function d(e){return"number"===typeof e&&isFinite(e)}function l(e){return"number"===typeof e&&isFinite(e)&&e>0}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function u(e){const t=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(Object(hs.a)(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:n}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:n}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?c({},As,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):As}(e),{droppedVideoFrames:i,totalVideoFrames:n}=t;let r=ms.droppedVideoFramesRatio;return l(n)&&d(i)&&(r=i/n),c({},t,{droppedVideoFramesRatio:r})}function h(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function A(e){let{url:t,options:i,ignoreAbd:n=!1,win:o}=e;if(Object(_s.a)(bs.a)&&!n)return t;if(!a(t)&&!r(t))return t;const s=Math.round(100*i.visibility),d=Math.round(i.size.width),l=Math.round(i.size.height),c=Math.round(100*i.videoVolume),u=Math.round(i.videoAvatarSize.width),h=Math.round(i.videoAvatarSize.height);return Object(rs.b)(t,{[ws]:String(Fs.a),[Cs]:Hs.c,[Is]:String(s),[Ps]:String(d),[Ns]:String(l),[Ds]:String(u),[Rs]:String(h),[Ts.a]:String(ud.a.serialize()),[ks]:ld(),[Vs]:Os.a,[Us]:cd(o),[Ls]:ys.b,[js]:ys.a?"0":"1",[Es]:String(Date.now()),[Ss]:String((new Date).getTimezoneOffset()),[Bs]:Ad?"0":"1",[Ms]:String(c),[xs]:i.videoMuted?"1":"0"},{override:!1})}function m(e){let{error:t,trackingUrls:i}=e;Object($o.a)("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=Object(is.a)(e,e=>A({url:e,options:gs,win:window}));Object(ts.a)(t,e=>s(e))}(i)}function v(e,t){void 0===t&&(t=[]),Qo.c.errorToStats(e),m({error:e,trackingUrls:t})}function f(e,t,i,n){function r(){null!==a&&clearTimeout(a),a=null}3===arguments.length&&"boolean"!==typeof i&&(n=i,i=!1);let a=null;const o=function(){const o=arguments;n=n||this,i&&null===a&&e.apply(n,o),r(),a=window.setTimeout((function(){i||e.apply(n,o),a=null}),t)};return o.cancel=r,o}function g(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}function b(e){const t={};for(const i in e)Object(gd.a)(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function y(e,t){const i={};return Object(bd.a)(e).forEach(n=>{i[n]=t(e[n],n)}),i}function _(e,t){return void 0===t&&(t=1e6),function(e){let t="",i=0;for(;i<e.length;){const n=e.charCodeAt(i++),r=e.charCodeAt(i++),a=e.charCodeAt(i++),o=n>>2,s=(3&n)<<4|r>>4;let d=(15&r)<<2|a>>6,l=63&a;isNaN(r)?d=l=64:isNaN(a)&&(l=64),t=t+Vd.charAt(o)+Vd.charAt(s)+Vd.charAt(d)+Vd.charAt(l)}return t}(function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);let a;if(r<128?a=String.fromCharCode(r):r>127&&r<2048?(a=String.fromCharCode(r>>6|192),a+=String.fromCharCode(63&r|128)):(a=String.fromCharCode(r>>12|224),a+=String.fromCharCode(r>>6&63|128),a+=String.fromCharCode(63&r|128)),i.length+a.length>t)break;i+=a}return i}(e,3*t/4|0))}function O(e){return function(e){const t=[];let i=0;for(;i<e.length;){const n=e.charCodeAt(i);if(n<128)t.push(String.fromCharCode(n)),i++;else if(n>191&&n<224){const r=e.charCodeAt(i+1);t.push(String.fromCharCode((31&n)<<6|63&r)),i+=2}else{const r=e.charCodeAt(i+1),a=e.charCodeAt(i+2);t.push(String.fromCharCode((15&n)<<12|(63&r)<<6|63&a)),i+=3}}return t.join("")}(function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const n=Vd.indexOf(e.charAt(i++)),r=Vd.indexOf(e.charAt(i++)),a=Vd.indexOf(e.charAt(i++)),o=Vd.indexOf(e.charAt(i++)),s=n<<2|r>>4,d=(15&r)<<4|a>>2,l=(3&a)<<6|o;t.push(String.fromCharCode(s)),64!==a&&t.push(String.fromCharCode(d)),64!==o&&t.push(String.fromCharCode(l))}return t.join("")}(e))}function T(e,t){const i=e.style;for(const n in t)if(t.hasOwnProperty(n)){i[al(n)]=t[n]}}function E(e,t){Object(bd.a)(t).forEach(i=>{const n=t[i];null===n?e.removeAttribute(i):e.setAttribute(i,n)})}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function D(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function R(e){return[].concat.apply([],e)}function k(e,t){const i=[],n=[];return Object(ts.a)(e,(r,a)=>{t(r,a,e)?i.push(r):n.push(r)}),[i,n]}function V(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function B(e){if(void 0===e||null===e)return"";const{documentElement:t}=e,{tagName:i}=t;return"string"===typeof i?i:""}function L(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var n;const i=e.getAttribute(t);return null!==(n=null===i||void 0===i?void 0:i.trim())&&void 0!==n?n:""}return i}function j(e){var t,i;return null!==(t=null===e||void 0===e?void 0:null===(i=e.textContent)||void 0===i?void 0:i.trim())&&void 0!==t?t:""}function M(e){return Boolean(e&&j(e).length)}function x(e){try{return Object(Zd.a)(e)?JSON.parse(e):void 0}catch(t){return}}function U(e){const t=parseInt(L(e,"width",0),10),i=parseInt(L(e,"height",0),10),n=parseInt(L(e,"bitrate",0),10),r=L(e,"minBitrate",""),a=r?parseInt(r,10):void 0,o=L(e,"maxBitrate",""),s=o?parseInt(o,10):void 0,d=L(e,"codec",""),c={width:t,height:i,bitrate:n,type:L(e,"type"),url:j(e)};return Object(ml.a)(d)&&(c.codec=d),l(a)&&(c.minBitrate=a),l(s)&&(c.maxBitrate=s),l(a)&&l(s)&&a>s&&Qo.c.error({error:new Jo.a({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:c}})}),c.url?c.type?c:(Qo.c.error({error:new Jo.a({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:c}})}),null):(Qo.c.error({error:new Jo.a({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:c}})}),null)}function F(e){const t=e.querySelector("StaticResource");return{width:parseInt(L(e,"width",0),10),height:parseInt(L(e,"height",0),10),type:t?L(t,"creativeType"):null,url:t?j(t):"",bitrate:0,minBitrate:void 0,maxBitrate:void 0}}function H(e){const t={};return Object(hs.a)(e)&&Object(ts.a)(Object(bd.a)(e),i=>{const n=e[i];Array.isArray(n)&&(t[i]=Object(Pd.a)(n,e=>"string"===typeof e))}),t}function W(){const e={};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return Object(ts.a)(i,t=>{Object(ts.a)(Object(bd.a)(t),i=>{const n=e[i]||[],r=t[i]||[];e[i]=[...n,...r]})}),e}function z(e){if(void 0===e)return;const t=Number(e);return l(t)?t:void 0}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Y(e){const t=Hl(ec);if(!Object(hs.a)(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};if(i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),Object(hs.a)(e.controlsSettings))if(Object(hs.a)(e.controlsSettings.controlsVisibility)&&Object(Jl.a)(e.controlsSettings.controlsVisibility,(e,i)=>{Zl.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)}),Object(hs.a)(!1===e.controlsSettings.visibility)&&(t.controlsVisibility=G({},$l)),Object(ml.a)(e.controlsSettings.controlsVariant)){const{controlsVariant:i}=e.controlsSettings;"regular"===i?t.controlsVariant="regular":"banner"===i?t.controlsVariant="banner":Qo.c.error({error:new Jo.a({code:"INCORRECT_CONTROLS_VARIANT",details:{variant:i}})})}else t.controlsVariant="regular";return delete t.visibility,t}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function K(e){const{packshotSettings:t}=e;if(!Object(hs.a)(t))return tc;const{isEnabled:i}=t;return q({},tc,{isEnabled:!1!==i&&void 0})}function X(e){const t=Object(hs.a)(e)?e:{},i=[],n="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,Kl):void 0;let r;return void 0!==t.skipDelay&&(d(t.skipDelay)&&t.skipDelay>=0?r=t.skipDelay:i.push(new Jo.a({code:"INCORRECT_SKIP_DELAY_FORMAT",details:{value:t.skipDelay,stringValue:String(t.skipDelay),type:typeof t.skipDelay}}))),{config:{autoplay:void 0===t.autoplay?void 0:Boolean(t.autoplay),pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),showGuiForVpaid:"boolean"===typeof t.showGuiForVpaid?t.showGuiForVpaid:void 0,backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,skipDelay:r,videoTimeout:l(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:l(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:n,bufferEmptyLimit:l(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?H(t.trackingEvents):{},controlsSettings:Y(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:z(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:Ed,packshotSettings:K(t)},errors:i}}function J(e){return"string"!==typeof e?NaN:Object(Dd.a)(e.split(":").reverse(),(e,t,i)=>e+parseFloat(t)*60**i,0)}function Q(e){if(e.indexOf("%")>-1){const t=parseFloat(e);return d(t)?{unit:"portion",value:t/100}:void 0}const t=J(e);if(d(t))return{unit:"seconds",value:t}}function Z(e){return"number"===typeof e&&isFinite(e)&&e>=0}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ie(e){let{url:t,data:i,timeout:n,doRequest:r=cc,withCredentials:a}=e;return new Promise(async(e,o)=>{"https:"===window.location.protocol&&(t=function(e){return lc.a.href=e,lc.a.protocol="https:",lc.a.href}(t));const s=dc(n),d=r({url:t,data:i,withCredentials:a});try{const t=await Promise.race([d,s]);if(t){return e(te({},t,{xml:V(t.responseText)}))}return o({reason:"timeout",error:new Error("XHR Timeout")})}catch(l){return o(l)}})}function ne(e){Object(ts.a)(e,e=>Qo.c.error({error:e}))}function re(e,t){let i=!1;const n=function(){const n=i?t:e;return i=!0,n.apply(this,arguments)};return function(){return n.apply(this,arguments)}}function ae(e){let{win:t,methodName:i,data:n,id:r}=e;t.postMessage({methodName:i,data:n,id:r},"*")}function oe(e){const t=Object.values;if("function"===typeof t)return t(e);{const t=[];for(const i in e)Object(gd.a)(e,i)&&t.push(e[i]);return t}}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function le(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ce(e,t){const i=window,n=i.document;if(t&&(r=function(e){return e.location.host}(i))&&r&&0!==r.length&&os(Ec,e=>e===r||function(e,t){return t===e.substring(e.length-t.length)}(r,"."+e)))return t;var r;let a=ue(e,n);if("t\n"===a&&i.top!==i.self)try{a=ue(e,i.parent.document)}catch(o){}return _(a,e)}function ue(e,t){const i=[];let n=0;i.push("t"+(t.title||"")),n+=i[0].length;for(let r=1;r<4&&n<e;r++){const e=t.getElementsByTagName("h"+r),a=e.length;for(let t=0;t<a;t++){const a=he(e[t]);n+=a.length,i.push(""+r+a)}}return i.join("\n")+"\n"}function he(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function pe(e){let t;try{t=JSON.stringify(e)}catch(i){}return t}function Ae(e){return Boolean(e.YA_TURBO_PAGES)}function me(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function ve(e){void 0===e&&(e=window);let t="";const i=e.context,n=e.Ya;return me(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():n&&n.Context&&n.Context.AdvManager&&n.Context.AdvManager.getSkipToken&&(t=n.Context.AdvManager.getSkipToken()),t}function fe(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case Pc.BLUETOOTH:return 3;case Ic.CELL_2G:return.384;case Ic.CELL_3G:case Pc.CELLULAR:return 2;case Pc.WIMAX:return 37;case Pc.NONE:return 0;case Ic.ETHERNET:case Pc.ETHERNET:case Ic.WIFI:case Pc.WIFI:case Pc.MIXED:return 10;case Ic.UNKNOWN:case Pc.UNKNOWN:case Pc.OTHER:}return-1}function ge(){const e={width:window.innerWidth,height:window.innerHeight},t=Cc(),i={win_width:Nc(e.width),win_height:Nc(e.height),pixel_ratio:Sc(),bandwidth:fe()};return t&&(i.quirks=t),i}function be(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return kc()+e}function ye(e){return void 0===e&&(e=window),String(e.location)}function _e(e){return void 0===e&&(e=window),_(jc(e.document,"_ym_uid")||"")}function Oe(e){return void 0===e&&(e=window),e.location.hostname}function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Se(e,t){void 0===t&&(t="");const{params:i,bids:n,matchIdDirect:r=!1,reloadCounter:a}=e,o=Ee({},function(e){const t=e.win||window,i=void 0===e.isTurbo?Ae(t):e.isTurbo,n=os(Fc,e=>e.test(t.location.hostname));return xc(Ee({},e,{win:t,isTurbo:i,addsSsSkipToken:n}))}(e),i||{},r?{"matchid-direct":1}:{},{"enable-page-options":65536});if(Object(ts.a)(Hc,e=>{o[e]=void 0}),o.pk)try{o.pk=decodeURIComponent(o.pk)}catch(s){}if(n){const e=n.map(e=>Ee({},e,{placement_id:e.placement_id?String(e.placement_id):void 0}));e.toJSON&&(e.toJSON=void 0),o.bids=_(pe(e)||"")}return o.grab=ce(Uc-t.length),o.utf8="\u2713",a&&(o.adf_refresh=a),o}function we(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:n,ownerId:r,domain:a=Wc}=e;return"https://"+a+("/"+r+"/"+(t=n?"getBulk/v2":i?"getCodeTest":"prepareCode"))}(e);return{base:t,queryParams:Se(e,t)}}function Ce(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Pe(e,t){const i=Object(Kd.a)(window);let n;try{n=function(e){const{base:t,queryParams:i}=we(e);return Object(rs.b)(t,i)}(Ie({},e,{layoutConfig:new Dc,useXhr:!0,domain:zc}))}catch(a){throw new Jo.a(a,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!Ce(n))throw new Jo.a({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const r=A({url:n,options:t,ignoreAbd:!0,win:window});return i?i(r):r}async function Ne(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:n}=e;const r=Pe(t,i),a=Tc({secureMode:n,url:r})?Ml:cc;try{const e=await a({url:r,withCredentials:!0});if(200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=x(e),i=[];if(!Object(hs.a)(t))throw new Jo.a({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{error:n,data:r}=t;if(Array.isArray(n)&&n.length>0)throw new Jo.a({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}});if(!Array.isArray(r))throw new Jo.a({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const a=Object(Pd.a)(r,(e,n)=>{if(!Object(hs.a)(e)||!Object(hs.a)(e.attributes))return i.push(new Jo.a({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:n}})),!1;const{campaignId:r,vastBase64:a}=e.attributes;return"string"===typeof a&&a.length>0||("string"===typeof r&&r.length>0||(i.push(new Jo.a({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:n}})),!1))});if(0===a.length)throw new Jo.a({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return a.length>1&&i.push(new Jo.a({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:a[0].attributes,errors:i}}(e.responseText);return ne(i),t}catch(o){if(Object(Fd.a)(o))throw o;throw new Jo.a(o,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:r}})}}function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Re(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ke(e){return e.split("?")[0].split("#")[0]===Qc}function Ve(e){return!!Object(hs.a)(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function Be(e,t){if(!("video-banner_theme_empty"===e||"video-banner_theme_caucasus"===e||"video-banner_theme_moroz"===e||"video-banner_theme_lake"===e))return!1;if(!Object(hs.a)(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!Object(hs.a)(i))return!1;const{data_params:n}=i;if(!Object(hs.a)(n))return!1;const{misc:r}=n;if(!Object(hs.a)(r))return!1;const{layout_type:a}=r;return"clickable_video"===a}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Me(e){let t;try{t=JSON.parse(e)}catch(u){throw new Jo.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_INVALID_JSON",details:{adParametersString:e}})}if(!Object(hs.a)(t))throw new Jo.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersString:e}});const{mediaFiles:i}=t;if(!Object(Nd.a)(i)||0===i.length)return{url:du,isNonLinear:!1,adFormatType:"motion",isOldVastFormat:!0};const[n]=i;if(!Ve(n))throw new Jo.a({code:"FIRST_MEDIA_FILE_IN_AD_PARAMETERS_IS_INVALID",details:{adParametersString:e}});const r=function(e){const{type:t}=e;return t===iu.Overlay?"OverlayTGO":t===iu.Motion?"MotionTGO":t===iu.VpaidCreative?"ThemeEmpty":void 0}(n);if(r)return{url:tu[r],isNonLinear:"OverlayTGO"===r,adFormatType:su[r],isOldVastFormat:!1};const{theme:a}=t,o=Object(ml.a)(a),s="video-banner_theme_empty"===a,d="video-banner_survey"===a,l="video-banner_interactive-viewer"===a,c={url:Qc,isNonLinear:!1,adFormatType:"interactiveViewer",isOldVastFormat:fc(i,e=>e.url!==ou.url)};if(l)return c;if(Be(a,t))return{url:Au,isNonLinear:!1,adFormatType:"clickableVideo",isOldVastFormat:!0};if(o){const e=(()=>{switch(!0){case s:return"themeEmpty";case d:return"survey";default:return"vpaidCreative"}})();return{url:s||d?Au:pu,isNonLinear:!1,adFormatType:e,isOldVastFormat:!0}}return Qo.c.event({name:"DetectInteractiveViewerAsDefault",probability:Xo.a,data:{adParametersObject:t}}),c}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function Ye(e){const{adParametersObject:t,description:i}=e;if(!Object(hs.a)(t))throw new Jo.a({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:n,interactiveElements:r,mediaFiles:a}=t,o=ze({},Ge(t,["tickerData","interactiveElements","mediaFiles"]),{adParameters:{description:i,tickerData:n,interactiveElements:r},mediaFiles:[...a,ou]});return ze({},e,{mediaFiles:[bu],adParametersObject:o,adParameters:JSON.stringify(o)})}function qe(e){const{adParametersObject:t}=e;if(!Object(hs.a)(t))throw new Jo.a({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:n,HAS_DOMAIN:r,HAS_AGE:a,HAS_LEGAL:o,LEGAL_TEXT:s}=t,d=ze({},Ge(t,["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_DOMAIN","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"]),{adParameters:ze({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:n}:{},"HAS_DOMAIN"in t?{HAS_DOMAIN:r}:{},"HAS_AGE"in t?{HAS_AGE:a}:{},"HAS_LEGAL"in t?{HAS_LEGAL:o}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[yu]});return ze({},e,{mediaFiles:[bu],adParametersObject:d,adParameters:JSON.stringify(d)})}function Ke(e){var t;const{adParametersObject:i}=e;if(!Object(hs.a)(i))throw new Jo.a({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const n=ze({},i,{mediaFiles:[_u,...null!==(t=i.mediaFiles)&&void 0!==t?t:[]],adParameters:ze({},i)}),{duration:r}=i,a=l(r)?r:Ou;return ze({},e,{mediaFiles:[bu],adParametersObject:n,adParameters:JSON.stringify(n),durationLimit:a})}function Xe(e){const{adParametersObject:t}=e;if(!Object(hs.a)(t))throw new Jo.a({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=function(e){if(!Object(hs.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object(hs.a)(t))return;const{data_params:i}=t;if(!Object(hs.a)(i))return;const{misc:n}=i;if(!Object(hs.a)(n))return;const{object_id:r}=n;if(!Object(Zd.a)(r))return;const a=i[r];if(!Object(hs.a)(a))return;const{click_url:o}=a;if(!Object(hs.a)(o))return;const{action_button:s}=o;return Object(Zd.a)(s)?s:void 0}(e.adParametersObject),n=ze({},e.adParametersObject,{adParameters:e.adParametersObject});return ze({},e,{mediaFiles:[bu],adParametersObject:n,adParameters:JSON.stringify(n),playbackAdParameters:ze({clickThroughUrl:i},t.playbackParameters)})}function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Qe(e){if(void 0===e.mediaFiles[0])return{vastAd:e,reason:void 0};let t;try{t=Me(e.adParameters)}catch(s){return Qo.c.event({name:"PrepareYandexVastDetectionError",data:s}),{vastAd:e,reason:void 0}}const i="motion"===t.adFormatType,n="themeEmpty"===t.adFormatType,r="survey"===t.adFormatType,a="interactiveViewer"===t.adFormatType,o="clickableVideo"===t.adFormatType;if(e.adParametersObject){const{theme:t,mediaFiles:n}=e.adParametersObject;a&&t&&Qo.c.error({error:new Jo.a({code:"IV_THEME_SET_IN_AD_PARAMETERS",details:{vastAd:e}})}),i&&Array.isArray(n)&&n.length>0&&Qo.c.error({error:new Jo.a({code:"MOTION_MEDIA_FILES_IS_NOT_EMPTY_IN_AD_PARAMETERS",details:{vastAd:e}})})}if(t.isOldVastFormat&&!Zc){if(o)return{vastAd:Xe(e),reason:"ConvertClickableOnlyVideo"};if(n)return{vastAd:Ke(e),reason:"ConvertVideoBannerThemeEmpty"};if(a)return{vastAd:Ye(e),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(i)return{vastAd:qe(e),reason:"ConvertMotionVpaidIntoAdCreative"};if(r)return{vastAd:Je({},e,{mediaFiles:[fu]}),reason:"ConvertVideoBannerSurvey"}}return{vastAd:e,reason:void 0}}function Ze(e){const{adParametersObject:t}=e;return!!t&&Be(t.theme,t)}function $e(e){const t=e.split("?")[0].split("#")[0];return Object(Hd.a)(hu,t)}function et(e){let{mediaFiles:t,adParametersObject:i}=e;if((null===i||void 0===i?void 0:i.theme)===Eu)return!0;const[n]=t;return void 0!==n&&function(e){const t=e.split("?")[0].split("#")[0];return Object(Hd.a)(Tu,t)}(n.url)}function tt(e){const{adParametersObject:t}=e;return(null===t||void 0===t?void 0:t.theme)===wu&&Su(e)}function it(e){return l(e)&&function(e){return d(e)&&Math.floor(e)===e}(e)}function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function at(e){return new Promise((t,i)=>{Object(nh.a)(rt({},e,{onSuccess:t,onError:i}))})}function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function st(e,t){hh.ya||(hh.ya={}),hh.ya.isDeploying=!0,function e(t,i){const n=i.split(".");let r=window;for(let o=0;o<n.length-1;o++)r=r[n[o]];const a=n[n.length-1];if(void 0===r[a])r[a]=t;else if("object"===typeof r[a])for(const o in t)t.hasOwnProperty(o)&&e(t[o],i+"."+o)}(e,t),delete hh.ya.isDeploying}function dt(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function lt(e){if(!Object(hs.a)(e))return;const t={},i=["string","number","boolean"];for(const n in e)e.hasOwnProperty(n)&&i.indexOf(typeof e[n])>=0&&(t[n]=e[n]);return t}function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ut(e){return"number"===typeof e.repeatNumber}function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function pt(e){const{adBreak:t}=e;return Object(_s.a)(bs.a)?t.adTagURI:function(e){const{adBreak:t,adPlacementOptions:i}=e,{adTagURI:n}=t;return a(n)?A({url:Object(rs.b)(n,gh(e)),options:i,win:window}):n}(e)}function At(e){return function(e,t){let i=e;return Object(ts.a)(Object(Fu.a)(t),n=>{let[r,a]=n;if(void 0===a)return;const o="["+r+"]";if(a!==o)for(;i.indexOf(o)>-1;)Object(Xo.e)()&&Qo.c.event({name:"ReplaceVastMacro",data:{macroName:r,macroValue:a,stringToReplace:e,macros:t}}),i=i.replace(o,a)}),i}(e,Eh)}function mt(e){let{trackingUrls:t,options:i,sendBeaconParams:n}=e;if(!Array.isArray(t))return;const r=Object(Pd.a)(t,Ce),a=Object(is.a)(r,At),o=Object(is.a)(a,e=>A({url:e,options:i,win:window}));Object(ts.a)(o,e=>s(e,n))}function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ft(e){let{eventName:t,trackingEventDetails:i,trackingUrls:n,options:{devicePixelRatio:r,downlink:a,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoContentSize:c,videoSlotSize:u,videoAvatarSize:h,videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,videoCurrentSrc:f,videoMuted:g,videoVolume:b,bufferingTime:y,bufferingTimeRatio:_,currentTime:O,remainingBufferedTime:T,adBreakType:E,adFormatType:S}}=e;const w=Ch[t],C=void 0===w?1:w+1;Ch[t]=C;const I={videoSlotSize:u,videoContentSize:c,videoAvatarSize:{width:Math.round(h.width),height:Math.round(h.height)},videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,bufferingTime:y,bufferingTimeRatio:_,currentTime:O,remainingBufferedTime:T},P=vt({trackingUrls:n,trackingEventDetails:i,isVisibilityReliable:Ad,counterInBundle:C},I,{devicePixelRatio:r,downlink:a,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoCurrentSrc:f,videoMuted:g,videoVolume:b,adBreakType:E,adFormatType:S});C===Ih&&Qo.c.error({error:new Jo.a({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:vt({eventName:t,eventTrackingsCounts:Ch},P)})}),Qo.c.event({name:wh(t),probability:Object(Hd.a)(Sh,t)?Xo.b:Xo.a,data:P,labels:{},queryParams:{"pcode-version":null===Uu.b||void 0===Uu.b?void 0:Uu.b.pcodeVersion,"widget-version":null===Uu.b||void 0===Uu.b?void 0:Uu.b.widgetVersion}})}function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function bt(e){try{ft(e=gt({},e,{options:yt(e.options)})),mt(e)}catch(t){Qo.c.error({error:new Jo.a({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function yt(e){const{size:t,screenSize:i,videoContentSize:n}=e;return gt({},e,{size:y(t,Math.round),screenSize:y(i,Math.round),videoContentSize:n&&y(n,Math.round)})}function _t(e){const{text:t,textColor:i,isVisible:n}=e||Dh;return{text:Object(ml.a)(t)?t:Dh.text,textColor:i||Dh.textColor,isVisible:"boolean"===typeof n?n:Dh.isVisible}}function Ot(e){const t=[];if(!Array.isArray(e))throw new Jo.a({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new Jo.a({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=Object(Pd.a)(e,Ve);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new Jo.a({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const n=[],r=[],a=[];let o;if(Object(ts.a)(i,e=>{const{type:t}=e;switch(t){case iu.Overlay:n.push(e);break;case iu.Motion:case iu.VpaidCreative:r.push(e);break;default:a.push(e)}}),n.length>0){if(i.length>1)throw new Jo.a({code:"OVERLAY_HAS_TOO_MANY_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=n[0]}else{if(r.length>1)throw new Jo.a({code:"LINEAR_AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=r[0]}return{errorCodes:t,videoMediaFiles:a,animationMediaFile:o}}function Tt(e){const t=[];let i={};if("string"!==typeof e)throw new Jo.a({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(h){throw new Jo.a(h,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}if(!Object(hs.a)(i))throw new Jo.a({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:n,adParameters:r,interactiveElements:a=[],mediaFiles:o}=i;i.videoStates&&t.push(new Jo.a({code:"USING_VIDEO_STATES_IN_IV_AD_PARAMETERS",details:{adParametersString:e}}));const{errorCodes:s,animationMediaFile:d,videoMediaFiles:l}=Ot(o),c=Object(is.a)(s,t=>new Jo.a({code:t,details:{adParametersString:e}}));return t.push(...c),{raw:i,parsed:{tickerData:_t(n),animationMediaFile:d,videoMediaFiles:l,adParameters:(u=r,"string"===typeof u?u:Object(hs.a)(u)?pe(u):void 0),interactiveElements:a},errors:t};var u}function Et(e){for(const{width:t,height:i}of e){const e=Number(t),n=Number(i);if(l(e)&&l(n))return{width:e,height:n}}}function St(e){let{type:t}=e;return vu.indexOf(t)>-1?"js":"video"}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ct(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=Object(Pd.a)(i,e=>"video"===St(e)||a(e.url))),i=Object(is.a)(i,e=>"video"!==St(e)?e:Vh(e))}function It(e,t){return Object(Bh.a)(Ct(e,t),e=>"js"===St(e))}function Pt(e){let{url:t}=e;return t===$c}function Nt(e){let{mediaFiles:t,isNonLinear:i}=e;const[n]=t;return void 0!==n&&Pt(n)}function Dt(e){let{animationMediaFile:t,win:i}=e;const{url:n}=t,r=au[n];if(void 0!==r){0;let e=Zo.a;const t=new Promise((t,n)=>{e=Object(lh.b)({moduleName:r,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{n(e)},win:i,timeout:lh.a})});return{teardown:e,promise:t}}const{promise:a,teardown:o}=Object(Lh.a)({src:n,win:i});return{promise:a.then(()=>i.initAdCreative),teardown:o}}function Rt(e){let t;try{t=e.devicePixelRatio}catch(i){}return l(t)?t:1}function kt(e){let{videoContentSize:t,slotSize:i}=e;if(!t)return{reason:"unknownVideoContentSize",value:gs.videoPixelRatio};let{width:n,height:r}=t;if(Object(Zd.a)(n)&&(n=Number(n),Uh()),Object(Zd.a)(r)&&(r=Number(r),Uh()),!d(n)||!d(r))return{reason:"hasIncorrectWidthAndOrHeight",value:xh};if(n<0||r<0)return{reason:"incorrect",value:gs.videoPixelRatio};if(0===r||0===i.height)return{reason:"incorrect",value:gs.videoPixelRatio};if(0===n||0===i.width)return{reason:"incorrect",value:gs.videoPixelRatio};const a=n/r;return i.width/i.height>a?{reason:"normal",value:r/i.height}:{reason:"normal",value:n/i.width}}function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Bt(e,t){const i=Hh(e);return Object(Hd.a)(t,i)?i:void 0}function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function jt(e){const t=function(e){const t=Rt(window);let i=e-Qh;if("DIVISION"===Wh)i=e/t-Jh;else if("SUBTRACTION"===Wh){i=e-((t-1)*("undefined"===typeof Gh?1:Gh)+1)}return 0===i?0:i<0?-i:i*Xh}(e.videoPixelRatio),i=function(e){if(!Boolean(e))return tp;if(!Object(Zd.a)(e))return tp;const t=e.toLowerCase();return t===Zh?1:t===ep?2:3}(e.type),n=Lt({},e,{prioritySolution:t+ip*i});return n.videoPixelRatioDistance=t,n}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function xt(e,t,i){return e>i?i:e<t?t:e}function Ut(e){return np.indexOf(e.toLowerCase())>-1}function Ft(e){return"number"===typeof e&&e>0}function Ht(e){const{minBitrate:t,maxBitrate:i}=e;return Ft(t)&&Ft(i)}function Wt(e,t){let{desiredBitrate:i}=t;if(function(e){return Ut(e.type)&&fc(rp,t=>!Ft(e[t]))}(e))return 0;if(Ht(e)){const{minBitrate:t,maxBitrate:n}=e;return i<t?t-i:i>n?i-n:0}const{bitrate:n}=e;return l(n)?Math.abs(n-i):ap}function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Gt(e,t){let{desiredBitrate:i}=t;const n=Object(is.a)(e,e=>{let{bitrate:t}=e;return zt({},function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,["bitrate"]),{bitrate:l(t)?t:ap})}),r=Object(is.a)(n,e=>zt({},e,{prioritySolution:Wt(e,{desiredBitrate:i})}));let a=[...r].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:n}=t;return i-n});{const e=Ht(a[0])?xt(i,a[0].minBitrate,a[0].maxBitrate):a[0].bitrate;a=[...r].sort((t,i)=>t.bitrate<=e&&i.bitrate<=e?i.height-t.height:t.prioritySolution-i.prioritySolution)}return Object(is.a)(r,e=>zt({},e,{rating:Mh(a,t=>{let{url:i}=t;return e.url===i})}))}function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function qt(e){if(Object(ml.a)(e))return op[e]?(Qo.c.event({name:"CorrectCodec",data:{vastCodec:e,correctCodec:op[e]}}),op[e]):e}function Kt(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&Object(_s.a)(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&Object(_s.a)(t.prototype.appendBuffer)&&Object(_s.a)(t.prototype.remove))}(e)?t:void 0}function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Jt(e){return mp||fp?!mp&&fp?Xt({},e,{mseAvailability:"noMse"}):mp&&!fp?Xt({},e,{mseAvailability:"noFetch"}):Object(Zd.a)(e.type)?-1===e.type.toLowerCase().indexOf(Zh)?Xt({},e,{mseAvailability:"isNotWebm"}):Xt({},e,Ap?vp?{mseAvailability:"canPlayMseForAbd"}:{mseAvailability:"isNotAbd"}:{mseAvailability:"cannotPlayWebmWithMse"}):Xt({},e,{mseAvailability:"noType"}):Xt({},e,{mseAvailability:"noMseAndFetch"})}function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Zt(e){if(!Array.isArray(e))return[];return Object(is.a)(e,e=>{return function(e){return Object(Zd.a)(e.type)?e.type===Zh&&lp.a?Qt({},e,{playability:"cannotPlay"}):hp(bp(e.type,e.codec))?Qt({},e,{playability:"canPlay"}):Qt({},e,{playability:"cannotPlay"}):Qt({},e,{playability:"noType"})}(Jt(function(e){if(!Object(hs.a)(e))return{validationType:"invalidObject"};const{type:t,codec:i,url:n,width:r,height:a,bitrate:o,maxBitrate:s,minBitrate:d}=e,c={type:t,codec:qt(i),url:n,width:r,height:a,bitrate:o,maxBitrate:s,minBitrate:d};return(!l(d)||!l(s)||d>=s)&&(c.minBitrate=void 0,c.maxBitrate=void 0),"string"!==typeof n?Yt({},c,{validationType:"invalidUrl"}):n.trim()?"string"!==typeof t?Yt({},c,{validationType:"invalidType"}):t.trim()?Yt({},c,{validationType:"correct"}):Yt({},c,{validationType:"emptyType"}):Yt({},c,{validationType:"emptyUrl"})}(e)))})}function $t(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function ei(){return(ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ti(e,t){const i=Date.now(),n=Zt(e);let r,a;const{desiredBitrate:o}=t;if(l(o)){r=Gt(n,{desiredBitrate:o}),a="desiredBitrate"}else{r=function(e,t){if(0===e.length)return[];const i=Object(is.a)(e,i=>{if(!Boolean(i))throw new Jo.a({code:"CANNOT_PRIORITISE_INVALID_MEDIA_FILE",details:{mediaFiles:e,opts:t}});const{value:n,reason:r}=kt({videoContentSize:i,slotSize:t.container});return jt(Mt({},i,{videoPixelRatio:n,videoPixelRatioReason:r}))}),n=[...i].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:n}=t;return i-n});return Object(is.a)(i,e=>Mt({},e,{rating:Mh(n,t=>e===t)}))}(n,t),a="videoPixelRatio"}const s=Object(Pd.a)(r,e=>{let{validationType:t,playability:i,mseAvailability:n}=e;return"correct"===t&&"canPlay"===i&&"canPlayMseForAbd"===n});let d;if(s.length>0)d=s;else{d=Object(Pd.a)(r,e=>{let{validationType:t,playability:i}=e;return"correct"===t&&"canPlay"===i})}const c=function(e,t,i){if(e.length<1)return;let[n]=e,r=t(n);for(let a=1;a<e.length;a++){const o=e[a],s=t(o);i(s,r)<0&&(n=o,r=s)}return n}(d,e=>{let{rating:t}=e;return t},(e,t)=>e-t);return Qo.c.values({name:"PrioritiseMediaFiles",data:{input:ei({mediaFiles:Object(is.a)(e,e=>Object(hs.a)(e)?ei({},e):e)},t,{dpr:Rt(window)}),output:{mediaFiles:r,mediaFile:c?ei({},c):void 0,methodType:a}},probability:Xo.a,labels:{},values:{timeSpent:Date.now()-i}}),{validatedMediaFiles:Object(is.a)(d,e=>{if("videoPixelRatio"===a){return $t(e,["rating","prioritySolution","videoPixelRatio","videoPixelRatioReason"])}return $t(e,["rating","prioritySolution"])}),prioritisedMediaFiles:r,prioritisedMediaFile:c}}function ii(e){let{scope:t,errorType:i,error:n,details:r}=e;return new Jo.a(n,{code:yp(t,i),details:r})}function ni(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Object(Nd.a)(e)&&Object(ts.a)(e,e=>{"function"===typeof e&&e(...i)})}function ri(e,t){const i=[];i.push(Object(qd.a)({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{})}})),i.push(Object(qd.a)({element:e,eventName:"error",listener:(e,i,n,r,a)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:n,column:r,error:a,filename:null===e||void 0===e?void 0:e.filename,message:null===e||void 0===e?void 0:e.message})}})),i.push(Object(qd.a)({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:n,documentURI:r,effectiveDirective:a,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:n,documentURI:r,effectiveDirective:a,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const n=new _p({win:e,onReport:e=>{const{reportSourceEvent:i,reports:n,records:r}=e,a=new Error;0===n.length&&0===r.length&&t(a,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),Object(ts.a)(Object(Fu.a)({reports:n,records:r}),e=>{let[n,r]=e;return Object(ts.a)(r,e=>{t(a,function(e){if(!Object(hs.a)(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!Object(ml.a)(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(Object(hs.a)(i)&&Object(ml.a)(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:n,report:e})})})}});return i.push(()=>{n.destroy()}),()=>ni(i)}function ai(e,t){return ri(e,(e,i,n)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=n;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(Qo.b)>-1)return}}t(e,i,n)})}function oi(e){return 0===Ep.length&&(Tp=window.setInterval(()=>{Ep.forEach(e=>e())},Op)),Ep.push(e),()=>{const t=Ep.indexOf(e);t>-1&&Ep.splice(t,1),0===Ep.length&&clearInterval(Tp)}}function si(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&E(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;Object(Ko.a)(i)}function di(){return(di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function li(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ci(e){if(Ip.a&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.error(e,...i)}}function ui(e){let{mediaFiles:t,isNonLinear:i}=e;const[n]=t;return void 0!==n&&(!!i||Pt(n))}function hi(){return(hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function pi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ai(){return(Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function mi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function vi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gi(e){return"overlay"===e.adType||"inroll-overlay"===e.adType}function bi(){return(bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function yi(e){let t,{adBreak:{vastTimeout:i,wrapperMaxCount:n,wrapperTimeout:o},isAdFox:s,url:d,adPlacementOptions:l,adConfig:c}=e;return{adPlacementOptions:l,vastSourceType:t=s||d&&r(d)?"AD_FOX":d&&a(d)?"YANDEX":"EXTERNAL",vastTimeout:i,wrapperMaxCount:n,wrapperTimeout:o,requestMethod:Tc({secureMode:c.secureMode,url:d})?"VASFrame":"XMLHttpRequest"}}function _i(e){let{adConfig:t,adBreak:i,adPlacementOptions:n,win:r}=e;const a=i.adFoxParameters||t.adFoxParameters;if(a)return async function(e){return new Gc(e).loadVastPromise}({adConfig:bi({},t,{adFoxParameters:a}),adBreak:i,adPlacementOptions:n});const{loadHarmlessVastCallback:o}=t,s=t.hasOwnProperty("vast")?t.vast:void 0;if(s)return sc({xmlString:s,loadParameters:yi({adConfig:t,adBreak:i,isAdFox:!1,adPlacementOptions:n}),vastUrl:void 0}).then(e=>(o&&0===e.children.length&&o({adPods:Object(is.a)(e.ads,e=>{let{clickThrough:t}=e;return{clickThroughUrl:t}})}),e));const d=t.vastUrl?t.vastUrl:pt({adConfig:t,adBreak:i,random:Math.random(),adPlacementOptions:n,win:r});return pc({url:d,loadParameters:yi({adConfig:t,adBreak:i,isAdFox:!1,url:d,adPlacementOptions:n})})}async function Oi(e){const{adConfig:t,adBreak:i}=e;let n;try{n=await _i(e)}catch(l){throw l.details||(l.details={}),l.details.adConfig=t,v(l),l}const r=[];for(const c of n.ads)try{var a;const e=c.mediaFiles[0],t=null!==(a=null===e||void 0===e?void 0:e.url)&&void 0!==a?a:"",i=ke(t)||$e(t)||tt(c)||Ze(c)||et(c);if(Boolean(e)&&i){const{vastAd:e,reason:t}=Qe(c);t&&Qo.c.event({name:t,data:{previous:c,next:e},probability:Xo.a}),r.push(e)}else r.push(c)}catch(l){Qo.c.error({error:l})}n.children.length>0&&Qo.c.event({name:"WrapperVASTLoaded",data:{vast:n}});const o=Object(is.a)(r,e=>(e.vast=n,new jp(i,e,t))),s=function(e,t,i){const n=gi(i);return Object(Pd.a)(e,e=>{const{isNonLinear:r}=e.vastAd;return r===n||(e.trackError(new Jo.a({code:r?"CANNOT_PLAY_NONLINEAR_IN_LINEAR_AD_BREAK":"CANNOT_PLAY_LINEAR_IN_NONLINEAR_AD_BREAK",details:{adConfig:t,adBreak:i}})),!1)})}(o,t,i),d=new Mp(s);if(0===d.mediaAds.length)throw new Jo.a({code:"NO_AD_SECTION",details:void 0});if(Object(Pd.a)(d.mediaAds,e=>e.hasMediaFiles()).length>0)return{mediaAds:d,vast:n};if(d.hasFilteredOutMediaFiles()){const e=Rd(Object(is.a)(o,e=>e.vastAd.mediaFiles));throw new Jo.a({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new Jo.a({code:"NO_AD_TO_DISPLAY",details:void 0})}function Ti(e,t){return Object(Pd.a)(e,e=>e.adType===t)}function Ei(e,t){const i=y(t,(t,i)=>e.style[i]);return T(e,t),Object(Ws.a)(()=>{T(e,i)})}function Si(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function wi(e){const t=e.getRootNode;if(Object(_s.a)(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function Ci(e){return!!e&&"ShadowRoot"===Object(vd.a)(e)}function Ii(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=wi(i);if(!Ci(e)||!xp(e.host))return!1;i=e.host}return!1}function Pi(e,t){const i={};return Object(bd.a)(t).forEach(t=>{i[t]=e.getAttribute(t)}),E(e,t),Object(Ws.a)(()=>{E(e,i)})}function Ni(e){e&&"function"===typeof e.catch&&e.catch(e=>void 0)}function Di(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:i}=t[e].prototype;return i&&Object(ls.a)(i)?i:void 0}function Ri(e){if(!up)return Promise.reject();const t=(i=e.play)[qp]||i;var i;if(Object(ls.a)(t))return t.call(e);const n=Di("HTMLVideoElement")||Di("HTMLMediaElement");if(n)return n.call(e);const r=document.createElement("div");r.style.display="none",document.body.appendChild(r);const a=Di("HTMLMediaElement",Object(Yp.a)(r).contentWindow);if(a){const t=a.call(e);return Object(Ko.a)(r),t}return e.play()}function ki(e,t,i,n){const r=function(e){let t=!1,i=!1,n=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),n=Boolean(e.once)),{capture:t,passive:i,once:n}}(n),a=oA.a?r:r.capture,o=r.once&&!oA.b?function(e){s(),i.call(this,e)}:i,s=()=>{Object(aA.b)(e,t,o,a)};return Object(aA.a)(e,t,o,a),s}function Vi(e,t){void 0===t&&(t={});let i=0;const n=[],r=(t,r)=>{n.push(ki(e,t,r,dA)),clearTimeout(i)},a=()=>Object(sA.a)(n),o=new Promise((n,a)=>{const o=t=>{e.paused&&a(t)},s=Ri(e);if(o(rA.VideoTagPaused),r("durationchange",()=>o(rA.VideoTagPausedAfterDurationChange)),r("error",()=>o(rA.VideoTagPausedAfterError)),r("pause",()=>a(rA.PauseEvent)),r("playing",()=>{n(rA.PlayingEvent)}),s)t.useProgressEvent&&r("progress",()=>{n(rA.ProgressEvent)}),s.then(()=>n(rA.PromiseResolve)).catch(e=>a(function(e){return e?rA.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":rA.PromiseReject}(e)));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(i=window.setTimeout(()=>{a(rA.Timeout)},t.timeoutForNonPromisePlay))}});return o.then(a,a),o}function Bi(e,t){const{paused:i}=e,n=t();return i||Ni(Ri(e)),n}function Li(){return(Li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ji(e){let{canPlayUnMuted:t,canPlayMuted:i,detectionMethod:n}=e;return{canPlayUnMuted:t,canPlayMuted:i,requireMute:!t&&i,requireUserGesture:!t&&!i,detectionMethod:n}}function Mi(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=Kp(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),ji({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:$p.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),ji({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:$p.YaBroAllowedToPlay})):(t(),ji({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:$p.YaBroAllowedToPlay})))}(e));const t=function(e){if(void 0===e&&(e=window),nA(e))return ji({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:$p.WebOSSmartTV})}();if(void 0!==t)return Promise.resolve(t);const i=function(e){if(void 0===e&&(e=window),Zp(e))return ji({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:$p.OrsaySmartTV})}();if(void 0!==i)return Promise.resolve(i);const n=function(e){if(void 0===e&&(e=window),eA(e))return ji({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:$p.PlayStationSmartTV})}();if(void 0!==n)return Promise.resolve(n);if(e.isAVPlay)return Promise.resolve(Li({},hA,{detectionMethod:$p.TizenAVPlay}));const r=function(e){if(void 0===e&&(e=window),tA(e))return iA(e)?ji({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:$p.Tizen23SmartTV}):ji({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:$p.TizenSmartTVModern})}();return void 0!==r?Promise.resolve(r):Wp&&Hp<=9||lA?Promise.resolve(Li({},uA,{detectionMethod:$p.IOS9OrLess})):up?cA?Promise.resolve(Li({},hA,{detectionMethod:$p.OldIE})):void 0:Promise.resolve(Li({},uA,{detectionMethod:$p.HTML5VideoIsNotSupported}))}function xi(){return(xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ui(){return(Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Fi(e){return void 0===e&&(e=""),e.replace(wA,e=>e in CA?CA[e]:e)}function Hi(e){var t;const{AUCTION_DC_PARAMS:i}=e;if(!Object(hs.a)(i)||!Object(hs.a)(i.data_params))return;const n=PA(i.data_params);if(!Object(hs.a)(n))return;const r=null===(t=n.click_url)||void 0===t?void 0:t.action_button;return Object(ml.a)(r)?r:void 0}function Wi(e){return!Object(bd.a)(e).length}function zi(e){if(!Object(hs.a)(e))return[];const{AUCTION_DC_PARAMS:t}=e;if(!Object(hs.a)(t)||!Object(hs.a)(t.data_params))return[];const i=PA(t.data_params);if(!Object(hs.a)(i)||!Object(hs.a)(i.text))return[];const n=i.text,r=i.unmoderated||n.unmoderated||{};return DA(r.images)}function Gi(e){const{AUCTION_DC_PARAMS:t}=e;if(!Object(hs.a)(t)||!Object(hs.a)(t.data_params))return;const i=PA(t.data_params);if(!Object(hs.a)(i))return;const n=i.target_url;return Object(ml.a)(n)?n:void 0}function Yi(){const e=Hl(ec);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];const r=Object(Pd.a)(i,e=>Boolean(e));return Object(Dd.a)(r,(e,t)=>(function(e,t){const i=Hl(ec);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility,void 0!==t.controlsVariant?i.controlsVariant=t.controlsVariant:i.controlsVariant=e.controlsVariant;for(const n of WA)!1===i.visibility?i.controlsVisibility[n]=!1:"boolean"===typeof t.controlsVisibility[n]?i.controlsVisibility[n]=t.controlsVisibility[n]:i.controlsVisibility[n]=e.controlsVisibility[n];return i})(e,t),e)}function qi(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return Object(hs.a)(t)&&Object(ml.a)(t[Ed])?t[Ed]:Object(ml.a)(i)?i:void 0}function Ki(e){const t=e.packshot_duration;if(!l(t))return;const i=e.PACKSHOT_IMAGE_URL;if(!Object(ml.a)(i))return;const n=Hi(e);return void 0!==n?{packshotDuration:t,packshotImageUrl:i,packshotActionButtonClickUrl:n,packshotButtonText:qi(e)}:void 0}function Xi(e){let{vastAd:t,secureMode:i}=e;const{skipTime:n,skipOffset:r,playbackAdParameters:a,mediaFiles:o}=t;return a&&d(a.skipDelay)?{skipDelay:a.skipDelay,eventName:void 0}:function(e,t){const i=It(e,t);return!!i&&ke(i.url)}(o,i)?{skipDelay:GA,eventName:"UsingDefaultInteractiveViewerSkipDelay"}:d(r)?d(n)?{skipDelay:n,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:r,eventName:void 0}:{skipDelay:zA,eventName:void 0}}function Ji(e){const{imhoParams:t,isNonLinear:i}=e;if(i)return!1;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&$e(i.url)}(e))return!1;if(et(e))return!1;if(ui(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=Object(dd.a)(()=>Ot(t.mediaFiles));if(!i)return!1;if(0===i.videoMediaFiles.length)return!1}return t?t.showSoundButton:qA}function Qi(e){if(et(e))return!1}function Zi(e){const{imhoParams:t,playbackAdParameters:i}=e,n={controlsVisibility:{adLabel:null===t||void 0===t?void 0:t.showLabel,mute:Ji(e),skip:YA,play:Qi(e)}};let r;return i&&(r=i.controlsSettings),Yi(n,r)}function $i(e){if("error"===e.reason)return e.details}function en(e){var t,i,n,r,a,o,s,d;const l=null!==(t=null!==(i=null!==(n=null!==(r=e.requestAnimationFrame)&&void 0!==r?r:e.mozRequestAnimationFrame)&&void 0!==n?n:e.webkitRequestAnimationFrame)&&void 0!==i?i:e.msRequestAnimationFrame)&&void 0!==t?t:t=>e.setTimeout(t,KA),c=null!==(a=null!==(o=null!==(s=null!==(d=e.cancelAnimationFrame)&&void 0!==d?d:e.mozCancelAnimationFrame)&&void 0!==s?s:e.webkitCancelAnimationFrame)&&void 0!==o?o:e.msCancelAnimationFrame)&&void 0!==a?a:t=>e.clearTimeout(t);return{requestAnimationFrame:l.bind(e),cancelAnimationFrame:c.bind(e)}}function tn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function nn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function an(e,t,i){const n=()=>Object(is.a)(e,e=>e.getValue());let r=t(...n());i(r);const a=()=>{const e=t(...n());r!==e&&(r=e,i(e))},o=Object(is.a)(e,e=>e.add(a));return()=>{ni(o)}}function on(e){return!!Object(hs.a)(e)&&xp(e)}function sn(e){let{videoNodeController:t,bufferEmptyLimit:i,callback:n}=e;if(!l(i))return Zo.a;let r=0;const a=t.onBufferingAfterPlay.add(()=>{r++,Object($o.a)("bufferEmptyCount=["+r+"] limit=["+i+"]"),r<=i||(a(),n())});return a}function dn(e){let{videoNodeController:t,bufferFullTimeout:i,callback:n}=e,r=Zo.a;const a=t.isBuffering.add(async e=>{if(r(),!e)return;const{promise:t,clear:o}=Object(kd.a)(i);r=o,await t,r(),a(),n()});return()=>{r(),a()}}function ln(e,t){const i=Object(qd.a)({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(r(),t())}}),n=Object(qd.a)({element:e,eventName:"playing",listener:()=>{e.duration>0&&(r(),t())}}),r=()=>{i(),n()};return r}function cn(e){function t(){let e=i.getDuration();return l(e)||(e=n()),l(r)?Math.min(e,r):e}let{videoNodeController:i,durationFallback:n,durationLimit:r,callbacks:{AdStarted:a,AdVideoFirstQuartile:o,AdVideoMidpoint:s,AdVideoThirdQuartile:d,AdVideoBeforeComplete:c,AdVideoComplete:u}}=e;const h=Object(vl.a)(o),p=Object(vl.a)(s),A=Object(vl.a)(d),m=Object(vl.a)(c);let v=0;const f=()=>{const e=t();if(!l(e))return;const n=(i.getCurrentTime()-v)/e;n>=.25&&h(),n>=.5&&p(),n>=.75&&A()},g=Object(vl.a)((function(e){void 0===e&&(e={completeOnDurationLimit:!1}),f(),u(e)})),b=[ln(i.videoNode,()=>{v=i.getCurrentTime(),a()}),i.currentPosition.add(e=>{let{currentTime:i}=e;const{isBeforeEnd:n,isEnd:a}=function(e){let{currentTime:t,duration:i}=e;return t>=i?{isBeforeEnd:!1,isEnd:!0}:t+nm>=i?{isBeforeEnd:!0,isEnd:!1}:{isBeforeEnd:!1,isEnd:!1}}({currentTime:i,duration:t()});n&&m(),a&&l(r)&&g({completeOnDurationLimit:!0,durationLimit:r})}),i.currentPosition.add(f),i.onEnd.add(g)];return()=>ni(b)}function un(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function hn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pn(e){var t;if(!a(e)&&!r(e)||!pd.a)return e;const i=Am.a[Am.a.length-1],n=null!==(t=null===i||void 0===i?void 0:i.ownerDocument)&&void 0!==t?t:document;return Object(rs.a)(e,"target_ref",n.referrer)}function An(e,t){if(e===t)return!0;if(!Object(hs.a)(e)||!Object(hs.a)(t))return!1;if(Object(Nd.a)(e)!==Object(Nd.a)(t))return!1;const i=Object(bd.a)(e),n=Object(bd.a)(t);if(i.length!==n.length)return!1;for(const r of n){if(!(r in e))return!1;if(!An(e[r],t[r]))return!1}return!0}function mn(e,t){const i=function(e){const t=Object(gm.a)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Object(qd.a)({element:e,eventName:i,listener:()=>{t(Object(fm.a)(e))}}):Zo.a}function vn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gn(e,t){const i={};return Object(bd.a)(e).forEach(n=>{t(e[n],n)&&(i[n]=e[n])}),i}function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function yn(){return(yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function _n(e,t){let{width:i,height:n}=e;const r=Object(is.a)([i,n],e=>Math.round(e)),a=Math.min(...r),o=Math.max(...r);return t?a>=Hm&&o*a>=Wm:a>=Um&&o*a>=Fm}function On(){return(On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Tn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function En(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Sn(e){let{slotSize:t,videoSlotSize:i,videoContentSize:n}=e;const r=void 0===n?t.width/t.height:n.width/n.height,a=i.width/i.height>r,o=a?i.height*r:i.width/r,s=a?i.height:i.width,d={width:a?o:s,height:a?s:o},l=Math.min(t.width,d.width)/Math.min(t.height,d.height),c=t.width/t.height>l;return{adjacentSize:c?t.height*l:t.width/l,innerSize:c?t.height:t.width,extraHorizontalSpace:c}}function wn(e){const{videoWidth:t,videoHeight:i}=e;if(l(t)&&l(i))return{width:t,height:i}}function Cn(e){let{win:t,slotSize:i,slotVisibilityRatio:n,videoSlotSize:r,videoNode:a,bufferingTime:o,adBreakType:s,adFormatType:c}=e;const h=Km(t),p=h.width*h.height,A=i.width*i.height,m=0===p?0:A/p,v=Rt(t),f=function(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;const n=i.type;if("string"===typeof n||"number"===typeof n)switch(n){case"BLUETOOTH":return 3;case Xm.CELL_2G:return.384;case Xm.CELL_3G:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case Xm.ETHERNET:case"ETHERNET":case Xm.WIFI:case"WIFI":case"MIXED":return 10;case Xm.UNKNOWN:}return-1}(t),g=a?wn(a):gs.videoContentSize;let b=gs.videoAvatarSize,y=gs.videoFramesInfo,_=gs.videoSrc,O=gs.videoCurrentSrc,T=gs.videoMuted,E=gs.videoVolume,S=gs.currentTime,w=gs.bufferingTimeRatio,C=gs.remainingBufferedTime;if(a){const{innerSize:e,adjacentSize:t,extraHorizontalSpace:n}=Sn({slotSize:i,videoContentSize:g,videoSlotSize:r});b={width:n?t:e,height:n?e:t},y=u(a),_=a.src,O=a.currentSrc,T=a.muted,E=a.volume;const s=function(e){const t=[];if(!e)return t;if(!e.buffered)return t;if(!d(e.buffered.length)||!Object(_s.a)(e.buffered.start)||!Object(_s.a)(e.buffered.end))return t;for(let i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});return function(e){if(e.length<=1)return e;const t=e.map(e=>{let{start:t,end:i}=e;return{start:t,end:i}}).sort((e,t)=>e.start-t.start),i=[t[0]];for(let n=1;n<t.length;n++){const e=t[n],r=i[i.length-1];r.end<e.start?i.push(e):r.end<e.end&&(r.end=e.end)}return i}(t)}(a);S=a.currentTime;const l=(I=s,P=S,Object(Bh.a)(I,e=>{let{start:t,end:i}=e;return t<=P&&P<=i}));l&&(C=l.end-S),d(S)&&d(o)&&o+S>0&&(w=o/(o+S))}var I,P;const{value:N}=kt({videoContentSize:g,slotSize:i});let D=gs.videoToDevicePixelRatio;return l(N)&&(D=N/v),{visibility:n,size:i,relativeSizeRatio:m,screenSize:h,devicePixelRatio:v,downlink:f,videoContentSize:g,videoSlotSize:r,videoAvatarSize:b,videoPixelRatio:N,videoToDevicePixelRatio:D,videoFramesInfo:y,videoSrc:_,videoCurrentSrc:O===_?void 0:O,videoMuted:T,videoVolume:E,bufferingTime:o,currentTime:S,bufferingTimeRatio:w,remainingBufferedTime:C,adBreakType:s,adFormatType:c}}function In(e){const t=e.ownerDocument,i=t.defaultView,n=t.documentElement,r=e.getBoundingClientRect();return{winWidth:Qm?Math.max(n.clientWidth,(null===i||void 0===i?void 0:i.innerWidth)||0):(null===i||void 0===i?void 0:i.innerWidth)||n.clientWidth||t.body.clientWidth,winHeight:Qm?Math.max(n.clientHeight,(null===i||void 0===i?void 0:i.innerHeight)||0):(null===i||void 0===i?void 0:i.innerHeight)||n.clientHeight||t.body.clientHeight,left:r.left,top:r.top,width:r.width,height:r.height}}function Pn(e){let{width:t,height:i,top:n,left:r,winWidth:a,winHeight:o}=e;const s=r+t,d=n+i,l=xt(r,0,a),c=xt(n,0,o);return{winWidth:a,winHeight:o,left:l,top:c,width:xt(s,l,a)-l,height:xt(d,c,o)-c}}function Nn(e,t){return e.width*e.height/(t.width*t.height)}function Dn(e){const t=function(e){return[In(e),...Object(is.a)(Object(Jm.a)(e),In)]}(e);let i=Pn(t[0]),n=Nn(i,t[0]);for(let o=1;o<t.length;o++){const e=t[o];n=Nn(i=Pn((r=i,{winWidth:(a=e).winWidth,winHeight:a.winHeight,left:r.left+a.left,top:r.top+a.top,width:r.width,height:r.height})),t[0])}var r,a;return n}function Rn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function kn(e){return Object(ts.a)(Object(bd.a)(Rm),t=>{const i=Rm[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(n){Qo.c.error({error:new Jo.a({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else Qo.c.error({error:new Jo.a({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})}),Object(ts.a)(Object(bd.a)(km),t=>{const i=km[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:n=>{if("function"===typeof e[i])try{return e[i](n)}catch(r){Qo.c.error({error:new Jo.a({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:n}})})}else Qo.c.error({error:new Jo.a({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:n}})})}})}),e}function Vn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function jn(){return(jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function xn(e){return"YandexTestMeasurerVpaidEvent_"+e}function Un(e){return Array.isArray(e)?Object(Pd.a)(e,e=>"string"===typeof e&&e.length>0):[]}function Fn(e){const t=[];return Object(hs.a)(e)?{measurers:gn(e,(i,n)=>Object(hs.a)(i)?-1!==Tv.indexOf(n)||(t.push(new Jo.a({code:"UNSUPPORTED_MEASURER",details:{measurerName:n,measurersParameters:e}})),!1):(t.push(new Jo.a({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:n,measurersParameters:e}})),!1)),errors:t}:(void 0!==e&&t.push(new Jo.a({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t})}function Hn(){return(Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Wn(e){const t=[],{measurers:i,AUCTION_DC_PARAMS:n}=e;let r={},a={};const{bannerParameters:o,errors:s}=function(e){const t=[];if(!Object(hs.a)(e))return{bannerParameters:void 0,errors:t};const{data_params:i}=e;if(!Object(hs.a)(i))return{bannerParameters:void 0,errors:t};const{misc:n}=i;if(!Object(hs.a)(n))return{bannerParameters:void 0,errors:t};const{object_id:r}=n,a=i[r];return Object(hs.a)(a)?{bannerParameters:a,errors:t}:{bannerParameters:void 0,errors:t}}(n);if(t.push(...s),Object(hs.a)(o)){const{measurers:i,unmoderated:n}=o,{measurers:s,errors:d}=Fn(i);if(t.push(...d),r=s,Object(hs.a)(n)){const{measurers:i}=n;i&&t.push(new Jo.a({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:r,errors:o}=Fn(i);t.push(...o),a=r}}const{measurers:d,errors:l}=Fn(i);t.push(...l);const c=Object(bd.a)(a).length>0,u=Object(bd.a)(r).length>0,h=Object(bd.a)(d).length>0;return Number(c)+Number(u)+Number(h)>1&&t.push(new Jo.a({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Hn({},a,r,d),errors:t}}function zn(e){return Object(hs.a)(e)?y(Ev,(t,i)=>Un(e[i])):Hl(Ev)}function Gn(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!Object(hs.a)(i)&&"sad"===i.sad}function Yn(e){if(!Object(hs.a)(e))return;const{ids:t,partnerCode:i}=e;return"string"===typeof i?Object(hs.a)(t)?{partnerCode:i,ids:gn(t,e=>"string"===typeof e)}:{partnerCode:i,ids:{}}:void 0}function qn(e){return e<2?1e3:2===e?3e3:5e3}function Kn(){return(Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Xn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Jn(e,t,i){void 0===i&&(i={});const n=e,{onStop:r=Zo.a,onInitMeasurer:a=Zo.a,onTrackEvent:o=Zo.a,onExecutionError:s=Zo.a,onAdError:d=Zo.a,onPlayingStateChange:l=Zo.a,onSlotHoverStateChange:c=Zo.a,onSlotVisibilityStateChange:u=Zo.a,onSlotSizeChange:h=Zo.a}=i,p=new Sv(n,t,{onStop:r,onInitMeasurer:a,onTrackEvent:o,onExecutionError:s,onAdError:d,onPlayingStateChange:l,onSlotVisibilityStateChange:u,onSlotHoverStateChange:c,onSlotSizeChange:h});return{measurableVPAIDCreative:function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:n}=t;const r=yn({},y(Nm,(e,t)=>{return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i(t,n)}}),y(gn(Vm,(t,i)=>"function"===typeof e[i]),(t,i)=>()=>e[i]()));return Object(ts.a)(Object(bd.a)(Dm),t=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{n(t,e)}})}),r}(n,p),userInteractionDispatchers:p.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:p.vpaidCreativeProxyForMeasurers}}function Qn(e,t){for(var i in t)e[i]=t[i];return e}function Zn(e){var t=e.parentNode;t&&t.removeChild(e)}function $n(e,t,i){var n,r=arguments,a={};for(n in t)"key"!==n&&"ref"!==n&&(a[n]=t[n]);if(arguments.length>3)for(i=[i],n=3;n<arguments.length;n++)i.push(r[n]);if(null!=i&&(a.children=i),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===a[n]&&(a[n]=e.defaultProps[n]);return er(e,a,t&&t.key,t&&t.ref)}function er(e,t,i,n){var r={type:e,props:t,key:i,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return Nv.vnode&&Nv.vnode(r),r}function tr(e){return e.children}function ir(e,t){this.props=e,this.context=t}function nr(e,t){if(null==t)return e.__?nr(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?nr(e):null}function rr(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return rr(e)}}function ar(e){(!e.__d&&(e.__d=!0)&&1===Dv.push(e)||kv!==Nv.debounceRendering)&&((kv=Nv.debounceRendering)||Rv)(or)}function or(){var e,t,i,n,r,a,o;for(Dv.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=Dv.pop();)e.__d&&(i=void 0,n=void 0,a=(r=(t=e).__v).__e,(o=t.__P)&&(i=[],n=ur(o,r,Qn({},r),t.__n,void 0!==o.ownerSVGElement,null,i,null==a?nr(r):a),hr(i,r),n!=a&&rr(r)))}function sr(e,t,i,n,r,a,o,s,d){var l,c,u,h,p,A,m,v=i&&i.__k||jv,f=v.length;if(s==Lv&&(s=null!=a?a[0]:f?nr(i,0):null),l=0,t.__k=function e(t,i,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)i&&n.push(i(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)e(t[r],i,n);else n.push(i?i("string"==typeof t||"number"==typeof t?er(null,t,null,null):null!=t.__e||null!=t.__c?er(t.type,t.props,t.key,null):t):t);return n}(t.__k,(function(i){if(null!=i){if(i.__=t,i.__b=t.__b+1,null===(u=v[l])||u&&i.key==u.key&&i.type===u.type)v[l]=void 0;else for(c=0;c<f;c++){if((u=v[c])&&i.key==u.key&&i.type===u.type){v[c]=void 0;break}u=null}if(h=ur(e,i,u=u||Lv,n,r,a,o,s,d),(c=i.ref)&&u.ref!=c&&(m||(m=[]),u.ref&&m.push(u.ref,null,i),m.push(c,i.__c||h,i)),null!=h){var g;if(null==A&&(A=h),void 0!==i.__d)g=i.__d,i.__d=void 0;else if(a==u||h!=s||null==h.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(h),g=null;else{for(p=s,c=0;(p=p.nextSibling)&&c<f;c+=2)if(p==h)break e;e.insertBefore(h,s),g=s}"option"==t.type&&(e.value="")}s=void 0!==g?g:h.nextSibling,"function"==typeof t.type&&(t.__d=s)}}return l++,i})),t.__e=A,null!=a&&"function"!=typeof t.type)for(l=a.length;l--;)null!=a[l]&&Zn(a[l]);for(l=f;l--;)null!=v[l]&&mr(v[l],v[l]);if(m)for(l=0;l<m.length;l++)Ar(m[l],m[++l],m[++l])}function dr(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]="number"==typeof i&&!1===Mv.test(t)?i+"px":null==i?"":i}function lr(e,t,i,n,r){var a,o,s,d,l;if(r?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(a=e.style,"string"==typeof i)a.cssText=i;else{if("string"==typeof n&&(a.cssText="",n=null),n)for(o in n)i&&o in i||dr(a,o,"");if(i)for(s in i)n&&i[s]===n[s]||dr(a,s,i[s])}else"o"===t[0]&&"n"===t[1]?(d=t!==(t=t.replace(/Capture$/,"")),l=t.toLowerCase(),t=(l in e?l:t).slice(2),i?(n||e.addEventListener(t,cr,d),(e.l||(e.l={}))[t]=i):e.removeEventListener(t,cr,d)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!r&&t in e?e[t]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==i||!1===i?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):null==i||!1===i?e.removeAttribute(t):e.setAttribute(t,i))}function cr(e){this.l[e.type](Nv.event?Nv.event(e):e)}function ur(e,t,i,n,r,a,o,s,d){var l,c,u,h,p,A,m,v,f,g,b=t.type;if(void 0!==t.constructor)return null;(l=Nv.__b)&&l(t);try{e:if("function"==typeof b){if(v=t.props,f=(l=b.contextType)&&n[l.__c],g=l?f?f.props.value:l.__:n,i.__c?m=(c=t.__c=i.__c).__=c.__E:("prototype"in b&&b.prototype.render?t.__c=c=new b(v,g):(t.__c=c=new ir(v,g),c.constructor=b,c.render=vr),f&&f.sub(c),c.props=v,c.state||(c.state={}),c.context=g,c.__n=n,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=b.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Qn({},c.__s)),Qn(c.__s,b.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,u)null==b.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==b.getDerivedStateFromProps&&v!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,g),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,g)){for(c.props=v,c.state=c.__s,c.__d=!1,c.__v=t,t.__e=i.__e,t.__k=i.__k,c.__h.length&&o.push(c),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,g),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,A)}))}c.context=g,c.props=v,c.state=c.__s,(l=Nv.__r)&&l(t),c.__d=!1,c.__v=t,c.__P=e,l=c.render(c.props,c.state,c.context),t.__k=null!=l&&l.type==tr&&null==l.key?l.props.children:l,null!=c.getChildContext&&(n=Qn(Qn({},n),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(A=c.getSnapshotBeforeUpdate(h,p)),sr(e,t,i,n,r,a,o,s,d),c.base=t.__e,c.__h.length&&o.push(c),m&&(c.__E=c.__=null),c.__e=!1}else t.__e=pr(i.__e,t,i,n,r,a,o,d);(l=Nv.diffed)&&l(t)}catch(e){Nv.__e(e,t,i)}return t.__e}function hr(e,t){Nv.__c&&Nv.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Nv.__e(e,t.__v)}}))}function pr(e,t,i,n,r,a,o,s){var d,l,c,u,h,p=i.props,A=t.props;if(r="svg"===t.type||r,null==e&&null!=a)for(d=0;d<a.length;d++)if(null!=(l=a[d])&&(null===t.type?3===l.nodeType:l.localName===t.type)){e=l,a[d]=null;break}if(null==e){if(null===t.type)return document.createTextNode(A);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,A.is&&{is:A.is}),a=null}if(null===t.type)null!=a&&(a[a.indexOf(e)]=null),p!==A&&e.data!=A&&(e.data=A);else if(t!==i){if(null!=a&&(a[a.indexOf(e)]=null,a=jv.slice.call(e.childNodes)),c=(p=i.props||Lv).dangerouslySetInnerHTML,u=A.dangerouslySetInnerHTML,!s){if(p===Lv)for(p={},h=0;h<e.attributes.length;h++)p[e.attributes[h].name]=e.attributes[h].value;(u||c)&&(u&&c&&u.__html==c.__html||(e.innerHTML=u&&u.__html||""))}(function(e,t,i,n,r){var a;for(a in i)a in t||lr(e,a,null,i[a],n);for(a in t)r&&"function"!=typeof t[a]||"value"===a||"checked"===a||i[a]===t[a]||lr(e,a,t[a],i[a],n)})(e,A,p,r,s),t.__k=t.props.children,u||sr(e,t,i,n,"foreignObject"!==t.type&&r,a,o,Lv,s),s||("value"in A&&void 0!==A.value&&A.value!==e.value&&(e.value=null==A.value?"":A.value),"checked"in A&&void 0!==A.checked&&A.checked!==e.checked&&(e.checked=A.checked))}return e}function Ar(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){Nv.__e(e,i)}}function mr(e,t,i){var n,r,a;if(Nv.unmount&&Nv.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||Ar(n,null,t)),i||"function"==typeof e.type||(i=null!=(r=e.__e)),e.__e=e.__d=void 0,null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){Nv.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(a=0;a<n.length;a++)n[a]&&mr(n[a],t,i);null!=r&&Zn(r)}function vr(e,t,i){return this.constructor(e,i)}function fr(e,t,i){var n,r,a;Nv.__&&Nv.__(e,t),r=(n=i===Vv)?null:i&&i.__k||t.__k,e=$n(tr,null,[e]),a=[],ur(t,(n?t:i||t).__k=e,r||Lv,Lv,void 0!==t.ownerSVGElement,i&&!n?[i]:r?null:jv.slice.call(t.childNodes),a,i||Lv,n),hr(a,e)}function gr(e){var t={},i={__c:"__cC"+Bv++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r=this;return this.getChildContext||(n=[],this.getChildContext=function(){return t[i.__c]=r,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&n.some((function(e){e.context=t.value,ar(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Consumer.contextType=i,i}function br(e){Nv.__h&&Nv.__h(Fv);var t=Fv.__H||(Fv.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function yr(e){return function(e,t,i){var n=br(Uv++);return n.__c||(n.__c=Fv,n.__=[i?i(t):Dr(void 0,t),function(t){var i=e(n.__[0],t);n.__[0]!==i&&(n.__[0]=i,n.__c.setState({}))}]),n.__}(Dr,e)}function _r(e,t){var i=br(Uv++);Nr(i.__H,t)&&(i.__=e,i.__H=t,Fv.__H.__h.push(i))}function Or(e,t){var i=br(Uv++);Nr(i.__H,t)&&(i.__=e,i.__H=t,Fv.__h.push(i))}function Tr(e){return Er((function(){return{current:e}}),[])}function Er(e,t){var i=br(Uv++);return Nr(i.__H,t)?(i.__H=t,i.__h=e,i.__=e()):i.__}function Sr(e,t){return Er((function(){return e}),t)}function wr(e){var t=Fv.context[e.__c];if(!t)return e.__;var i=br(Uv++);return null==i.__&&(i.__=!0,t.sub(Fv)),t.props.value}function Cr(){Wv.some((function(e){if(e.__P)try{e.__H.__h.forEach(Ir),e.__H.__h.forEach(Pr),e.__H.__h=[]}catch(t){return Nv.__e(t,e.__v),!0}})),Wv=[]}function Ir(e){e.t&&e.t()}function Pr(e){var t=e.__();"function"==typeof t&&(e.t=t)}function Nr(e,t){return!e||t.some((function(t,i){return t!==e[i]}))}function Dr(e,t){return"function"==typeof t?t(e):t}function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function kr(e){var t,i,n="";if("string"===typeof e||"number"===typeof e)n+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=kr(e[t]))&&(n&&(n+=" "),n+=i);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Vr(e){const[t,i]=yr(e.getValue());return _r(()=>(i(e.getValue()),e.add(i)),[e]),t}function Br(e,t){var i;const n=(null!==(i=e.ownerDocument)&&void 0!==i?i:document).createElement("style");return n.type="text/css",n.textContent=t,e.appendChild(n),n}function Lr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function jr(e){const t=rf();Or(()=>of.useStyleModule(t.element,e),[e])}function Mr(e){let{descriptionText:t,buttonText:i,openClickThroughUrl:n,animationProgress:r,hasTimeline:a,disableOverlay:o}=e;return{descriptionText:t,buttonText:i,openClickThroughUrl:n,disableOverlay:o,progress:Vr(r),hasTimeline:a}}function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Fr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Hr(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function Wr(e){return Boolean(e.IntersectionObserver)&&!Object(ls.a)(e.IntersectionObserver)}function zr(e){var t;if(xf)return null;if(null!==(t=!Boolean(e.ownerDocument))&&void 0!==t?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,n=function(e,t){try{if(Object(ls.a)(e.attachShadow))return e.attachShadow(t);if(Object(ls.a)(e.createShadowRoot))return e.createShadowRoot();if(Object(ls.a)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(e,{mode:Uf});if(!n)return null;const r=i.document.createElement("div");return n.appendChild(r),r}function Gr(){return(Gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Yr(){return(Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function qr(e){let{creative:t,isYandexCreative:i,getLogDetails:n}=e;return function(e,t){let{methodCallError:i,methodAbsent:n,workaroundMethodCallError:r,getterError:a,setterError:o}=t;const s=Gr({},y(Nm,(t,r)=>(function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];if("function"===typeof e[r])try{return e[r].apply(e,a)}catch(s){i({methodName:r,args:a,error:s})}else n({methodName:r,args:a})})),y(gn(Vm,(t,i)=>"function"===typeof e[i]),(t,i)=>(function(){try{return e[i]()}catch(o){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];r({methodName:i,args:n,error:o})}})));return Object(Fl.a)(Dm,(t,i)=>{Object.defineProperty(s,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){a({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(n){o({propertyName:i,error:n,value:t})}}})}),s}(t,{methodCallError:e=>{let{methodName:t,args:r,error:a}=e;Qo.c.error({error:new Jo.a(a,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:Yr({methodName:t,args:r},n())})}),Object(md.a)(a)},methodAbsent:e=>{let{methodName:t,args:r}=e;Qo.c.error({error:new Jo.a({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:Yr({methodName:t,args:r},n())})})},workaroundMethodCallError:e=>{let{methodName:t,args:r,error:a}=e;Qo.c.error({error:new Jo.a(a,{code:i?"YANDEX_VPAID_WORKAROUND_METHOD_CALL_ERROR":"VPAID_WORKAROUND_METHOD_CALL_ERROR",details:Yr({methodName:t,args:r},n())})}),Object(md.a)(a)},getterError:e=>{let{propertyName:t,error:r}=e;Qo.c.error({error:new Jo.a(r,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:Yr({propertyName:t},n())})}),Object(md.a)(r)},setterError:e=>{let{propertyName:t,value:r,error:a}=e;Qo.c.error({error:new Jo.a(a,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:Yr({propertyName:t,value:r},n())})}),Object(md.a)(a)}})}function Kr(e){"function"===typeof e.catch&&e.catch(e=>void 0)}function Xr(){return(Xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Jr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Qr(e,t){return qf.indexOf(e)>=qf.indexOf(t)}function Zr(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:n}=e;if(Qr(t,"start")){if(n){const e=n.params.animationParameters,t=n.params.videoParameters;if(e&&!n.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!n.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return Qr(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function $r(){return($r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ea(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ta(){return(ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ia(e){const{config:t,errors:i}=function(e){const t=[],i=Object(hs.a)(e)?e:{};let n;return xp(i.backgroundSlot)?n=i.backgroundSlot:void 0!==i.backgroundSlot&&t.push(new Jo.a({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),{config:{backgroundSlot:n,clickThroughCallback:Object(_s.a)(i.clickThroughCallback)?i.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof i.clickThroughConfirmation?i.clickThroughConfirmation:void 0,renderSkin:Object(_s.a)(i.renderSkin)?i.renderSkin:void 0,retainLastMediaAfterPlayback:"boolean"===typeof i.retainLastMediaAfterPlayback?i.retainLastMediaAfterPlayback:void 0},errors:t}}(e),{config:n,errors:r}=X(e);return{config:ta({},t,n),errors:[...i,...r]}}function na(e){const t=Hh(e);if(void 0!==t)if(Object(ml.a)(t)){var i;if(i=t,ng||(ng=document.createElement("div")),ng.style.borderColor="",ng.style.borderColor=i,ng.style.borderColor.length>0)return t;Qo.c.error({error:new Jo.a({code:"INVALID_COLOR_VALUE_IN_AB_LONG_EXP",details:{experimentFlagName:e,flagValue:t}})})}else Qo.c.error({error:new Jo.a({code:"INVALID_COLOR_FLAG_IN_AB_LONG_EXP",details:{experimentFlagName:e,flagValue:t}})})}function ra(e,t){return Object(is.a)(e,e=>ag(e)?{duration:e.durationPortion*t,value:e.value}:{duration:e.durationPortion*t,values:e.values,easing:"easeInOut"})}function aa(e,t,i,n,r){const a=t=>{const n=1-t;return 3*n*n*t*e+3*n*t*t*i+t*t*t},o=e=>{const i=1-e;return 3*i*i*e*t+3*i*e*e*n+e*e*e},s=t=>{const n=1-t;return 3*(2*(t-1)*t+n*n)*e+3*(-t*t*t+2*n*t)*i};return e=>{const t=e;let i,n,d,l,c,u;for(d=t,u=0;u<8;u++){if(c=a(d)-t,Math.abs(c)<r)return o(d);if(l=s(d),Math.abs(l)<1e-6)break;d-=c/l}if(n=1,(d=t)<(i=0))return o(i);if(d>n)return o(n);for(;i<n;){if(c=a(d),Math.abs(c-t)<r)return o(d);t>c?i=d:n=d,d=.5*(n-i)+i}return o(d)}}function oa(e){let{position:t,unit:i,steps:n}=e;const{step:r,stepPosition:a}=function(e,t){let i=0;const{length:n}=t;for(let r=0;r<n;r++){const a=t[r],o=i+a.duration,s=i<=e&&e<o;if(r===n-1||s)return{step:a,stepPosition:i};i=o}throw new Jo.a({code:"CANNOT_DETERMINE_ANIMATION_SCRIPT_STEP_BY_POSITION",details:{position:e,steps:t}})}(t,n);if(og(r))return r.value;const{duration:o,values:[s,d],easing:l=dg}=r;if(s===d)return s;if(t>=a+o)return d;const c=("function"===typeof l?l:sg[l])((t-a)/o);return(0,lg[i])(c,s,d)}function sa(e,t){const i=vg.get(e);return!i||t?mg:i}function da(){return(da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function la(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ca(e,t,i,n){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!zg.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,n?"important":""):e.style.cssText+=";"+t+": "+i+(n?"!important":""))}function ua(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ha(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")?Zo.a:function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===db.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?Zo.a:Pi(e,{pip:"false"}):Zo.a}function pa(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:n=!1}=t,r=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),a=r.shift();if(!(null===a||void 0===a?void 0:a.startsWith("WEBVTT")))throw new Error('Must start with "WEBVTT"');const o=a.split("\n"),s=o[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===r.length&&1===o.length)return{valid:!0,strict:n,cues:[],errors:[]};if(!i&&o.length>1&&""!==o[1])throw new Error("Missing blank line after signature");const{cues:d,errors:l}=function(e,t){const i=[];return{cues:Object(Pd.a)(Object(is.a)(e,(e,n)=>{try{return function(e,t,i){let n="",r=0,a=.01,o="",s="";const d=Object(Pd.a)(e.split("\n"),Boolean);if(d.length>0&&d[0].trim().startsWith("NOTE"))return;if(1===d.length&&!va(d[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(d.length>1&&!va(d[0])&&!va(d[1])){throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")")}d.length>1&&va(d[1])&&(n=d.shift());if("string"!==typeof d[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const l=d[0].split(" --\x3e ");if(2!==l.length||!Aa(l[0])||!Aa(l[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(r=ma(l[0]),a=ma(l[1]),i){if(r>a)throw new Error("Start timestamp greater than end (cue #"+t+")");if(a<=r)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&a<r)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");if(s=l[1].replace(ub,"").trim(),d.shift(),!(o=d.join("\n")))return;return{identifier:n,start:r,end:a,text:o,styles:s}}(e,n,t)}catch(r){return void i.push(r)}}),Boolean),errors:i}}(r,n);if(n&&l.length>0)throw l[0];const c=i?function(e){const t={};return Object(ts.a)(e.slice(1),e=>{const i=e.indexOf(":"),n=e.slice(0,i).trim(),r=e.slice(i+1).trim();t[n]=r}),Object(bd.a)(t).length>0?t:void 0}(o):void 0,u={valid:0===l.length,strict:n,cues:d,errors:l};return i&&(u.meta=c),u}function Aa(e){return ub.test(e)}function ma(e){const t=e.match(ub);if(null===t)throw new Error("Timestamp parse error");const i=parseFloat(t[1]||"0"),n=parseFloat(t[2]),r=parseFloat(t[3]);return i*oh+n*ah+r}function va(e){return-1!==e.indexOf("--\x3e")}function fa(e,t){const i=()=>{const i=wn(e);t(i)},n=[];return n.push(Object(qd.a)({element:e,eventName:"resize",listener:i}),oi(i)),()=>{ni(n)}}function ga(e,t,i){function n(){0!==o&&(clearTimeout(o),o=0)}let{threshold:r=Ab,delay:a=mb}=void 0===i?{}:i,o=0,s=0,d=0;const l=ki(e,"click",(function(e){0!==o&&(n(),t(e))}),{passive:!0}),c=ki(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,d=e.changedTouches[0].screenY,n(),o=window.setTimeout(n,a))}),{passive:!0}),u=ki(e,"touchend",(function(e){0!==o&&(n(),t(e))}),{passive:!0}),h=ki(e,"touchmove",(function(e){if(0===o||!Object(hs.a)(e.touches)||1!==e.touches.length)return void n();const{screenX:t,screenY:i}=e.changedTouches[0];if(a=t,l=i,Math.abs(s-a)>r||Math.abs(d-l)>r)n();else var a,l}),{passive:!0});return()=>{l(),c(),u(),h()}}function ba(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return Object(Pd.a)(vb,e=>{let{enabled:i}=e;return i in t})}(e);if(i.length>0)return i[0];const n=function(e,t){var i,n;return void 0===e&&(e=window),void 0===t&&(t=null!==(i=null===(n=e.HTMLVideoElement)||void 0===n?void 0:n.prototype)&&void 0!==i?i:{}),Object(Pd.a)(vb,e=>{let{enabled:i}=e;return i in t})}(e,t);return n.length>0?n[0]:void 0}function _a(e,t){const i=ba(e,t);if(!i)return null;let n=e.document[i.element];return t&&t[i.element]&&(n=t),n||null}function Oa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ta(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ea(){return(Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Sa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function wa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ca(e){var t,i;const n=!0===e.HAS_TITLE,r=!0===e.HAS_BODY,a=e.BUTTON_POSITION,{data_params:o}=null!==(t=e.AUCTION_DC_PARAMS)&&void 0!==t?t:{},s=o&&PA(o),{title:d,body:l}=null!==(i=null===s||void 0===s?void 0:s.text)&&void 0!==i?i:{},c=function(e){let{titleEnabled:t,bodyEnabled:i,body:n,title:r,buttonPosition:a}=e;return!(t&&i&&n&&r)?Object(Hd.a)(Ub,a)?a:"left-bottom":Object(Hd.a)(xb,a)?a:"right-bottom"}({titleEnabled:n,bodyEnabled:r,buttonPosition:a,title:d,body:l}),u=c.split("-")[0];return{position:c,side:u,oppositeSide:"left"===u?"right":"left"}}function Ia(e){const{BUTTON_COLOR:t="#ffdb4d",BUTTON_TEXT_COLOR:i="#000000",BUTTON_BORDER_COLOR:n=""}=e,r=Object(is.a)((a=t,[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]),e=>it(e)?e:0).join(", ");var a;return{backgroundColor:"rgb("+r+")",boxShadow:"0 6px 8px rgba("+r+", 0.53)",color:i,borderColor:n}}function Pa(e,t,i){if(!e)return Wb;const n=Hb(e.controlsVisibility),r=Boolean(t.abuseUrl);return{isCloseAvailable:n&&r,isCloseDialogActive:"selection"===i}}function Na(){return(Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Da(){return(Da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ra(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ka(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Va(e){let{width:t}=e;return t<Ag?"small":"middle"}function Ba(e){let{abuseScreenWidth:t,hasDescription:i}=e;return i&&t>=400?"middle":t>=500?"middle":"small"}function La(e){let{isShortDescription:t,abuseScreenWidth:i}=e;return t?19:i<400?27:33}function ja(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:n}=e;return i?0!==t?"unmuted":n?"muted":"mutedStart":"unavailable"}function Ma(){return(Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function xa(){const e=ef(),t=jO(),i=UO();return Er(()=>Sn({slotSize:e,videoContentSize:t,videoSlotSize:i}),[e,t])}function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Fa(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function Ha(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Wa(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}function za(e,t,i){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,i);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=i}return i}function Ga(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ya(e){if(!Object(hs.a)(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return b({stickTo:qa(t,QT),stickyColorScheme:qa(i,JT)})}function qa(e,t){if("string"!==typeof e)return;if(!Object(hs.a)(t))return;const i=e.toLowerCase();return oe(t).indexOf(i)>-1?i:void 0}function Ka(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?j(i):void 0}function Xa(e,t){return"true"===Ka(e,t)}function Ja(){return(Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Za(e,t,i){const n=[],r=i.querySelector("AdSource");if(!r)throw new Jo.a({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let a=qT;if(r.hasAttribute("id")){if(!it(a=Number(r.getAttribute("id"))))throw new Jo.a({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else n.push(new Jo.a({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const o=i.querySelector("Extensions");if(!o)throw new Jo.a({code:"NO_AD_BREAK_EXTENSIONS",details:t});const s=r.querySelector("AdTagURI"),d=j(s);if(!s||!d)throw new Jo.a({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const l={adTagURI:d,adFoxParameters:void 0},c=i.getAttribute("breakType"),u=L(i,"breakId"),h=L(i,"timeOffset","start"),p=()=>new Jo.a({code:"VMAP_INCORRECT_TIME_OFFSET",details:Qa({},t,{timeOffset:h,breakIdAttribute:u})});if(-1===WT.indexOf(u))throw new Jo.a({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:Qa({},t,{breakIdAttribute:u})});const A=c===YT,m=function(e,t){switch(e){case zT:return[new Jo.a({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case GT:case YT:return[];default:throw new Jo.a({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(c,t);if(n.push(...m),A!==gi({adType:u})){if("inroll-overlay"!==u)throw new Jo.a({code:"INCOMPATIBLE_BREAK_TYPE_ATTRIBUTE",details:t});n.push(new Jo.a({code:"INCORRECT_BREAK_TYPE_ATTRIBUTE",details:{adBreakType:u,adBreakTypeAttribute:c}}))}let v;if("inpage"===u)v=function(e){const t=Ka("Stick",e),i=Ya({stickTo:Ka("StickTo",e),stickyColorScheme:Ka("ColorScheme",e)});return Ja({stick:"true"===t,adType:"inpage",replayMode:ZT(e)},i)}(o);else if("inroll"===u)v={adType:"inroll"};else if("inroll-overlay"===u)v={adType:"inroll-overlay"};else if("start"===h){if(HT[h]!==u)throw p();v={adType:"preroll"}}else if("end"===h){if(HT[h]!==u)throw p();v={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(h))throw p();{if(["midroll","overlay"].indexOf(u)<0)throw p();const e=function(e,t){return Number(Ka(e,t))}("MaxRepeatCount",o),t=J(L(i,"repeatAfter")),n={timeOffset:J(h),repeatAfter:isNaN(t)?XT:t,maxRepeatCount:isNaN(e)?KT:e,repeatNumber:0};v=Qa("midroll"===u?{adType:"midroll",broadcastReplace:Xa("BroadcastReplace",o)}:{adType:"overlay"},n)}}return{adBreak:Qa({impId:a},v,e,l),errors:n,events:[]}}function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function eo(e){let{vmapXmlObject:t,vmapLoadParams:i,vmapAdBreaksConfig:n}=e;const{xml:r,responseText:a}=t,o={responseText:a};if(null===r||void 0===r)throw i?new Jo.a({code:"VMAP_EMPTY_RESPONSE",details:$a({},i,{vmapXmlObject:t})}):new Jo.a({code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const s=r.querySelector("VMAP");if(!s)throw new Jo.a({code:"NO_VMAP_ROOT_NODE",details:o});const d=s.querySelectorAll("AdBreak");if(null===d||0===d.length)throw new Jo.a({code:"NO_VMAP_AD_BREAKS",details:o});const l=new uE,c=r.querySelector("VMAP > Extensions");if(!c)throw new Jo.a({code:"NO_VMAP_EXTENSIONS",details:o});const u=s.querySelectorAll("TrackingEvents");Object(Zo.a)(u);const h=e=>{const t=c.querySelector('Extension[type="'+e+'"]');return t?j(t):""},p=e=>parseInt(h(e),10);l.isSingleVideoSession=(e=>"true"===h(e))("SingleVideoSession");const A={sessionId:h("SessionID"),vastTimeout:p("VASTTimeout"),videoTimeout:p("VideoTimeout"),vpaidTimeout:p("VPAIDTimeout"),wrapperTimeout:p("WrapperTimeout"),wrapperMaxCount:p("WrapperMaxCount"),bufferFullTimeout:p("BufferFullTimeout"),bufferEmptyLimit:p("BufferEmptyLimit")},m=[],v=[];for(let g=0;g<d.length;g++)try{const{adBreak:e,errors:t,events:i}=Za($a({},A,n),o,d[g]);l.adBreaks.push(e),m.push(...t),v.push(...i)}catch(f){m.push(f)}return{vmap:l,errors:m,events:v}}function to(e){if(!Object(hs.a)(e))return{config:{},errors:[]};const t={},i=[];if(void 0!==e.adFoxParameters){const r=(n=e.adFoxParameters,Object(hs.a)(n)?pe(n)?void 0===n.containerId||Object(ml.a)(n.containerId)?Object(Zd.a)(n.ownerId)?0===n.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT");r?i.push(new Jo.a({code:r,details:{adConfig:e}})):t.adFoxParameters=e.adFoxParameters}var n;return{config:t,errors:i}}function io(){return(io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function no(e){if(!Object(hs.a)(e))return{};const{partnerId:t,category:i,vmapId:n,vmapScenarioId:r,impId:a,videoContentId:o,additionalParams:s,vmap:d}=e;if(void 0!==a&&!it(a))throw new Jo.a({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==n&&!it(n))throw new Jo.a({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==d&&!Object(ml.a)(d))throw new Jo.a({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==r&&!it(r))throw new Jo.a({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return io({},function(e){const t=Object(hs.a)(e)?e:{};return b({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:d,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:a,vmapId:n,vmapScenarioId:r,videoContentId:"string"===typeof o?o:void 0,additionalParams:lt(s)})}function ro(){return(ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ao(e){if(!Object(hs.a)(e))return{config:{},errors:[]};const{config:t,errors:i}=to(e);return{config:ro({},t,no(e),function(e){if(Object(hs.a)(e))return{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?Object(is.a)(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?Object(is.a)(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?Object(is.a)(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&Object(ml.a)(e.vast)?String(e.vast):void 0,desiredBitrate:z(e.desiredBitrate),secureMode:tE(e),preferableAdSize:$T(e),loadHarmlessVastCallback:Object(_s.a)(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0}),errors:i}}function oo(){return(oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function so(e){const t=Object(hs.a)(e)?e:{};return b(oo({},Ya(t),{repeat:void 0===t.repeat?void 0:Boolean(t.repeat),vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout),wrapperTimeout:void 0===t.wrapperTimeout?void 0:Number(t.wrapperTimeout),wrapperMaxCount:void 0===t.wrapperMaxCount?void 0:Number(t.wrapperMaxCount),bufferFullTimeout:void 0===t.bufferFullTimeout?void 0:Number(t.bufferFullTimeout),bufferEmptyLimit:void 0===t.bufferEmptyLimit?void 0:Number(t.bufferEmptyLimit),videoTimeout:void 0===t.videoTimeout?void 0:Number(t.videoTimeout),vpaidTimeout:void 0===t.vpaidTimeout?void 0:Number(t.vpaidTimeout)}))}function lo(){return(lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function co(e){let t={};try{const i=e.getItem(oE);null!==i&&(t=JSON.parse(i))}catch(n){}const i={};return Object(Jl.a)(t,(e,t)=>{l(e)&&(i[t]=e)}),i}function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ho(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function po(){return(po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ao(){return(Ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function mo(e){return Object(ml.a)(e)?e:mE}function vo(){return(vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function fo(){return(fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function bo(){return(bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function yo(e){return!!Object(Zd.a)(e)&&OE.indexOf(e)>-1}function _o(){return(_o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Oo(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function To(e,t,i){const n=Object(wl.a)(Object(is.a)(Object(Fu.a)(t),e=>{let[t,i]=e;return[SE(t),i]}));return Gg(e,n,i)}function Eo(e,t,i){let n;const r=new Gd.a,a=an(e,t,e=>{n=e,r.dispatch(e)}),o=new _d.a(n,i),s=r.add(o);return{valueSignal:o,teardown:()=>{s(),a()}}}function So(e){return e.getBoundingClientRect().bottom>e.ownerDocument.body.getBoundingClientRect().bottom}function wo(e){var t;if(!e)return!1;const i=null!==(t=(e.ownerDocument||document).defaultView)&&void 0!==t?t:window;return Boolean(i.Element)&&e instanceof i.Element}function Co(e,t){void 0===t&&(t=PE);const i=e.ownerDocument,{body:n}=i,r=i.documentElement,a=i.defaultView,o=Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight);if(e===r||e===n){return o-((a.pageYOffset||r.scrollTop)-(r.clientTop||0)+a.innerHeight)<t}return!(e.clientHeight>0&&e.scrollHeight>e.clientHeight&&e.scrollHeight-(e.scrollTop+e.clientHeight)>t)}function Io(e){const{parentElement:t}=e;if(!t)return!1;const i=t.parentElement;if(!i)return!1;let n=i;for(;Boolean(n);){if(wo(n)&&!Co(n))return!1;n=n.parentNode||n.host}return!0}function Po(e,t,i){const n={promise:Promise.resolve(void 0),unsubscribe:()=>void 0};if(Object($o.a)("whenCanShow: start logic with threshold=["+i+"]"),function(e,t){const i=e.ownerDocument;return!!Object(fm.a)(i)&&Dn(e)>=t}(t,i))return Object($o.a)("whenCanShow: element is already visible"),n;if(Io(t)&&So(t))return Object($o.a)("whenCanShow: element is at the end of the <body>"),n;const r=[],a=()=>{Object($o.a)("whenCanShow: stop logic"),ni(Object(is.a)(r,e=>()=>Object(dd.a)(e)))};let o=Zo.a;if(hd&&(s=window).top===s.self){Object($o.a)("whenCanShow: use intersection observer");const n=e,a=t.getBoundingClientRect().height*i,{promise:s,teardown:d}=IE(n,"-"+a+"px",0);r.push(()=>d()),s.then(()=>{Object($o.a)("whenCanShow: waitTillVisibleWithOffset complete with thresholdBoundary=["+a+"]"),o()}).catch(md.a)}var s;return r.push(oi(()=>{const e=Object(fm.a)(document),n=Dn(t),r=e&&n>=i,s=Io(t)&&So(t);r||s?(Object($o.a)("whenCanShow: visibility detected by interval isVisible=["+r+"] isAtTheEndOfTheBody=["+s+"]"),o(),a()):Object($o.a)("whenCanShow: element visibility is NOT detected by interval documentVisibility=["+e+"}] elementVisibilityRatio=["+n+"] threshold=["+i+"]")})),{promise:new Promise(e=>{o=e}),unsubscribe:a}}function No(){return(No=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Do(e,t){e[LE]=t}function Ro(e){return e[LE]}function ko(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Vo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Bo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Lo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function jo(){return(jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Mo(){return(Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function xo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Uo(e){let{placeholderElement:t,placeholderWidth:i,adContentSize:n}=e;const r=function(e){let{placeholderWidth:t,adContentSize:i}=e;if(!i)return;const{width:n,height:r}=i;if(!l(n)||!l(r))return;const a=r/n;return Math.floor(t*a)}({placeholderWidth:i,adContentSize:n});void 0!==r?n&&(Object($o.a)("inPage: adjust ad height to adContentSize=["+JSON.stringify(n)+"] nextHeight=["+r+"]"),Gg(t,{height:r+"px"},!0)):Object($o.a)("inPage: skip adjust placeholder to unknown ad size")}function Fo(e,t){if(lS)return!1;const{left:i,right:n,top:r,bottom:a}=zd(e),o=n-i,s=a-r,d=e.ownerDocument!==document;let l;if(d){const t=Array.prototype.slice.call(document.getElementsByTagName("iframe"),0);l=Object(Bh.a)(t,t=>t.contentWindow===e.ownerDocument.defaultView)}return!os(t,t=>{let[n,a]=t,c=i+(o-1)*(1+n)/2,u=r+(s-1)*(1+a)/2;if(l){const{left:e,top:t}=zd(l);c+=e,u+=t}const h=document.elementFromPoint(c,u);if(!h||e===h||e.contains(h))return!0;if(d&&h&&"IFRAME"===h.tagName&&h.contentWindow&&h.contentWindow.document.body.contains(e))return!0;if(Object(_s.a)(e.getRootNode)){if(function e(t,i){const n=t.getRootNode();if(!n||!n.host)return!1;if(i.contains(n.host))return!0;return e(n.host,i)}(h,e))return!0;if(function e(t,i){const n=i.getRootNode();if(!n||!n.host)return!1;if(t===n.host)return!0;return e(t,n.host)}(h,e))return!0}return!1})}function Ho(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Wo(){return(Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function zo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Go(e){return e.createElement("video")}function Yo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function qo(){return(qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i.r(t);var Ko=i(24),Xo=i(4),Jo=i(0),Qo=i(1),Zo=i(5),$o=i(3),es=i(118),ts=i(7),is=i(6),ns=i(39),rs=i(20);const as="adfox.ru",os=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1};var ss=i(23);const ds=[...["localhost","127.0.0.1"].concat([]),...["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",ss.b,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]];var ls=i(21);const cs=(e=>Object(ls.a)(e.navigator.sendBeacon))(window);var us=i(42);Object(us.a)({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var hs=i(2);const ps=-1,As={droppedVideoFrames:ps,corruptedVideoFrames:ps,totalVideoFrames:ps},ms=c({},As,{droppedVideoFramesRatio:ps}),vs=0,fs={width:0,height:0},gs={visibility:0,size:fs,relativeSizeRatio:0,screenSize:fs,devicePixelRatio:0,downlink:0,videoSlotSize:fs,videoContentSize:void 0,videoAvatarSize:fs,videoPixelRatio:ps,videoToDevicePixelRatio:ps,videoFramesInfo:ms,videoSrc:"",videoMuted:!0,videoVolume:vs,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:ps,remainingBufferedTime:0};var bs=i(64),ys=i(83),_s=i(12),Os=i(40),Ts=i(135);const Es="client-ts",Ss="client-timezone-offset",ws="adsdk-bundle-version",Cs="adsdk-bundle-name",Is="adsdk-container-visibility",Ps="adsdk-container-width",Ns="adsdk-container-height",Ds="video-avatar-width",Rs="video-avatar-height",ks="ad-session-id",Vs="sid",Bs="viewability-undetermined",Ls="top-ancestor",js="top-ancestor-undetermined",Ms="video-volume",xs="video-muted",Us="shyid";var Fs=i(30),Hs=i(27),Ws=i(54);const zs=(e,t,i)=>{let n=e.getItem(t);return n||(n=i(t),e.setItem(t,n)),n};var Gs=i(63),Ys=i(78);const qs=(e,t,i)=>{if(!Object(hs.a)(e))return e;const n=e,r=t.split("."),a=r.pop();for(const o of r){const t=e[o];e=Object(hs.a)(t)?t:e[o]={}}return e[a]=i,n},Ks=e=>{try{return e()}catch(t){return}},Xs=(e,t,i,n)=>(function(){try{return t.apply(i||this,arguments)}catch(r){if(Object(_s.a)(n)&&n(r),!0===r.preventProtect)throw r;Xs.log(r,e)}});Xs.log=function(e,t){console.log("LOG:"+t+":"+e)},Xs.setTimeout=(e,t,i,n)=>window.setTimeout(Xs("timeout",e,i,n),t);class Js{}Js.YaContextCallbacks=h("Ya.C","ontext._callbacks"),Js.YaContextCallbacksCalls=h("Ya.C","ontext._callbacks_call"),Js.AdvManager=h("A","dvManager"),Js.AdvBlock=h("A","dvBlock"),Js.RTB=h("R","TB"),Js.Rtb=h("R","tb"),Js.MetrikaAdtune=h("metrika_a","dtune");class Qs{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const Zs=Object(Ws.a)(()=>((e,t,i)=>{let n;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],e=>{if(!(n=Ks(()=>Object(Ys.a)(e,t))))return Ks(()=>Object(Gs.a)(e.frames))||[]}),n||(n=i()),qs(e,t,n),n})(self,"Ya.pcodeCrossFrameData",()=>new Qs({}))),$s=e=>zs(Zs(),e,()=>new Qs({})),ed=Object(Ws.a)(()=>((e,t,i)=>{let n=Object(Ys.a)(e,t);return n||(n=i(),qs(e,t,n)),n})(self,"Ya.pcodeWindowData",()=>new Qs({}))),td=e=>zs(ed(),e,()=>new Qs({})),id=Xs("metrika::pushEvent",(e,t)=>{const i=Object(Ys.a)(e,"Ya._metrika.dataLayer")||[];qs(e,"Ya._metrika.dataLayer",i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:p({},t)}}})}),nd=Xs("sessionId::configureMetrika",(e,t)=>{id(e,{adSessionID:t})});var rd=i(58);const ad=()=>(1e6*Object(rd.a)()).toFixed(0)+(new Date).valueOf().toString();let od;const sd=()=>(od||(od=((e,t,i,n)=>{let r=t.getItem("sessionId");return r||(r=i.getItem("sessionId")||e(),n(window,r)),t.setItem("sessionId",r),i.setItem("sessionId",r),r})(ad,td("common"),$s("common"),nd)),od);var dd=i(34);const ld=()=>Object(dd.a)(sd)||void 0,cd=e=>{var t;const i=null===(t=e.yandex)||void 0===t?void 0:t.getSiteUid;if(Object(_s.a)(i))return String(i())};var ud=i(145);const hd="function"===typeof IntersectionObserver&&Object(ls.a)(IntersectionObserver);var pd=i(71);const Ad=hd||!pd.a;var md=i(26),vd=i(56);const fd=e=>(e=>e instanceof Promise||"Promise"===Object(vd.a)(e)&&Boolean(g(()=>Object(ls.a)(e.constructor))))(e)||(e=>Boolean(g(()=>Object(_s.a)(e.then)&&Object(_s.a)(e.catch))))(e);var gd=i(75),bd=i(10),yd=i(15),_d=i(8),Od=i(48),Td=i(131);const Ed="ru",Sd="TranslatorError";class wd extends Od.a{constructor(){super(...arguments),this.name=Sd}}const Cd=function(e,t){void 0===t&&(t=!1);const i=(t,i,n)=>e[t][i][n],n=(t,i,n)=>e[t]&&e[t][i]&&e[t][i][n],r=e=>{let{keyset:t,key:r,lang:a=Ed,onError:o,throwErr:s=!0}=e;if(n(a,t,r))return i(a,t,r);if(n(Ed,t,r))return i(Ed,t,r);{const e=new wd("Tanker locale for lang="+a+", keyset="+t+", key="+r+" not found");return s&&Object(md.a)(e),"function"===typeof o&&o(e),""}};if(t){const e=e=>{let{keyset:t,key:i,lang:n}=e;return t+"_"+i+"_"+n};return Object(Td.a)(r,e)}return r}(i(171)),Id=function(e,t){return void 0===t&&(t=Ed),Cd({keyset:"adsdk",key:e,lang:t})};var Pd=i(16),Nd=i(36),Dd=i(35);const Rd=function e(t){return Object(Dd.a)(t,(t,i)=>t.concat(Object(Nd.a)(i)?e(i):i),[])};var kd=i(28);const Vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";var Bd=i(32);const Ld=Object(Bd.b)(window,"adsdkwithcredentials"),jd=Ld?(""+Ld).toLowerCase():void 0,Md="true"===jd||"false"!==jd&&void 0,xd="\x3c!-- Bad partner/domain --\x3e",Ud="\x3c!-- PageImp data not found --\x3e";var Fd=i(55),Hd=i(22),Wd=i(44);const zd=e=>{try{const{left:t,right:i,top:n,bottom:r}=e.getBoundingClientRect();return{left:t,right:i,top:n,bottom:r,width:i-t,height:r-n}}catch(t){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};var Gd=i(11),Yd=i(139),qd=i(14),Kd=i(41),Xd=i(142),Jd=i(80);const Qd=e=>{let{version:t=Fs.a,win:i}=e;const n=Object(Kd.a)(i),r=Xd.a.ES5,a=""+Object(Jd.a)(t)+r+"/proxy_frame.html";return Object(_s.a)(n)?n(a):a};var Zd=i(17);let $d;const el=(void 0===(tl=window)&&(tl=window),$d||($d=tl.document.createElement("div")),$d);var tl;const il=(e,t)=>{const i="undefined"!==typeof el.style[e];if(i&&t&&Object(Zd.a)(t))try{el.style.cssText=e+": "+t+";";const i=Boolean(el.style.cssText);return el.style.cssText="",i}catch(n){return!1}return i};var nl=i(89);const rl={},al=function(e){return void 0===e&&(e=""),rl[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<nl.b.length;i++){const n=nl.b[i],r=n?""+n+t:e;if(il(r))return rl[e]=r}return rl[e]=e}(e)},ol={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},sl=e=>{const t=S({},e,{RUM_WRAPPER:void 0});return encodeURI(JSON.stringify(t))},dl={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},ll={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},cl=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const n=i?ll:dl;E(t,n.attributes),T(t,n.styles)},ul=ns.a,hl=Object(us.a)({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:ul}),pl=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" "),Al=e=>{const t=e.data;return!(!Object(hs.a)(t)||"kill-me"!==t.type)};var ml=i(9),vl=i(13),fl=i(90);const gl=5e3;class bl extends yd.a{constructor(e,t){var i,n,r;super(),this.port=e,this.commandHandlers=t,r=e=>{const t=Object(qd.a)({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new Jo.a({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},(n="listenForCommandEvents")in(i=this)?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,this.listenForNewCommands(),this.addDestroyHandler(Object(qd.a)({element:e,eventName:"messageerror",listener:()=>{this.destroy(new Jo.a({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=Object(Wd.a)(6),n=Object(kd.a)(gl);n.promise.then(()=>{this.destroy(new Jo.a({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))}).catch(md.a),this.addDestroyHandler(()=>n.clear());const r=this.waitForNextCommandEvent({name:e,id:i}),a=new Promise((t,a)=>{r.then(r=>{if(n.clear(),"success"===r.status)t(r.payload);else if("error"===r.status){const e=r.payload;a(Object(fl.b)(e))}else{if("abort"===r.status)return;this.destroy(new Jo.a({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:r.status,payload:r.payload,name:e,commandId:i}}))}}).catch(a)}),o=Object(vl.a)(()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})});return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:a,abort:o}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new Jo.a({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(C({},e,{type:"command"}))}catch(t){0,this.destroy(new Jo.a({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise(t=>{const i=this.listenForCommandEvents(n=>{n.name===e.name&&n.id===e.id&&(i(),t(n))})})}listenForNewCommands(){this.listenForCommandEvents(e=>{var t;if("start"!==e.status)return;const i=null===(t=this.commandHandlers)||void 0===t?void 0:t[e.name];if(!i)return void this.destroy(new Jo.a({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const n=this.createCommandControlDescriptor(e),r=e.payload;try{i(n,r)}catch(a){0,this.destroy(new Jo.a({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:a}}))}})}createCommandControlDescriptor(e){const t=new Gd.a;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy(n=>{i||"abort"===n.status&&n.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())})).catch(Zo.a),{resolve:n=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:n})},reject:n=>{if(i)return;i=!0,t.removeAll();const r=Object(fl.c)(n);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:r})},subscribeForAbort:function(){return i?Zo.a:t.add(...arguments)}}}isEventDataCommandLike(e){return!!Object(hs.a)(e)&&("command"===e.type&&(!!Object(ml.a)(e.id)&&!!Object(ml.a)(e.status)))}}const yl=Object(bd.a)({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),_l=["src","poster"],Ol=Object(bd.a)({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),Tl=["video/mp4","video/webm"],El={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},Sl=Object(bd.a)({load:0,play:0,pause:0,setAttribute:0});var wl=i(47);const Cl=Object(bd.a)({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),Il=e=>{return I({},Object(wl.a)(Object(is.a)(Cl,t=>[t,e[t]])),{target:null})},Pl=new WeakSet;class Nl extends yd.a{static isVideoNodeLocked(e){return Pl.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),Object($o.a)("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",Object(wl.a)(Object(is.a)(Tl,e=>[e,this.params.videoNode.canPlayType(e)]))),Object(ts.a)(Object(bd.a)(El),e=>{const t=El[e];Object(ts.a)(t,e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})})}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(Object(Hd.a)(Sl,e)){if("setAttribute"===e){const[e,n=""]=t;if(!Object(ml.a)(e))return;return Object(Hd.a)(_l,e)?i.setAttribute(e,n):void Qo.c.error({error:new Jo.a({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:n}})})}return i[e]()}Qo.c.error({error:new Jo.a({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!Object(Hd.a)(Ol,e))return void Qo.c.error({error:new Jo.a({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const n=e,r=i[n];qs(i,e,t),this.params.handleVideoNodePropertyChange(n,i[n]),this.addDestroyHandler(()=>{qs(i,e,r)})}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;Object(ts.a)(yl,t=>{this.addDestroyHandler(Object(qd.a)({element:e,eventName:t,listener:e=>{El.hasOwnProperty(e.type)&&Object(ts.a)(El[e.type],e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}),setTimeout(this.ignoreAfterDestroy(()=>{const t=Il(e);this.params.handleVideoNodeEvent(t)}),0)}}))})}}class Dl extends yd.a{constructor(e){super(),this.params=e,P(this,"dispatcher",void 0),P(this,"localVideoNode",void 0),P(this,"vpaidEventBus",new Gd.a),P(this,"vpaidGetterPropertyBus",new Gd.a),P(this,"dispatcherCommandHandlers",{handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:n,args:r}]=t;i(),this.vpaidEventBus.dispatch({eventName:n,args:r})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:n,value:r}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:n,value:r})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:n}=e,[{methodName:r,args:a}]=t;const o=this.localVideoNode;if(o)try{Object($o.a)("[outsideAPI] call video method=["+r+"], args=["+a+"]");const e=o.callVideoNodeMethod(r,a);return fd(e)?e.then(e=>{i(e)}).catch(n):i(e)}catch(s){this.destroy(new Jo.a({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new Jo.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:n,value:r}]=t;i();const a=this.localVideoNode;a?Object(Hd.a)(Ol,n)?(Object($o.a)("[outsideAPI] set video property name=["+n+"], value=["+r+"]"),a.setVideoNodeProperty(n,r)):this.destroy(new Jo.a({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:n,value:r}})):this.destroy(new Jo.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:n,value:r}}))}}),P(this,"handleVideoNodeEvent",e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])}),P(this,"handleVideoNodePropertyChange",(e,t)=>{Object($o.a)("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])}),Object($o.a)("[outsideApi]: init"),this.addDestroyHandler(e=>{e&&Qo.c.error({error:e})}),this.changeFrameVisibility(!1),this.dispatcher=new bl(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler(()=>this.dispatcher.destroy(void 0)),this.addDestroyHandler(Object(qd.a)({element:e.port,eventName:"message",listener:e=>{if(!Al(e))return;const{data:t}=e;this.destroy(new Jo.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler(e=>{this.isDestroyed||(Qo.c.error({error:null!==e&&void 0!==e?e:new Jo.a({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))}),this.addDestroyHandler(()=>{this.vpaidEventBus.removeAll()})}async doGETRequest(e){Object($o.a)("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:n}=await t.promise;return Object($o.a)("[outsideApi]: finish get request"),{responseStatus:n,responseText:i}}async loadCreative(e){Object($o.a)("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,Object($o.a)("[outsideApi]: done loading creative")}async initCreative(e){Object($o.a)("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,Object($o.a)("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return Object($o.a)("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return Object($o.a)("[outsideApi]: "+(e?"show":"hide")+" frame"),cl({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(Nl.isVideoNodeLocked(t))throw Object($o.a)("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");Object($o.a)("[outsideApi]: assign video tag"),this.localVideoNode=new Nl({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler(()=>{var e;Object($o.a)("[outsideApi]: UNassign video tag"),null===(e=this.localVideoNode)||void 0===e||e.destroy(void 0)})}listenRemoteVpaidEvents(e,t){return Object($o.a)("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add(i=>{let{eventName:n,args:r}=i;e===n&&t(n,r)})}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add(t=>{let{methodName:i,value:n}=t;e(i,n)})}}const Rl=async e=>{let{container:t,initAbort:i,initTimeout:n,win:r}=e;const a=Object(Wd.a)(6);Qo.c.event({name:"VASFrameInitStart",probability:Xo.a,data:{handshakeID:a}});const o=Date.now();let s=!1;const d=new Gd.a;d.add(()=>{s=!0}),i.add(()=>{Object($o.a)("[initOutsideApi]: init aborted"),Qo.c.event({name:"VASFrameInitAborted",probability:Xo.a,data:{handshakeID:a}}),d.dispatch(void 0)});const l=N({},Yd.a,{handshakeID:a}),c=(e=>{let{container:t,frameUrl:i,initialData:n}=e;const r=t.ownerDocument.createElement("iframe");return E(r,{name:sl(n),sandbox:pl,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),T(r,w({},ol)),cl({iframe:r,shouldBeVisibleNow:!1}),t.appendChild(r),r})({container:t,frameUrl:Qd({win:window}),initialData:l});d.add(()=>{Object($o.a)("[initOutsideApi]: remove frame"),Object(Ko.a)(c)});const u=new MessageChannel;u.port1.start(),d.add(()=>{u.port1.close()});const h=new Promise((e,t)=>{Object($o.a)("[initOutsideApi]: wait for frame to load"),c.addEventListener("load",()=>{Object($o.a)("[initOutsideApi]: got load event. transfer port"),c.contentWindow.postMessage({type:"init",handshakeID:a},"*",[u.port2]),e()})}),p=new Promise((e,t)=>{const i=Object(qd.a)({element:u.port1,eventName:"message",listener:t=>{const n=t.data;"handshake"===n.type&&n.initialData.handshakeID===a&&(Object($o.a)("[initOutsideApi]: got handshake event"),i(),e())}})}),A=Promise.all([h,p]),{promise:m,clear:v}=Object(kd.a)(n);if(m.then(()=>{var e;Qo.c.error({error:new Jo.a({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null===(e=c.parentElement)||void 0===e?void 0:e.tagName,frameBoundingClientRect:zd(c),handshakeID:a}})}),d.dispatch(void 0)}),A.then(()=>{v()}),d.add(()=>{v()}),await Promise.race([A,m]),s)throw new Jo.a({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});Qo.c.values({name:"VASFrameInitSuccess",probability:Xo.a,data:{handshakeID:a},labels:{},values:{timeSpent:Date.now()-o}}),c.removeAttribute("name"),i.removeAll();const f=new Dl({port:u.port1,initialData:l,frame:c});return f.addDestroyHandler(()=>{Object($o.a)("[initOutsideApi]: do teardown since class destroy"),Qo.c.event({name:"VASFrameDestroy",probability:Xo.a,data:{handshakeID:a}}),d.dispatch(void 0)}),f.addDestroyHandler(Object(qd.a)({element:u.port1,eventName:"message",listener:e=>{const t=e.data;Object(hs.a)(t)&&"destroy"===t.type&&Qo.c.error({error:new Jo.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),Object($o.a)("[initOutsideApi]: init done"),f},kl=e=>{Object($o.a)("[initOutsideApi]: do init"),(e=>hl.call({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:ul,callbackArguments:[{step:e}]}))({name:"before OutsideAPI init call",initParams:e});const{container:t,initTimeout:i}=e,n=new Gd.a,r=t.ownerDocument.defaultView;return{initPromise:Rl({container:t,initAbort:n,initTimeout:i,win:r}),abortInit:()=>n.dispatch(void 0)}},Vl={idle:["initializing"],initializing:["initialized"]};class Bl extends yd.a{constructor(){super(),D(this,"initPromise",void 0),D(this,"state",new _d.a({name:"idle"},(e,t)=>{const i=Vl[e.name];return i&&Object(Hd.a)(i,t.name)||Qo.c.error({error:new Jo.a({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),Object($o.a)("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),D(this,"users",0),Object($o.a)("SingleVASFrame: create instance"),this.initPromise=new Promise(e=>{this.state.add(t=>{"initialized"===t.name&&e(t.outsideApi)})}),this.state.add(e=>{"initializing"===e.name&&e.outsideApiInitPromise.then(e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler(()=>{e.destroy(void 0)})}).catch(e=>{this.destroy(e)})})}init(e){Object($o.a)("SingleVASFrame: do init");const t=kl(e);this.addDestroyHandler(()=>{t.abortInit()}),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");Object($o.a)("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){Object($o.a)("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let Ll;const jl=()=>(Ll||(Ll=new Bl).addDestroyHandler(()=>{Ll=void 0}),Ll),Ml=async e=>{const t=jl();return(await t.initPromise).doGETRequest(e)},xl=function(e,t){let i=e[t];if(!Object(ls.a)(i)){const r=i;try{delete e[t],i=e[t],e[t]=r}catch(n){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,Object(hs.a)(t))for(const n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return new i},Ul=e=>e instanceof Date||"Date"===Object(vd.a)(e);var Fl=i(43);const Hl=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let n=t;if(Object(Nd.a)(t)){return t.map(t=>e(t,i))}return Ul(t)?new Date(t.getTime()):(!Object(_s.a)(t)&&Object(hs.a)(t)&&(n=i.preserveConstructors?xl(t):{},Object(Fl.a)(t,(t,r)=>{n[r]=e(t,i)})),n)},Wl=["nobanner","noad"];let zl={ads:[],children:[],xmlString:"",url:void 0};const Gl=(e,t,i)=>{const n=L(e,t,i),r=parseInt(n,10);return d(r)?r:i},Yl=-1,ql=4,Kl=2147483647,Xl=-1;var Jl=i(69);const Ql={adLabel:0,actionButton:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0},Zl=Object(bd.a)(Ql),$l=y(Ql,()=>!1),ec={controlsVisibility:{}},tc={};let ic={sequence:0,adParameters:"",mediaFiles:[],icons:[],isNonLinear:!1,progressTrackings:[],trackingEvents:{},clickThrough:"",abuseUrl:"",duration:0,isClickable:!0,isNotReplacedBroadcastAd:!1};let nc={showCountDown:!0,showSoundButton:!0,showLabel:!0};const rc=e=>({src:j(e.querySelector("StaticResource")),program:L(e,"program"),xPosition:Gl(e,"xPosition",0),yPosition:Gl(e,"yPosition",0),width:Gl(e,"width",0),height:Gl(e,"height",0)}),ac=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])},oc=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const n=e.querySelector("VideoClicks"),r=e.querySelectorAll("MediaFile"),a=e.querySelector("Linear"),o=e.querySelector("NonLinear"),s=e.querySelector("NonLinearClickThrough"),d=e.querySelector("TrackingEvents"),l=d?d.querySelectorAll("Tracking"):[],c=Object(Gs.a)(e.querySelectorAll("Impression")),u=e.querySelectorAll("Error"),h=e.querySelector("Extensions"),p=e.querySelector("Description"),A=e.querySelectorAll("Icons Icon"),m=e.querySelector("AdParameters"),f=e.querySelector("AdSystem"),g=e.querySelector("AdTitle"),b=Hl(ic,{preserveConstructors:!1}),y=e.querySelector("InLine"),_=e.querySelector("Wrapper"),O=Boolean(y);if(O===Boolean(_)){if(O)throw new Jo.a({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new Jo.a({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(b.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return Yl;const i=parseInt(t,10);return Z(i)?i:(Qo.c.error({error:new Jo.a({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),Yl)}(e),O&&m){const e=j(m);b.adParameters=e;const t=x(e);if(Object(hs.a)(t)){b.adParametersObject=t;const e=function(e){if(!Object(hs.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object(hs.a)(t))return;const{data_params:i}=t;if(!Object(hs.a)(i))return;const{misc:n}=i;if(!Object(hs.a)(n))return;const{click_url:r}=n;if(!Object(hs.a)(r))return;const{abuse:a}=r;return Object(ml.a)(a)?a:void 0}(t);e&&(b.abuseUrl=e),b.playbackAdParameters=X(t.playbackParameters).config;const i=function(e){if(!Object(hs.a)(e))return;const{background:t}=e;return Object(hs.a)(t)&&Object(ml.a)(t.color)?t.color:void 0}(t);void 0!==i&&(b.backgroundColor=i);const n=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(Object(ml.a)(t))return t}(t);n&&ac(b,"packshotStart",n)}}if(_){const t=j(e.querySelector("VASTAdTagURI"));if(!t)throw new Jo.a({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});b.vastAdTagUri=t}if(void 0!==r)for(let v=0;v<r.length;v++){const e=U(r[v]);e&&b.mediaFiles.push(e)}if(n){const e=j(n.querySelector("ClickThrough"));e&&(b.clickThrough=e)}if(n){const e=n.querySelectorAll("ClickTracking");for(let t=0;t<e.length;t++)ac(b,"clickThrough",j(e[t]))}for(let v=0;v<l.length;v++){const e=L(l[v],"event"),t=j(l[v]);if("progress"===e){const e=L(l[v],"offset",""),n=Q(e);void 0!==n?b.progressTrackings.push({urls:[t],offset:n}):Qo.c.error({error:new Jo.a({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})})}else ac(b,e,t)}Object(ts.a)(c,e=>{ac(b,"impression",j(e))});for(let v=0;v<u.length;v++)ac(b,"error",j(u[v]));for(let v=0;v<A.length;v++)b.icons.push(rc(A[v]));if(h){const e=h.querySelectorAll('Extension[type="skipAd"]');for(let l=0;l<e.length;l++)Qo.c.event({name:"UsingSkipAdExtensionInVast",probability:Xo.a,data:void 0}),ac(b,"skip",j(e[l]));const t=h.querySelector('Extension[type="skipTime"]');if(M(t)){const e=J(j(t));Qo.c.event({name:"UsingSkipTimeExtensionInVast",probability:Xo.a,data:{skipTime:e}}),b.skipTime=J(j(t)),b.skipTime>180&&(b.skipTime=0)}const i=h.querySelector('Extension[type="controls"]');i&&(b.imhoParams=(e=>{const t=$({},nc),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==L(i,"layout"));const n=e.querySelector('control[id="soundbtn"]');n&&(t.showSoundButton="0"!==L(n,"layout"));const r=e.querySelector('control[id="adlabel"]');return r&&(t.showLabel="0"!==L(r,"layout")),t})(i));const n=h.querySelector('Extension[type="isClickable"]');M(n)&&(b.isClickable="0"!==j(n)),h.querySelector('Extension[type="broadcastAdNotReplaced"]')&&(b.isNotReplacedBroadcastAd=!0);const r=h.querySelector('Extension[type="backgroundBlur"]');M(r)&&(b.backgroundBlur="1"===j(r));const a=h.querySelector('Extension[type="OutstreamEndScreen"]');a&&(b.endScreenParams=(e=>{const t={randomBackgrounds:[]},i=e.querySelector("RandomBackgrounds");if(i){const e=i.querySelectorAll("Background");for(let i=0;i<e.length;i++){const n=L(e[i],"src");Object(ml.a)(n)&&t.randomBackgrounds.push(n)}}return t})(a));const o=h.querySelector('Extension[type="CustomTracking"]'),s=o?o.querySelectorAll("Tracking"):[];for(let l=0;l<s.length;l++){const e=L(s[l],"event");ac(b,e,j(s[l]))}const d=h.querySelector('Extension[type="isIndependentOnVideoElement"]');M(d)&&(b.isIndependentOnVideoElement="1"===j(d))}if(M(p)&&(b.description=j(p)),M(f)&&(b.adSystem=j(f)),M(g)&&(b.adTitle=j(g)),a){const e=L(a,"skipoffset","").trim();if(""!==e){const t=J(e);isNaN(t)?v(new Jo.a({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),b.trackingEvents.error):b.skipOffset=t}const t=a.querySelector("Duration");t&&(b.duration=J(j(t)))}if(o){if(b.isNonLinear=!0,s){const e=j(s);e&&(b.clickThrough=e)}b.mediaFiles=Object(Pd.a)([F(o)],Boolean)}return b},sc=async e=>{const t=V(e.xmlString),i="YANDEX"===e.loadParameters.vastSourceType;if(!t)throw new Jo.a({code:i?"YANDEX_INVALID_VAST_XML":"INVALID_VAST_XML",details:{xmlString:e.xmlString}});const n=t.querySelector("VAST");if(!n){const n=i?"YANDEX_NO_AD_CUSTOM_MARKER":"NO_AD_CUSTOM_MARKER",r=i?"YANDEX_VAST_TAG_NOT_FOUND":"VAST_TAG_NOT_FOUND";throw new Jo.a({code:Wl.indexOf(B(t))>-1?n:r,details:{xmlString:e.xmlString}})}const r=n.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!Object(Zd.a)(e))return!1;const t=Number(e.split(".")[0]);return!!l(t)&&t<=ql}(r))throw new Jo.a({code:i?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:e.xmlString,version:r}});const a=Array.prototype.slice.call(t.querySelectorAll("VAST Ad"));if(0===a.length)return Hl(zl,{preserveConstructors:!1});const o=[],s=Object(is.a)(a,t=>{const n=oc(t,{isYandexVastUrl:i}),{vastAdTagUri:r}=n;if(!r)return[n];if(e.loadParameters.wrapperMaxCount<=1)return Qo.c.error({error:new Jo.a({code:i?"YANDEX_WRAPPER_MAX_COUNT_LIMIT":"WRAPPER_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:a,wrapperTimeout:s}=e.loadParameters,d=Object(kd.a)(s),l=d.promise.then(()=>(Qo.c.error({error:new Jo.a({code:i?"YANDEX_WRAPPER_LOAD_TIMEOUT":"WRAPPER_LOAD_TIMEOUT",details:{wrapperTimeout:s,vastAdTagUri:r,parsingParameters:e.loadParameters}})}),[])),c=pc({url:A({url:r,options:a,win:window}),loadParameters:ee({},e.loadParameters,{wrapperMaxCount:e.loadParameters.wrapperMaxCount-1})}).then(e=>(d.clear(),o.push(e),Object(is.a)(e.ads,e=>(((e,t)=>{t.mediaFiles.length&&(e.mediaFiles=[...e.mediaFiles,...t.mediaFiles]),Object(ts.a)(Object(bd.a)(t.trackingEvents),i=>{e.trackingEvents[i]=[...e.trackingEvents[i]||[],...t.trackingEvents[i]||[]]}),e.clickThrough||(e.clickThrough=t.clickThrough),null===e.skipTime&&(e.skipTime=t.skipTime),null===e.skipOffset&&(e.skipOffset=t.skipOffset),e.isClickable=e.isClickable||t.isClickable,e.progressTrackings.push(...t.progressTrackings),isNaN(e.duration)&&(e.duration=t.duration),e.sequence===Yl&&(e.sequence=t.sequence),t.isNotReplacedBroadcastAd&&(e.isNotReplacedBroadcastAd=!0),!1!==e.backgroundBlur&&"boolean"===typeof t.backgroundBlur&&(e.backgroundBlur=t.backgroundBlur),t.endScreenParams&&(e.endScreenParams?((e,t)=>{e.randomBackgrounds.push(...t.randomBackgrounds)})(e.endScreenParams,t.endScreenParams):e.endScreenParams=t.endScreenParams),e.adSystem||(e.adSystem=t.adSystem),t.isIndependentOnVideoElement&&(e.isIndependentOnVideoElement=!0)})(e,n),e)))).catch(t=>(Qo.c.error({error:new Jo.a({code:i?"YANDEX_WRAPPER_LOAD_ERROR":"WRAPPER_LOAD_ERROR",details:{error:t,vastAdTagUri:r,parsingParameters:e.loadParameters}})}),[]));return Promise.race([l,c])}),d=R(await Promise.all(s)),[c,u]=k(d,e=>e.isNonLinear),h=u.length>0;return h&&c.length>0&&Qo.c.error({error:new Jo.a({code:i?"YANDEX_LINEAR_AND_NONLINEAR_IN_SINGLE_VAST":"LINEAR_AND_NONLINEAR_IN_SINGLE_VAST",details:void 0})}),{ads:h?u:c,xmlString:e.xmlString,children:o,url:e.vastUrl}},dc=async(e,t)=>{let i;try{await new Promise((n,r)=>{t&&t.then(n,r),i=window.setTimeout(n,e)})}finally{window.clearTimeout(i)}};var lc=i(37);const cc=e=>{let{url:t,data:i,withCredentials:n=!0}=e;return new Promise((e,r)=>{const a=new XMLHttpRequest;a.open("GET",t),a.withCredentials=n,a.onerror=()=>r({reason:"error",error:new Error("XHR Error["+a.status+"]["+a.statusText+"]["+t+"]")}),a.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:n}=t;i({responseText:n,responseStatus:e})}})({xhr:a,resolve:e});try{a.send(i)}catch(o){o.message="XHR Send Error["+o.message+"]["+t+"]",r({reason:"error",error:o})}})},uc=e=>{let{thrownError:t,errorCode:i,errorDetails:n,timeoutCode:r,timeoutDetails:a}=e;const o=t;if("string"===typeof o.reason&&Object(hs.a)(o.error)){const{error:e,reason:t}=o;if("error"===t)return new Jo.a(e,{code:i,details:n});if("timeout"===t)return new Jo.a(e,{code:r,details:a})}return new Jo.a(t,{code:i,details:n})},hc=async e=>{let{url:t,loadParameters:i}=e;const{vastTimeout:n}=i,r=a(t),o="VASFrame"===i.requestMethod?Ml:cc,s="boolean"!==typeof Md||Md;try{const{responseText:e,responseStatus:a}=await ie({url:t,data:null,timeout:n,doRequest:o,withCredentials:s}),d=function(e,t,i){if(200!==t)switch(e){case xd:return"BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";case Ud:return"BAD_IMP_ID_FOR_VAST_REQUEST";default:return i?"YANDEX_INVALID_VAST_RESPONSE_STATUS":"INVALID_VAST_RESPONSE_STATUS"}}(e,a,r);if(d)throw new Jo.a({code:d,details:{url:t,responseText:e,responseStatus:a}});return sc({xmlString:e,loadParameters:i,vastUrl:t})}catch(d){const e="AD_FOX"===i.vastSourceType;let a;a=Object(Fd.a)(d)?d.code:e?"ADFOX_VAST_LOAD_ERROR":r?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR";const o=uc({thrownError:d,errorCode:a,errorDetails:void 0,timeoutCode:r?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT",timeoutDetails:{vastTimeout:n,url:t}});return Promise.reject(o)}},pc=async e=>{let{url:t,loadParameters:i}=e;if(!t)return Promise.reject(new Jo.a({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:n}=i;Qo.c.event({name:"VastLoadStart",probability:Xo.a,data:{url:t,loadParameters:i,timeout:n}});const r=Date.now(),a=await hc({url:t,loadParameters:i});return Qo.c.values({name:"VastLoadSuccess",probability:Xo.a,data:{url:t,timeout:i.vastTimeout,vast:a},labels:{},values:{timeSpent:Date.now()-r}}),a},Ac={bids:[],creatives:{},creativeUrls:{}};var mc=i(106);const vc=100,fc=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};class gc extends yd.a{constructor(e,t,i){super(),this.adFoxParameters=e,this.adBreak=t,this.win=i,le(this,"requestPromise",void 0),le(this,"onFetchBidsStart",new Gd.a),le(this,"postMessageRequestId",Os.a+"_"+Object(Wd.a)(16)),this.addDestroyHandler(()=>{this.onFetchBidsStart.removeAll()}),this.requestPromise=new Promise(e=>{this.addDestroyHandler(e)}),this.requestBids()}requestBids(){Qo.c.event({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then(async e=>{let{timeout:t}=e;Qo.c.event({name:"HBFetchBidsStart",data:de({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:n}=Object(kd.a)(t);throw this.addDestroyHandler(i),await n,new Jo.a({code:"HB_FETCH_BIDS_TIMEOUT",details:de({},this.getDataForLogs(),{timeout:t})})}).catch(e=>{Qo.c.errorToStats(e),this.destroy(Ac)})}subscribeHBMessages(){this.addDestroyHandler(Object(qd.a)({element:this.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!Object(hs.a)(t)||!Object(hs.a)(i))return;const{id:n,methodName:r}=t;if(n===this.postMessageRequestId)switch(r){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:Qo.c.error({error:new Jo.a({code:"HB_MESSAGE_UNKNOWN_METHOD",details:de({},this.getDataForLogs(),{methodName:r})})})}}}))}handleFetchBidsStartEventData(e){if(!Object(hs.a)(e))return void Qo.c.error({error:new Jo.a({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;l(t)?this.onFetchBidsStart.dispatch({timeout:t}):Qo.c.error({error:new Jo.a({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:de({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:n,warnings:r}=function(e,t){const i=[];if(!Array.isArray(e))throw new Jo.a({code:"HB_NON_ARRAY_BIDS_DATA",details:se({},t,{fetchedBids:e})});e.length>1&&i.push(new Jo.a({code:"HB_EXTRA_BIDS_DATA",details:se({},t,{fetchedBids:e})}));const[n]=e;if(!Object(hs.a)(n))throw new Jo.a({code:"HB_NON_OBJECT_BIDS_DATA",details:se({},t,{fetchedBids:e})});const{bids:r,creatives:a,creativeUrls:o}=n;if(!Array.isArray(r)||!fc(r,hs.a))throw new Jo.a({code:"HB_INVALID_BIDS_OBJECTS",details:se({},t,{fetchedBids:e})});if(!Object(hs.a)(a)||!fc(oe(a),Zd.a))throw new Jo.a({code:"HB_BIDS_INVALID_CREATIVES",details:se({},t,{fetchedBids:e})});if(!Object(hs.a)(o)||!fc(oe(o),Zd.a))throw new Jo.a({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:se({},t,{fetchedBids:e})});return{bids:r,creatives:a,creativeUrls:o,warnings:i}}(e,this.getDataForLogs()),a={bids:t,creatives:i,creativeUrls:n};ne(r),Qo.c.event({name:"HBFetchBidsComplete",data:de({},this.getDataForLogs(),{fetchedBidsObject:a})}),this.destroy(a)}catch(t){Qo.c.errorToStats(t)}}sendBidsRequest(){const e=Object(mc.a)(this.win),t={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:this.adFoxParameters.containerId,adBreakType:this.adBreak.adType}]};for(const r of e)ae(de({win:r},t));const{promise:i,clear:n}=Object(kd.a)(vc);return this.addDestroyHandler(n),new Promise((e,t)=>{i.then(()=>{const{promise:e,teardown:t}=function(e){let t;const i=Math.random(),n=new Promise(n=>{t=Object(qd.a)({element:e,eventName:"message",listener:e=>{let{data:r}=e;r===i&&(t(),n())}}),e.postMessage(i,"*")});return{teardown:t,promise:n}}(this.win);return this.addDestroyHandler(t),e}).then(()=>{t(new Jo.a({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))}).catch(t);const r=re(t=>{n(),e(t)},e=>{Qo.c.error({error:new Jo.a({code:"HB_START_MULTIPLE_TIMES",details:de({},this.getDataForLogs(),{data:e})})})});this.addDestroyHandler(this.onFetchBidsStart.add(r))})}getDataForLogs(){return{adBreak:this.adBreak,adFoxParameters:this.adFoxParameters,postMessageRequestId:this.postMessageRequestId}}}const bc={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},yc=Object(bd.a)(bc),_c=Object(Bd.b)(window,"adsdksecuremode"),Oc=_c&&Object(Hd.a)(yc,_c)?_c:void 0,Tc=e=>{let{secureMode:t,url:i}=e;const n=null!==Oc&&void 0!==Oc?Oc:t;return"ForceSafe"===n||"Safe"===n&&(!i||!a(i))},Ec=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],Sc=(me(),function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1});var wc=i(77);const Cc=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var Ic,Pc;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(Ic||(Ic={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(Pc||(Pc={}));const Nc=e=>Math.max(0,Math.round(e));class Dc{constructor(){this.config=ge()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}let Rc=0;const kc=()=>Rc,Vc=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},Bc=e=>{return e.getFullYear()+"-"+Vc(e.getMonth()+1,2)+"-"+Vc(e.getDate(),2)+"T"+Vc(e.getHours(),2)+":"+Vc(e.getMinutes(),2)+":"+Vc(e.getSeconds(),2)+"."+Vc(e.getMilliseconds(),3)+(e=>{const t=-e.getTimezoneOffset();return""+(t>=0?"+":"-")+Vc(Math.floor(Math.abs(t)/60),2)+":"+Vc(Math.abs(t)%60,2)})(e)},Lc=()=>(function(e,t){let i=e+Object(rd.a)()*(t+1-e);return i=Math.floor(i)})(1,4294967295),jc=(e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(a){}const n=/(%[0-9A-Z]{2})+/g;let r;for(let o=0;o<i.length;o++){const e=i[o].split("="),s=e.slice(1).join("=");try{const i=e[0].replace(n,decodeURIComponent);if(s.replace(n,decodeURIComponent),t===i){r=decodeURIComponent(s);break}}catch(a){return}}return r};let Mc=0;const xc=e=>{let{win:t,date:i=new Date,pr1:n,pr:r,testtag:a,isTurbo:o=Ae(t),addsSsSkipToken:s=!1,layoutConfig:d=new Dc,cookies:l,loaderVer:c,bundleVer:u,adSessionId:h,location:p,extid_loader:A,extid_tag_loader:m}=e;d.set("req_no",(()=>Mc++)()),d.set("ad_no",be());const v=Te({},(e=>{let{win:t,pr:i,date:n=new Date,pr1:r=Lc(),location:a,extid_loader:o,extid_tag_loader:s}=e;const d=me(t)&&t.context&&t.context.sourceUrl||void 0,l=d||t.document.referrer;return{dl:d||a||ye(t),date:Bc(n),pd:n.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:r,pr:i,prr:l,pv:n.getHours(),pw:n.getDay(),extid_loader:void 0===o?_e(t):o,extid_tag_loader:void 0===s?Oe(t):s}})({win:t,date:i,pr1:n,pr:r,location:p,extid_loader:A,extid_tag_loader:m}),{ylv:"0."+(c||"1"),ybv:"0."+(u||"1"),ytt:a?a.toString():"","is-turbo":Number(o),"skip-token":ve(),"ad-session-id":h||sd(),"layout-config":d.toString(),"enable-flat-highlight":1},l);return s&&(v["ss-skip-token-length"]=20,v["allow-repeat-ads"]=0),v},Uc=2048,Fc=[/avito/],Hc=["slide","visibleAfterInit","insertAfter","insertPosition","stick","stickTo","stickyColorScheme","replayMode","preload"],Wc=["an.ya","ndex.ru/adf","ox"].join(""),zc=ss.a+"/adfox";class Gc extends yd.a{constructor(e){super(),this.params=e,Re(this,"loadVastPromise",void 0),Re(this,"loadingTimeoutPromise",void 0);const{promise:t,clear:i}=Object(kd.a)(this.params.adBreak.vastTimeout);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch(e=>{throw Qo.c.errorToStats(e),this.destroy(),e})}async processAdFoxVastLoading(){var e;const{adConfig:t,adBreak:i,adPlacementOptions:n}=this.params;let{adFoxParameters:r}=t;const{bids:a,containerId:o}=r;if(!a&&o){const e=new gc(De({},r,{containerId:o}),i,window);this.addDestroyHandler(()=>{e.destroy(Ac)});const n=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then(()=>{throw new Jo.a({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,adBreak:i,timeout:i.vastTimeout}})})]);r=De({},r,n)}const s=await Promise.race([Ne({adFoxParameters:r,adPlacementOptions:n,secureMode:t.secureMode}),this.loadingTimeoutPromise.then(()=>{throw new Jo.a({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adBreak:i,adFoxParameters:r}})})]),{vastBase64:d}=s;if(d){const e=await this.processBase64Vast(d).catch(e=>{throw new Jo.a({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,adBreak:i,vastBase64:d,error:e}})});return Qo.c.event({name:"AdFoxVastLoadedUsingHB",data:{adConfig:t,adBreak:i,vast:e}}),this.destroy(),e}const l=await this.processLoadingHBCreativeUsingCampaignId(r,s),c=Object(Pd.a)(null!==(e=r.bids)&&void 0!==e?e:[],e=>""+(e.campaign_id||"")===s.campaignId);return Object(ts.a)(c,e=>{let{win_notice:t}=e;t&&Object(ts.a)(l.ads,e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)})}),Qo.c.event({name:"AdFoxVastLoaded",data:{adConfig:t,adBreak:i,vast:l}}),this.destroy(),l}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:n,adBreak:r}=this.params,{creatives:a={},creativeUrls:o={}}=e,s=a[i],d=o[i];if(!s&&!d)throw new Jo.a({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:n,adBreak:r,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch(e=>{throw new Jo.a({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:n,adBreak:r,vastBase64:s,error:e}})}):pc({url:d,loadParameters:yi({adConfig:n,adBreak:r,isAdFox:!0,adPlacementOptions:gs})}).catch(e=>{throw new Jo.a({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:n,adBreak:r,vastUrl:d,error:e}})})}processBase64Vast(e){let t;try{t=O(e)}catch(i){throw new Jo.a({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:i}})}return sc({xmlString:t,loadParameters:yi({adConfig:this.params.adConfig,adBreak:this.params.adBreak,isAdFox:!0,adPlacementOptions:gs}),vastUrl:void 0})}}var Yc=i(79);const qc=Yc.a+"/1_0",Kc="https://"+ss.b+"/"+qc+"/",Xc="https://"+ss.a+"/system/video-ads-sdk/",Jc={AdSDKLoader:"adsdk",VpaidPlayerLoader:"interactive_viewer",OldPythiaSurvey:"vpaid-pythia-survey-embed"},Qc=""+Kc+(Jc.VpaidPlayerLoader+".js"),Zc=Object(Bd.b)(window,"adsdknovastconvertation"),$c="https://"+ss.b+"/"+qc+"/ad_creative.js",eu="https://"+ss.b+"/"+qc+"/overlay_creative.js",tu={OverlayTGO:eu,MotionTGO:$c,InteractiveElementsAdCreative:$c,ThemeEmpty:$c},iu={Overlay:"overlay-creative/javascript",Motion:"motion-creative/javascript",VpaidCreative:"vpaid-creative/javascript"},nu=Le({},fs,{bitrate:0});const ru=y(i(141).a,e=>"https://"+ss.b+"/"+qc+"/"+e+".js"),au=function(e){const t={};return Object(Fl.a)(e,(e,i)=>{t[e]=i}),t}(ru),ou=je({},nu,{url:ru.InteractiveElementsAdCreative,type:iu.Motion}),su={OverlayTGO:"overlay",MotionTGO:"motion",InteractiveElementsAdCreative:"interactiveViewer",ThemeEmpty:"themeEmpty"},du="https://"+ss.b+"/"+Yc.a+"/1_0/vpaid-motion.js",lu="https://"+ss.b+"/pcode/media/vpaid-motion.js",cu="https://"+ss.a+"/system/video-ads-sdk/vpaid-motion.js",uu=Object(Jd.a)()+"vpaid-motion.js",hu=[du,lu,cu,uu],pu="https://"+ss.b+"/pcode/media/vpaid-creative.js",Au="https://"+ss.b+"/"+Yc.a+"/1_0/vpaid-creative.js",mu=[pu,Au],vu=["application/javascript","application/x-javascript"],fu=xe({},nu,{type:"application/x-javascript",url:Object(Jd.a)()+"vpaid-pythia-survey-embed.js"}),gu=Ue({},nu,{type:"application/x-javascript"}),bu=Fe({url:$c},gu),yu=He({},nu,{url:ru.MotionTGO,type:iu.Motion}),_u=We({},nu,{url:ru.ThemeEmpty,type:iu.VpaidCreative}),Ou=15;const Tu=["https://"+ss.b+"/pcode/media/vpaid-pythia-survey-embed.js"],Eu="video-banner_survey",Su=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&os(t,e=>Object(Hd.a)(mu,e.url))},wu="video-banner_theme_empty";var Cu=i(76);var Iu=i(121),Pu=i(74),Nu=(i(173),i(52)),Du=i(49),Ru=i(110);const ku="AdSDKLoader"===Hs.c,Vu=Object(bd.a)({AdSDKLoader:0,VpaidPlayerLoader:0,OldPythiaSurvey:0}),Bu=Object(Hd.a)(Vu,Hs.c),Lu="VpaidPlayerLoader"===Hs.c,ju=Xc+"adsdk.js",Mu="1.0-"+Fs.a;var xu=i(140),Uu=i(50),Fu=i(38);const Hu=Object(Bd.b)(window,"adsdkabflags");var Wu=i(103),zu=i(119);const Gu=Object(Bd.b)(window,"adsdkmotionoldanimation"),Yu=Object(Bd.b)(window,"adsdkthemeemptyactionbutton");var qu=i(154);const Ku=Object(Bd.b)(window,"adsdkver"),Xu=parseInt(null!==Ku&&void 0!==Ku?Ku:"",10),Ju=it(Xu)&&l(Xu)?Xu:void 0,Qu={adsdkdebug:Wu.a,adsdkecmaver:zu.a,adsdkmotionoldanimation:Gu,adsdknovastconvertation:Zc,adsdksecuremode:Oc,adsdkthemeemptyactionbutton:Yu,adsdktracelogs:qu.a,adsdkwithcredentials:Md,adsdkver:Ju,adsdkabflags:Hu},Zu={adsdkdebug:"UsingAdsdkDebugHardcodedParam",adsdkecmaver:"UsingAdsdkEcmaVerHardcodedParam",adsdkmotionoldanimation:"UsingAdsdkMotionOldAnimationHardcodedParam",adsdknovastconvertation:"UsingAdsdkNoVASTConvertationHardcodedParam",adsdksecuremode:"UsingAdsdkSecureModeHardcodedParam",adsdkthemeemptyactionbutton:"UsingAdsdkThemeEmptyActionButtonHardcodedParam",adsdktracelogs:"UsingAdsdkTraceLogsHardcodedParam",adsdkwithcredentials:"UsingAdsdkWithCredentialsHardcodedParam",adsdkver:"UsingAdsdkVerHardcodedParam",adsdkabflags:"UsingAdsdkabflagsParam"};var $u=i(60),eh=i(143),th=i(59);const ih=()=>{if(!Bu)return;const{currentScript:e}=document;if(!e)return;const{src:t,crossOrigin:i}=e;if(!Object(Zd.a)(t))return;const n=Hs.c,r=""+("AdSDKLoader"===n?Xc:Kc)+Jc[n]+".js",a=Object(rs.f)(nt({},Object(rs.e)(t),{search:"",hash:""}));(Object(ml.a)(i)?"anonymous"===i.toLowerCase():""===i)&&(Qo.c.event({name:"CrossOriginAnonymousLoaderScript",probability:Xo.a,data:{src:t,crossOrigin:String(i)}}),Object(th.a)('VAS script "crossorigin" attribute set to the value "anonymous". This value is NOT supported. Remove this attribute.')),a!==r&&(Object(_s.a)(Object(Kd.a)(window))?Qo.c.event({name:"AbdLoaderScripsSrc",probability:Xo.a,data:{src:t}}):0===a.indexOf(eh.a)?Qo.c.event({name:"HardcodedLoaderScriptSrc",probability:Xo.a,data:{src:t}}):"AdSDKLoader"===n?(Object(th.a)("You are using unsupported Video Ads SDK script src ["+a+"] please, use new link ["+ju+"]"),Qo.c.event({name:"UnsupportedAdsdkLoaderScriptSrc",probability:Xo.a,data:{src:t,crossOrigin:String(i)}})):Qo.c.event({name:"UnexpectedLoaderScripsSrc",probability:Xo.a,data:{src:t,expectedSrc:r,crossOrigin:String(i)}}))};var nh=i(133);const rh=1e3,ah=60,oh=60*ah,sh=30*(24*oh*rh),dh=()=>{Date.now()-Hs.a<sh||dc(2e3).then(()=>at({url:Kc+"build_info.json",method:"GET"})).then(e=>{let{responseText:t}=e;const{version:i}=JSON.parse(t);i!==Fs.a&&Qo.c.warning({name:"UsingDeprecatedLoaderVersion",message:"AdSDK version you are using ("+Fs.a+") is out of date. Actual version is "+i+"."})}).catch(e=>{Qo.c.error({error:new Jo.a(e,{code:"REQUEST_BUILD_INFO_ERROR"})})})};var lh=i(45);const ch={PREROLL:"preroll",MIDROLL:"midroll",PAUSEROLL:"pauseroll",OVERLAY:"overlay",POSTROLL:"postroll"},uh={VAST_URL:"vastUrl",VAST:"vast",AD_FOX_URL:"adFoxUrl",AD_FOX_URL_VAST:"adFoxUrlVast",PARTNER_ID:"partnerId",CATEGORY:"category",TAGS_LIST:"tagsList",CHARSET:"charset",VIDEO_CONTENT_ID:"videoContentId",VIDEO_CONTENT_NAME:"videoContentName",VIDEO_PUBLISHER_ID:"videoPublisherId",VIDEO_PUBLISHER_NAME:"videoPublisherName",VIDEO_GENRE_ID:"videoGenreId",VIDEO_GENRE_NAME:"videoGenreName",EXT_PARAM:"extParam",PLAYER_INFO:"playerInfo",DURATION:"duration"},hh=window;st({videoAd:{debugParameters:{},get AdConfigParams(){return hh.ya&&!hh.ya.isDeploying&&Qo.c.warning({name:"UsingDeprecatedGlobalVideoAdAdConfigParamsProperty",message:"You are using deprecated ya.videoAd.AdConfigParams property",probability:Xo.a}),uh},encodeUrl:Iu.a,loadedModules:{},loadModule:function(e){return new Promise((t,i)=>{Object(lh.b)({moduleName:e,version:void 0,onSuccess:t,onError:i,win:window,timeout:lh.a})})},skipTokens:[],modules:{},play:e=>new Promise((t,i)=>{Object(lh.b)({moduleName:"AdLoader",version:void 0,onSuccess:n=>{let{play:r}=n;r(e).then(t).catch(i)},onError:i,win:window,timeout:lh.a})}),getBundleVersion:()=>String(Fs.a),getModuleVersion:()=>String(Fs.b)},mediaAd:{get DOMAIN(){return hh.ya&&!hh.ya.isDeploying&&Qo.c.warning({name:"UsingDeprecatedGlobalMediaAdDomainProperty",message:"You are using deprecated ya.mediaAd.DOMAIN property",probability:Xo.a}),ss.b},get SDK_VERSION(){return hh.ya&&!hh.ya.isDeploying&&Qo.c.warning({name:"UsingDeprecatedGlobalMediaAdSdkVersionProperty",message:"You are using deprecated ya.mediaAd.SDK_VERSION property, use videoAd.getBundleVersion() instead",probability:Xo.a}),Mu},get AdType(){return hh.ya&&!hh.ya.isDeploying&&Qo.c.warning({name:"UsingDeprecatedGlobalMediaAdAdTypeProperty",message:"You are using deprecated ya.mediaAd.AdType property",probability:Xo.a}),ch},get TrackingEventType(){return hh.ya&&!hh.ya.isDeploying&&Qo.c.warning({name:"UsingDeprecatedGlobalMediaAdTrackingEventTypeProperty",message:"You are using deprecated ya.mediaAd.TrackingEventType property",probability:Xo.a}),{ERROR:"error",IMPRESSION:"impression",CREATIVE_VIEW:"creativeView",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",MUTE:"mute",UNMUTE:"unmute",PAUSE:"pause",RESUME:"resume",FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"exitFullscreen",CLOSE:"close",SKIP:"skip",CLICK_THROUGH:"clickThrough",PROGRESS:"progress",REWIND:"rewind",EXPAND:"expand",COLLAPSE:"collapse",ACCEPT_INVITATION:"acceptInvitation"}},get AdConfigParams(){return hh.ya&&!hh.ya.isDeploying&&Qo.c.warning({name:"UsingDeprecatedGlobalMediaAdAdConfigParamsTypeProperty",message:"You are using deprecated ya.mediaAd.AdConfigParams property",probability:Xo.a}),uh},bannerAd:{initVideo:(e,t,i)=>{Qo.c.event({name:"UsingDeprecatedGlobalMethodInitVideo",probability:Xo.a,data:void 0}),Object(lh.b)({moduleName:"BannerAd",version:void 0,onSuccess:n=>{n.initVideo(e,t,i)},onError:i,win:window,timeout:lh.a})}},inPage:{addInPageVideo:(e,t,i)=>{Qo.c.event({name:"UsingDeprecatedGlobalMethodAddInPageVideo",probability:Xo.a,data:void 0}),Object(lh.b)({moduleName:"InPage",version:void 0,onSuccess:n=>{n.addInPageVideo(e,t,i)},onError:i,win:window,timeout:lh.a})}}},video:{addVideoPlayer:(e,t,i,n)=>{Qo.c.warning({name:"UsingDeprecatedGlobalMethodAddVideoPlayer",message:"You are using deprecated HTML5VideoPlayer. Use Yandex StreamPlayer https://yandex.ru/support/video-hosting/index.html."}),Object(lh.b)({moduleName:"VideoPlayer",version:void 0,onSuccess:r=>{r.addVideoPlayer(e,t,i,n)},onError:Zo.a,win:window,timeout:lh.a})}}},"ya");const ph=ya;if(Object(hs.a)(Uu.b)?Qo.c.event({name:"UsingGlobalStatsRootField",probability:Xo.c,data:{statsRootParams:Uu.b}}):Object(Pu.a)(Uu.a)&&Qo.c.error({error:new Jo.a({code:"GLOBAL_STATS_ROOT_FIELDS_EXTRACTION_ERROR",details:{error:Uu.a}})}),(ku||Lu)&&(Object(ts.a)(Object(Fu.a)(Qu),e=>{let[t,i]=e;void 0!==i&&Qo.c.event({name:Zu[t],data:{value:i}})}),Du.b)){Du.b instanceof ReferenceError?Qo.c.event({name:"VasUAASConfigIsEmpty",data:{}}):Qo.c.error({error:new Jo.a(Du.b,{code:"VAS_UAAS_CONFIG_EXTRACTION_ERROR",details:{error:Du.b}})})}if(Bu){const e=Object(wl.a)(Object(is.a)(Object(bd.a)(Nu.a),e=>["flag_"+e,1])),t={crossorigin:void 0},{currentScript:i}=document;if(i){const{crossOrigin:e}=i;Object(ml.a)(e)&&(t.crossorigin=e.toLowerCase())}Qo.c.values({name:"CreateLoader",data:ot({statsRootParams:Uu.b},t),labels:{bundleName:Hs.c},values:ot({liveTime:Date.now()-Hs.a},e)}),xu.a&&Ru.a.logTimingAndLoadRum("adsdk.js",(null===$u.a||void 0===$u.a?void 0:$u.a.src)||ju)}Bu&&(ih(),dh());class Ah{static addUnit(e){Array.isArray(ph.videoAd.skipTokens)?-1===ph.videoAd.skipTokens.indexOf(e)&&ph.videoAd.skipTokens.push(e):ph.videoAd.skipTokens=[e]}static toBase64(){const e=Ah.getUnits();return e.length?_(Object(is.a)(e,e=>"yabs."+e).join("\n")):void 0}static getUnits(){return Array.isArray(ph.videoAd.skipTokens)?ph.videoAd.skipTokens:[]}}var mh=i(108),vh=i(109);const fh=e=>{let{additionalParams:t,videoContentId:i,videoContentName:n,videoPublisherId:r,videoPublisherName:a,videoGenreId:o,videoGenreName:s,musicArtistId:d,musicGenreId:l,musicGenreName:c,preferableAdSize:u}=e;return ct({},lt(t),{"video-content-id":i,"video-content-name":n,"video-publisher-id":r,"video-publisher-name":a,"video-genre-id":dt(o),"video-genre-name":dt(s),music_artist_id:d,"music-genre":l,"music-genre-name":c,"ad-session-id":ld(),"pcode-icookie":mh.a,"pcode-test-ids":vh.a,"pcode-flags":JSON.stringify(Nu.a),"preferable-ad-size-width":u?String(u.width):void 0,"preferable-ad-size-height":u?String(u.height):void 0,"pcode-version":void 0,"widget-version":void 0})},gh=e=>{let{adConfig:t,adBreak:i,random:n,win:r}=e;const{targetRef:a,width:o,height:s,tagsList:d,extParam:l,charset:c,distrId:u}=t,h=r.document.referrer,p=Object(Cu.a)(r);let A;return a?(A=a,Qo.c.event({name:"UsingTargetRefApiParameter",data:{adConfig:t},probability:Xo.a})):"about:blank"===p?(A=h,Qo.c.event({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t},probability:Xo.a})):A=p,ht({},fh(t),{"repeat-number":ut(i)?String(i.repeatNumber):void 0,"target-ref":A,"page-ref":h,"video-width":o,"video-height":s,"tags-list":dt(d),"ext-param":l,charset:c||"UTF-8","video-session-id":i.sessionId,"skip-token":Ah.toBase64(),"distr-id":u,"enable-page-options":"65536",rnd:String(n)})},bh="Yabs Ad Server",yh=[bh,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],_h=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)},Oh=_h();var Th=i(107);const Eh={PAGEURL:encodeURIComponent(Object(Th.a)(document).location),Y_DEVICE_TYPE:Oh?"mobile":"desktop",Y_AD_SESSION_ID:sd()},Sh=["clickThrough","close","impression","mute","skip","unmute"],wh=e=>"VastTracking_"+e,Ch={},Ih=100,Ph={width:void 0,height:void 0},Nh=void 0,Dh={text:"",textColor:"#FFFFFF",isVisible:!1};var Rh=i(147);const kh=e=>{const{protocol:t}=Object(rs.e)(e);return"blob:"===t?e:a(e)?Object(rs.b)(e,{[Vs]:Os.a,vsid:Rh.a}):e},Vh=e=>wt({},e,{url:kh(e.url)});var Bh=i(46),Lh=(i(128),i(111));const jh=e=>{let{src:t,win:i}=e;const n=$e(t),{promise:r,teardown:a}=Object(Lh.a)({src:n?uu:t,win:i});return{promise:r.then(()=>i.getVPAIDAd),teardown:a}},Mh=function(e,t){void 0===t&&(t=e=>Boolean(function(e){return e}(e)));for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1},xh=1e3,Uh=Object(vl.a)(()=>{Qo.c.error({error:new Jo.a({code:"MEDIA_FILE_STRING_SIZE",details:void 0}),probability:Xo.a})}),Fh=(Vt({},Nu.a),Vt({},Nu.a)),Hh=e=>Fh[e],Wh=(Zo.a,Zo.a,Zo.a,Zo.a,Bt("DPR_STRATEGY",["SUBTRACTION","DIVISION"])),zh=e=>{const t=Number(Hh(e));return d(t)?t:void 0},Gh=zh("DPR_WEIGHT"),Yh=zh("PERFECT_VDPR"),qh=zh("PERFECT_VPR"),Kh=zh("VPR_PRIORITY_MULTIPLIER"),Xh="undefined"===typeof Kh?1.2:Kh,Jh="undefined"===typeof Yh?1:Yh,Qh="undefined"===typeof qh?1:qh,Zh="video/webm",$h='video/webm; codecs="vorbis,vp8"';const ep="video/mp4",tp=4,ip=.001,np=["application/vnd.apple.mpegurl","application/x-mpegurl"],rp=["bitrate","minBitrate","maxBitrate","width","height"],ap=9007199254740991,op={"vp08, vorbis":"vp8, vorbis",vp08:"vp8"},sp=(e=>{const t=Kt(e);return!!t&&Boolean(g(()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"')))})(window),dp=Kt();var lp=i(65);const cp=document.createElement("video"),up="function"===typeof cp.load,hp=up?function(e,t){return void 0===t&&(t=cp),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1,pp=!lp.a&&hp("video/webm"),Ap=sp&&pp,mp=dp&&Object(ls.a)(dp),vp=Object(_s.a)(bs.a),fp=void 0!==window.AbortController&&void 0!==window.fetch&&Object(ls.a)(AbortController)&&Object(ls.a)(fetch),gp=mp&&fp,bp=(e,t)=>t?e+'; codecs="'+t+'"':e,yp=(e,t)=>e+"_"+t;class _p extends yd.a{constructor(e){let{win:t,onReport:i}=e;super();const n=t;if(void 0===n.ReportingObserver)return;const r=new n.ReportingObserver(e=>{i({reportSourceEvent:"callback",reports:e,records:r.takeRecords()})},{buffered:!0});r.observe();const a=r.takeRecords();a.length&&i({reportSourceEvent:"buffered",reports:[],records:a}),this.addDestroyHandler(Object(qd.a)({element:t,eventName:"beforeunload",listener:()=>{const e=r.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler(()=>{const e=r.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),r.disconnect()})}}const Op=250;let Tp=0;const Ep=[],Sp=(e,t)=>{const i=e.contentDocument.body;return oi(()=>{var e;!Boolean(null===(e=i.ownerDocument)||void 0===e?void 0:e.defaultView)&&t()})};class wp extends yd.a{static create(e){const{parentElement:t,attributes:i,scope:n}=e,r=si(t,i);if(!r)throw ii({scope:n,errorType:"NOT_CREATED",error:new Error,details:void 0});return new wp(di({},e,{iframe:r}))}static createHidden(e){const{parentElement:t,attributes:i,scope:n}=e,r=function(){const e=si(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}(t,i);if(!r)throw ii({scope:n,errorType:"NOT_CREATED",error:new Error,details:void 0});return new wp(di({},e,{iframe:r}))}constructor(e){super(),li(this,"iframe",void 0),li(this,"window",void 0);const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler(()=>{Object(Ko.a)(i)}),this.addDestroyHandler(Sp(this.iframe,()=>{this.destroy(ii({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))})),this.addDestroyHandler(ai(this.window,(i,n,r)=>{const a="PRELOADING_IFRAME"===e.scope?{vastAd:e.getVastAd()}:e.provideLogDetails?e.provideLogDetails():void 0;Qo.c.error({error:ii({scope:t,errorType:n,error:i,details:di({},a,{error:i,data:r})})})}))}}var Cp,Ip=i(88);!function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(Cp||(Cp={}));Object(us.a)({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME",win:window});const Pp=Object(us.a)({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var Np,Dp;const Rp=null!==(Np=null!==(Dp=window.URL)&&void 0!==Dp?Dp:window.webkitURL)&&void 0!==Np?Np:{},kp="function"===typeof Rp.createObjectURL&&"function"===typeof Rp.revokeObjectURL;class Vp{static canPreload(e){return hp(e)&&this.canPreloadToBlob(e)}static canPreloadToBlob(e){return kp&&!Ut(e)}constructor(e){pi(this,"readyPromise",void 0),pi(this,"ready",!1),pi(this,"video",void 0),pi(this,"xhr",void 0),pi(this,"blobUrl",void 0);const{type:t}=e;if(!Vp.canPreload(t))return void(this.readyPromise=Promise.reject(new Error(t+" cannot be preloaded")));const i=this.preloadToBlob(e);Pp.call({callbackArguments:[{mediaFile:e,videoPreloader:this}]}),this.readyPromise=i.then(t=>(this.ready=!0,null!==t&&void 0!==t?t:e))}isReady(){return this.ready}destroy(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),Object(Zd.a)(this.blobUrl)&&Rp.revokeObjectURL(this.blobUrl)}async preloadToBlob(e){const{response:t}=await at({method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e});return hi({},e,{url:Rp.createObjectURL(t)})}}class Bp{constructor(e,t,i){mi(this,"parsedParams",void 0),mi(this,"contentType",void 0),mi(this,"_promise",void 0),mi(this,"_isPreloaded",!1),mi(this,"_vpaidWindow",void 0),mi(this,"preloaders",[]),mi(this,"_preloadedVpaidAdParameters",void 0),mi(this,"_preloadedVideoFile",void 0),mi(this,"_preloadedAdCreativeInitFunction",void 0),mi(this,"getMediaFiles",void 0),mi(this,"getJSMediaFile",void 0),mi(this,"getVastAd",void 0),this.parsedParams=function(e){const{videoSlot:t,viewMode:i=Cp.NORMAL,preloadJS:n=!0,preloadVideo:r=!0}=e,{width:a=t.clientWidth,height:o=t.clientHeight}=e,s=z(e.desiredBitrate);let{preloadTimeout:d}=e;return("number"!==typeof d||d>Kl)&&(d=Kl),{preloadTimeout:d,width:a,height:o,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:n,preloadVideo:r}}(e),this.contentType=t,this.getMediaFiles=i.getMediaFiles,this.getJSMediaFile=i.getJSMediaFile,this.getVastAd=i.getVastAd}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}destroy(e){this._promise&&Qo.c.event({name:"PreloadCancelled",data:{reason:e},probability:Xo.a}),this._promise=void 0,this._vpaidWindow=void 0,Object(ts.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0}async preload(){this._promise=this._preload(),await this._promise,this._isPreloaded=!0}async _preload(){try{const{preloadJS:e,preloadVideo:t}=this.parsedParams,i=this.getVastAd();if(e&&"js"===this.contentType){if(!ui(i))return await this._preloadVpaidCreative(this.parsedParams);const{parsed:{videoMediaFiles:e,animationMediaFile:t}}=Tt(i.adParameters),n=e.length>0?this._preloadVideoFile(e,this.parsedParams):void 0,r=t?this._preloadAdCreative(t,this.parsedParams):void 0;return void(await Promise.all([n,r]))}t&&"video"===this.contentType&&await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams)}catch(e){Object(ts.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0,this._logError(e,"CANNOT_PRELOAD")}}createHiddenIframeForPreloading(){const e=wp.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME",getVastAd:this.getVastAd}),t=e.iframe;return this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:()=>{e.destroy(void 0)}}),t}async _preloadAdCreative(e,t){const i=this.createHiddenIframeForPreloading().contentWindow;try{const{promise:t,teardown:n}=Dt({animationMediaFile:e,win:i});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:n}),this._preloadedAdCreativeInitFunction=await t}catch(n){return void this._logError(n,"CANNOT_PRELOAD_AD_CREATIVE")}}async _preloadVpaidCreative(e){var t;const i=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,["preloadTimeout"]),n=this.getJSMediaFile();if(!n)return;const r=this.createHiddenIframeForPreloading().contentWindow;this._vpaidWindow=r;try{const{promise:e,teardown:t}=jh({src:n.url,win:r});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:t}),await e}catch(s){return this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"),void this.destroy("VpaidModuleLoadingError")}if("function"!==typeof(null===(t=r.Ya)||void 0===t?void 0:t.preloadVPAIDAd))return;const a=r.Ya.preloadVPAIDAd(Ai({},i,{creativeData:{AdParameters:this.getVastAd().adParameters}}));let o;this.preloaders.push(a);try{o=await a.readyPromise}catch(s){return void this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE")}this._preloadedVpaidAdParameters=o.AdParameters}async _preloadVideoFile(e,t){let{width:i,height:n,desiredBitrate:r}=t;const{prioritisedMediaFile:a}=ti(e,{container:{width:i,height:n},desiredBitrate:r});if(!a)return;const o=Vh(a),s=new Vp(o);let d;this.preloaders.push(s);try{d=await s.readyPromise}catch(l){return void this._logError(l,"CANNOT_PRELOAD_VIDEO_FILE")}this._preloadedVideoFile=d}_logError(e,t){ci(e),Qo.c.error({error:new Jo.a(e,{code:t})})}}class Lp{constructor(){vi(this,"src",void 0),vi(this,"type",void 0),vi(this,"x",NaN),vi(this,"y",NaN),vi(this,"width",NaN),vi(this,"height",NaN)}static fromVastIcon(e){const t=new Lp;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class jp{get contentType(){return this.getJSMediaFile()?"js":"video"}constructor(e,t,i){this.adBreak=e,this.vastAd=t,this.adConfig=i,fi(this,"icons",void 0),fi(this,"preloadingController",void 0),fi(this,"isTrackingEventsEnabled",!0),fi(this,"duration",0),fi(this,"getMediaFiles",()=>Ct(this.vastAd.mediaFiles,this.adConfig.secureMode)),fi(this,"getAdContentDimensions",()=>(function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:n,adParameters:r,isNonLinear:a}=t;if(a)return Nh;if(Nt(t)){const{parsed:{videoMediaFiles:e}}=Tt(r);return 0===e.length?Ph:Et(e)}const o=It(n,i);return Et(o?[o]:Ct(n,i))})({vastAd:this.vastAd,secureMode:this.adConfig.secureMode})),fi(this,"getJSMediaFile",()=>It(this.vastAd.mediaFiles,this.adConfig.secureMode)),fi(this,"getPreloadedAdCreativeInitFunction",()=>{var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedAdCreativeInitFunction}),this.icons=Object(is.a)(this.vastAd.icons,e=>Lp.fromVastIcon(e)),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}trackError(e){v(e,this.vastAd.trackingEvents.error)}removeTrackingEvents(){this.isTrackingEventsEnabled=!1}trackEvent(e,t,i){if(!this.isTrackingEventsEnabled)return void Object($o.a)("eventName ("+e+") was NOT tracked in MediaAd (disabled with method removeTrackingEvents)");Object($o.a)("Track event=["+e+"]");const n=this.vastAd.trackingEvents[e];bt({eventName:e,trackingEventDetails:i,trackingUrls:Array.isArray(n)?n:[],options:t})}hasMediaFiles(){const e=this.getMediaFiles();return Boolean((null===e||void 0===e?void 0:e.length)>0)}isNotReplacedBroadcastAd(){return this.vastAd.isNotReplacedBroadcastAd}cancelPreloading(e){this.preloadingController&&(this.preloadingController.destroy(e),this.preloadingController=void 0)}isPreloaded(){return!!this.preloadingController&&this.preloadingController.isPreloaded}async preload(e){this.preloadingController||(this.preloadingController=new Bp(e,this.contentType,{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){const{isNonLinear:e,adSystem:t}=this.vastAd;return t===bh||e}getIsIndependentOnVideoElement(){if(this.vastAd.isNonLinear)return!0;if(function(e){let{adParametersObject:t}=e;const i=null===t||void 0===t?void 0:t.mediaFiles,n=Array.isArray(i)?i[0]:void 0;return Object(hs.a)(n)&&n.url===yu.url}(this.vastAd))return!0;const e=this.getJSMediaFile();if(!e)return!1;if($e(e.url)&&a(e.url)){if(void 0===this.vastAd.isIndependentOnVideoElement)return Qo.c.event({name:"MotionWithoutExtensionIsIndependentOnVideoElement",probability:Xo.a,data:void 0}),!0;if(!this.vastAd.isIndependentOnVideoElement)return Qo.c.event({name:"MotionWithExtensionIsIndependentOnVideoElementFalseValue",probability:Xo.a,data:void 0}),!0}return void 0!==this.vastAd.isIndependentOnVideoElement&&this.vastAd.isIndependentOnVideoElement}getIsYandexCreative(){return e=this.vastAd,Object(Hd.a)(yh,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVideoFile}getPreloadedVpaidAdParameters(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(Object($o.a)("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}shouldShowGuiForVpaid(){return Boolean(this.vastAd.imhoParams)||Nt(this.vastAd)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.shouldShowGuiForVpaid()&&!a(e.url))}}class Mp{constructor(e){var t,i,n;n=void 0,(i="mediaAds")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.mediaAds=e.sort((e,t)=>{const i=e.vastAd.sequence,n=t.vastAd.sequence;return i===n?0:i===Yl?1:n===Yl?-1:i-n})}getDuration(){return Object(Dd.a)(this.mediaAds,(e,t)=>e+t.getDuration(),0)}getFirstMediaAd(){return this.mediaAds[0]}hasFilteredOutMediaFiles(){return os(this.mediaAds,e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length)}preload(e){return Object(ts.a)(this.mediaAds,t=>{t.preload(e)}),e=>{Object(ts.a)(this.mediaAds,t=>{t.cancelPreloading(e)})}}}const xp=e=>{try{return"display"in Si(e)}catch(t){return!1}},Up=Object(wc.a)();var Fp=i(112);const Hp=function(e){if(void 0===e&&(e=window),Object(Fp.a)(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}(),Wp=Object(Fp.a)();var zp=i(33);const Gp=pp?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=";var Yp=i(132);const qp="__yaMuffleVideoPlayPromiseOriginalPlay",Kp=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),n=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&Ni(Ri(e))}})(e);return()=>{t(),i(),n()}};var Xp;!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(Xp||(Xp={}));class Jp{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:Object(hs.a)(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=Xp[this.code]||"")}}var Qp=i(57);const Zp=function(e){void 0===e&&(e=window);const t=Object(Qp.a)(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1};var $p;!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}($p||($p={}));const eA=function(e){void 0===e&&(e=window);const t=Object(Qp.a)(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1},tA=function(e){return void 0===e&&(e=window),Object(Qp.a)(e).toLowerCase().indexOf("tizen")>-1},iA=function(e){void 0===e&&(e=window);const t=function(e){void 0===e&&(e=window);const t=Object(Qp.a)(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,n]=t;return{major:parseInt(i,10),minor:parseInt(n,10)}}(e);return 2===t.major&&3===t.minor},nA=function(e){return void 0===e&&(e=window),Object(Qp.a)(e).toLowerCase().indexOf("web0s")>-1};var rA,aA=i(82),oA=i(113),sA=i(105);!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(rA||(rA={}));const dA={once:!0,passive:!0};let lA=!1;const cA=-1<Up&&Up<=16,uA=ji({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:$p.AutomaticallyGenerated}),hA=ji({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:$p.AutomaticallyGenerated}),pA=500;class AA{constructor(e,t){let{checkSoundEnabled:i,promise:n}=t;if(this.video=e,this.stop=zp.a,this.isStopped=!1,this.revertVideoState=zp.a,this.getIsActiveWindow())return this.promise=Promise.resolve(Li({},hA,{detectionMethod:$p.WindowHasBeenActive})),this;if(n)return this.promise=n,this;const r=document.createElement("div");r.style.display="none";const a=Kp(e),o=Bi(e,()=>Pi(e,{src:Gp}));let s;this.revertVideoState=Object(Ws.a)(()=>{o(),e.load(),a(),Object(Ko.a)(r)}),this.promise=new Promise(async(e,t)=>{let n,r,a;if(s=t,i){const e=await this.requestAutoplayAbilityByMuted(!1);r=e.autoplayAbility,n=e.detectionMethod}else r=!1;if(!this.isStopped){if(r)a=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);a=e.autoplayAbility,n=n&&n!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+n+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(ji({canPlayUnMuted:r,canPlayMuted:a,detectionMethod:n||$p.NotRecognized})))}}),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(Bi(t,()=>{t.load()}),await dc(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:$p.RAAStopped};t.muted=e,t.volume=e?0:1;const i=await new Promise(e=>{Vi(t,{useProgressEvent:!0,timeoutForNonPromisePlay:pA}).then(t=>{e({autoplayAbility:!0,detectionMethod:t})}).catch(i=>{const n=function(e){const{error:t}=e;return new Jp(t)}(t);n&&n.code===Xp.MEDIA_ERR_DECODE?setTimeout(()=>{e({autoplayAbility:!0,detectionMethod:$p.MediaError})},0):e({autoplayAbility:!1,detectionMethod:i})})});return this.isStopped?{autoplayAbility:!1,detectionMethod:$p.RAAStopped}:i}getIsActiveWindow(){const e=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(this.video);if(!e)return!1;const t=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!Object(hs.a)(i))return;const{isActive:n,hasBeenActive:r}=i;return{isActive:n,hasBeenActive:r}}(e);return Boolean(t&&t.hasBeenActive)}}var mA;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(mA||(mA={}));const vA="TRUE"===Hh("DISABLE_SUBTITLES")||void 0,fA="1"===Hh("AB_LONG_EXP_FLAG_ENABLE_ABUSE_DISPLAY"),gA={open:{reason:1,action:0},close:{reason:2,action:0}},bA={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},yA={unpleasantContentAd:{reason:24,action:2},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},_A={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},OA=xi({},gA,{hide:{reason:21,action:4},complaint:{reason:5,action:4},about:{reason:19,action:0}},bA,yA,_A),TA={abuseUrl:""},EA=Ui({},{notInterested:{reason:3,action:2},annoying:{reason:1,action:3},spam:{reason:5,action:4}},{notInterestedSocialAd:{reason:15,action:4},politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}}),SA={isAvailable:!1},wA=/&\w+;/g,CA={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},IA=["spec","logo","misc"],PA=e=>{if(Object(hs.a)(e))for(const t in e)if(e.hasOwnProperty(t)&&!Object(Hd.a)(IA,t)){const i=e[t];return i.text&&Object(Zd.a)(i.text.banner_flags)&&(i.text.banner_flags=i.text.banner_flags.split(",")),i}},NA=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!Object(hs.a)(t)||!Object(hs.a)(t.data_params))return;const i=PA(t.data_params);if(!Object(hs.a)(i))return;const n=i.assets;if(!Object(hs.a)(n))return;const r={},{logo:a,button:o}=n;if(Object(hs.a)(a)){const e=Object(Fu.a)(a);if(e.length){const t={};for(const[i,n]of e){const{url:e,width:r,height:a}=n;Object(ml.a)(e)&&it(r)&&it(a)&&(t[i]={url:e,width:r,height:a})}Wi(t)||(r.logo=t)}}if(Object(hs.a)(o)){const{caption:e,href:t,key:i}=o;Object(ml.a)(e)&&Object(ml.a)(t)&&Object(ml.a)(i)&&(r.button={caption:e,href:t,key:i})}return r},DA=e=>{if(!Array.isArray(e))return[];const t=Object(is.a)(e,e=>{const t=e[0],i=Number(e[1]),n=Number(e[2]),r=e[3];if(Object(ml.a)(t)&&!isNaN(i)&&!isNaN(n)){const e=[t,String(i),String(n)];return Object(hs.a)(r)&&e.push(r),e}});return Object(Pd.a)(t,e=>void 0!==e)},RA=Object(vl.a)(e=>{Qo.c.event({name:"AdCreativeVideoBannerVastHasDisclaimers",data:e,probability:Xo.a})}),kA=Object(vl.a)(()=>{Qo.c.event({name:"AdCreativeVideoBannerVastUnmoderatedInsideText",data:void 0,probability:Xo.a})}),VA=Object(vl.a)(()=>{Qo.c.event({name:"AdCreativeVideoBannerVastHasBooleanFields",data:void 0,probability:Xo.a})}),BA=Object(vl.a)(e=>{Qo.c.event({name:"AdCreativeVideoBannerVastHasBannerFlags",data:e,probability:Xo.a})}),LA=e=>{if(!Object(hs.a)(e))return;const{AUCTION_DC_PARAMS:t,HAS_DOMAIN:i,AGE_BACKGROUND_COLOR:n,AGE_TEXT_COLOR:r,BODY_BACKGROUND_COLOR:a,BODY_TEXT_COLOR:o,BUTTON_BORDER_COLOR:s,BUTTON_COLOR:d,BUTTON_TEXT_COLOR:l,DISCLAIMER_BACKGROUND_COLOR:c,DISCLAIMER_TEXT_COLOR:u,DOMAIN_BACKGROUND_COLOR:h,DOMAIN_TEXT_COLOR:p,HAS_AGE:A,HAS_BODY:m,HAS_BUTTON:v,HAS_DISCLAIMER:f,HAS_LEGAL:g,HAS_TITLE:b,LEGAL_BACKGROUND_COLOR:y,LEGAL_TEXT:_,LEGAL_TEXT_COLOR:O,TITLE_BACKGROUND_COLOR:T,TITLE_TEXT_COLOR:E,BUTTON_POSITION:S,BUTTON_LABELS:w}=e;if(!Object(hs.a)(t)||!Object(hs.a)(t.data_params))return;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_DOMAIN"in e||"HAS_AGE"in e)&&VA();const C=PA(t.data_params);if(!Object(hs.a)(C)||!Object(hs.a)(C.text))return;const I=C.text,{title:P,domain:N,body:D,age:R,banner_flags:k}=I,V=C.unmoderated||I.unmoderated||{},{punyDomain:B}=V,L=Array.isArray(k)?k:[],{hasDrugDisclaimer:j,hasDietarysupplDisclaimer:M,hasDistanceSales:x,legalDisclaimerText:U}=function(e){var t,i;if(!Object(hs.a)(e))throw new Jo.a({code:"CANNOT_PARSE_DISCLAIMERS_FROM_AD_PARAMETERS",details:{adParametersJson:e}});const{AUCTION_DC_PARAMS:n,LEGAL_TEXT:r,HAS_LEGAL:a}=e,o=PA(null!==(t=null===n||void 0===n?void 0:n.data_params)&&void 0!==t?t:{}),{warning:s,dynamic_disclaimer:d,banner_flags:l}=null!==(i=null===o||void 0===o?void 0:o.text)&&void 0!==i?i:{},c=null!==l&&void 0!==l?l:[],u=Object(Hd.a)(c,"medicine"),h=Object(Hd.a)(c,"dietarysuppl"),p=Object(Hd.a)(c,"distance_sales"),A=a&&(null===r||void 0===r?void 0:r.trim())&&r,m=Object(ml.a)(s)&&"1"===d?s:void 0;return(a||Object(ml.a)(A)||Object(ml.a)(m)||u||h||p)&&RA({HAS_LEGAL:a,LEGAL_TEXT:r,dynamic_disclaimer:d,warning:s,hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p}),{hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p,legalDisclaimerText:A||m||void 0}}(e);L.length>0&&BA({bannerFlags:L}),V===I.unmoderated&&kA();const F={title:UA(P),domain:UA(N),punyDomain:UA(B),domainBackgroundColor:UA(h),domainTextColor:UA(p),hasDomain:FA(i),body:UA(D),ageRestriction:UA(R),hasAgeRestriction:FA(A),extraLinks:jA(V),legalDisclaimerText:U,hasDrugDisclaimer:j,hasDietarysupplDisclaimer:M,hasDistanceSales:x,hasButton:FA(v),images:zi(e),clickThruUrl:Hi(e),ageBackgroundColor:UA(n),ageTextColor:UA(r),bodyBackgroundColor:UA(a),bodyTextColor:UA(o),buttonBorderColor:UA(s),buttonColor:UA(d),buttonTextColor:UA(l),hasDisclaimer:FA(f),disclaimerBackgroundColor:UA(c),disclaimerTextColor:UA(u),hasBody:FA(m),hasLegal:FA(g),hasTitle:FA(b),legalBackgroundColor:UA(y),legalText:UA(_),legalTextColor:UA(O),titleBackgroundColor:UA(T),titleTextColor:UA(E),buttonPosition:UA(S),buttonLabels:HA(w),offer:C,assets:NA(e),targetUrl:Gi(e)};return F.title&&(F.title=Fi(F.title)),F.body&&(F.body=Fi(F.body)),F},jA=e=>{if(!Object(hs.a)(e))return[];const{sitelinks:t,addInfo:i,telNum:n,workingTime:r,metro:a,region:o}=e;if(xA(t)){const e=Object(Pd.a)(t,e=>Object(ml.a)(e.title)&&Object(ml.a)(e.url));if(e.length)return Object(is.a)(e,e=>({type:"sitelink",text:e.title,url:e.url}))}const s=null===i||void 0===i?void 0:i.callouts_list;if(MA(s)){const e=Object(Pd.a)(s,ml.a);if(e.length)return Object(is.a)(e,e=>({type:"callout",text:e}))}const d=Object(Pd.a)([n,r,a,o],ml.a);return Object(is.a)(d,e=>({type:"contact",text:e}))},MA=e=>Array.isArray(e)&&fc(e,Zd.a),xA=e=>Array.isArray(e)&&fc(e,hs.a),UA=e=>Object(ml.a)(e)?e:void 0,FA=e=>"boolean"===typeof e?e:void 0,HA=e=>Object(hs.a)(e)&&fc(oe(e),e=>"string"===typeof e)?e:void 0,WA=Zl,zA=0,GA=5,YA=!0,qA=!0,KA=1e3/60;class XA{constructor(e,t){this.callback=t,tn(this,"animationFrameFunctions",void 0),tn(this,"time",0),tn(this,"startTime",0),tn(this,"id",0),tn(this,"started",!1),tn(this,"loop",()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()}),this.animationFrameFunctions=en(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}const JA=1500;class QA{constructor(e){this.params=e,nn(this,"animationFramesController",void 0),nn(this,"position",0),nn(this,"offset",0),nn(this,"duration",void 0),nn(this,"onFinishOnce",void 0),nn(this,"onAnimationFrame",e=>{let{diff:t}=e;const i=t/this.duration,n=JA/this.duration;if(Math.abs(this.offset)>=n){const e=this.position+i+this.offset;return void this.setPosition(e)}const r=i*(1+this.offset/n);this.position=xt(this.position+r,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-r,this.params.callback(this.position)}),this.duration=e.duration,this.onFinishOnce=Object(vl.a)(e.onFinish),this.animationFramesController=new XA(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=xt(e,0,1),this.offset=0,this.params.callback(e))}}class ZA{constructor(e){rn(this,"dispatch",Object(vl.a)(e=>{this.value=e,this._isDispatched=!0,ni(this.callbacks,e),this.callbacks.length=0})),rn(this,"callbacks",[]),rn(this,"_isDispatched",!1),rn(this,"value",void 0),Object(_s.a)(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),Zo.a):(this.callbacks.push(e),()=>{this.callbacks=Object(Pd.a)(this.callbacks,t=>t!==e)})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise(e=>{this.subscribe(e)})}}const $A=0,em=0;var tm=i(144);const im=Boolean(tm.a),nm=500/rh,rm=function(e){return void 0===e&&(e=window),-1!==Object(wc.a)(e)}(),am=null===cp.onwaiting,om=!am||rm||lp.a?(e,t)=>{let i=0,n=!1;return oi(()=>{const r=e.currentTime,a=e.duration,o=1/Op;if(!e.paused){const e=i+o;n?r>e&&(t(!1),n=!1):r<e&&r!==a&&(t(!0),n=!0)}i=r})}:(e,t)=>{let i=!1;const n=ki(e,"pause",()=>{i&&(i=!1,t(!1))},{passive:!0}),r=ki(e,"waiting",()=>{i||(i=!0,t(!0))},{passive:!0}),a=ki(e,"playing",()=>{i&&(i=!1,t(!1))},{passive:!0}),o=ki(e,"canplay",()=>{i&&(i=!1,t(!1))},{passive:!0});return()=>{n(),r(),a(),o()}};class sm extends yd.a{constructor(){super(),un(this,"isStarted",!1),un(this,"lastStartTime",void 0),un(this,"spent",0),un(this,"callbacks",[]),un(this,"timeoutId",0),un(this,"recalculateTimeAndDispatchCallbacks",()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)}),this.addDestroyHandler(()=>{this.stop()})}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise(t=>{this.addCallback(e,t)})}addCallbackToArray(e,t){const i={time:e,callback:t};for(let n=0;n<this.callbacks.length;n++){const{time:t}=this.callbacks[n];if(t>=e)return void this.callbacks.splice(n,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=k(this.callbacks,e=>{let{time:t}=e;return t<=this.spent});this.callbacks=t,Object(ts.a)(e,e=>{let{callback:t}=e;t()})}}class dm extends yd.a{constructor(){super(),hn(this,"bufferingTimeCount",void 0),hn(this,"isPlaying",new _d.a(!1)),hn(this,"isBuffering",new _d.a(!1)),this.bufferingTimeCount=new sm,this.addDestroyHandler(()=>{this.bufferingTimeCount.destroy()})}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(om(e,e=>{this.isBuffering.dispatch(e)})),this.addDestroyHandler(an([this.isPlaying,this.isBuffering],(e,t)=>e&&t,e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()}))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/rh}}const lm=20,cm=e=>{switch(!0){case e<=1*rh:return"ReturnBackAfterClickThroughIn1Sec";case e<=2*rh:return"ReturnBackAfterClickThroughIn2Sec";case e<=10*rh:return"ReturnBackAfterClickThroughIn10Sec";case e<=60*rh:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}},um=NaN,hm=0,pm={duration:um,remainingTime:hm};var Am=i(81);const mm=Object(bd.a)({portion:"portion",seconds:"seconds"});class vm{constructor(e){var t,i,n;n={portion:[],seconds:[]},(i="trackingUrls")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,Object(ts.a)(e,e=>{let{urls:t,offset:{unit:i,value:n}}=e;this.trackingUrls[i].push({urls:[...t],offset:n})})}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!Z(i))return[];const n=t-i,r={portion:n/t,seconds:n},a=[];return Object(ts.a)(mm,e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,r[e]);a.push(...t)}),a}getTrackingUrlsByUnitAndOffset(e,t){const[i,n]=k(this.trackingUrls[e],e=>{let{urls:i,offset:n}=e;return t>=n});return this.trackingUrls[e]=n,R(Object(is.a)(i,e=>{let{urls:t}=e;return t}))}}var fm=i(61),gm=i(136);const bm={AdClickThru:e=>{Qo.c.error({error:new Jo.a({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:e})})}};class ym extends yd.a{get contentType(){return this.mediaAd.contentType}constructor(e){let{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:n}=e;super(),vn(this,"adDisplayController",void 0),vn(this,"mediaAd",void 0),vn(this,"adPodViewerPlaybackParams",void 0),vn(this,"playbackPosition",new _d.a(pm,An)),vn(this,"userInteractionDispatchers",bm),vn(this,"packshotStartLatch",new ZA),vn(this,"adVideoIsBuffering",new _d.a(!1)),vn(this,"playingState",new _d.a("idle",(e,t)=>"idle"===t?(Qo.c.error({error:new Jo.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&Qo.c.error({error:new Jo.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),vn(this,"isCreativeStartRequested",new _d.a(!1)),vn(this,"onReady",new Gd.a),vn(this,"onBeforeDestroy",new Gd.a),vn(this,"isStarted",new _d.a(!1)),vn(this,"onResume",new Gd.a),vn(this,"onPause",new Gd.a),vn(this,"onVolumeChange",new Gd.a),vn(this,"onImpression",new Gd.a),vn(this,"onImpressionDetermined",new Gd.a),vn(this,"onImpressionUndetermined",new Gd.a),vn(this,"onFirstQuartile",new Gd.a),vn(this,"onMidpoint",new Gd.a),vn(this,"onThirdQuartile",new Gd.a),vn(this,"onBeforeComplete",new Gd.a),vn(this,"completeLatch",new ZA(()=>{this.trackEvent("complete",void 0)})),vn(this,"onClickThrough",new Gd.a),vn(this,"onAdInteraction",new Gd.a),vn(this,"playingTimeCounter",new sm),vn(this,"shouldPlayTimeCounter",new sm),vn(this,"bufferingTimeManager",void 0),vn(this,"getAdParametersTrackingUrls",e=>{var t,i;return null===(t=this.getAdParametersObject())||void 0===t?void 0:null===(i=t.trackingEvents)||void 0===i?void 0:i[e]}),vn(this,"subscribeFullscreenForLogs",()=>{const{videoNodeController:e}=this.adDisplayController,t=Object(vl.a)(()=>{Qo.c.error({error:new Jo.a({code:"VIDEOTAG_FULLSCREEN",details:void 0})})});e.isFullscreen()?t():this.onBeforeComplete.addOne(()=>{e.isFullscreen()&&t()})}),this.addDestroyHandler(e=>{const t=Math.round(this.shouldPlayTimeCounter.getTime()),i=Math.round(this.playingTimeCounter.getTime()),n=Math.round(t-i),r=Math.round(this.bufferingTimeManager.getBufferingTime()*rh),a=Math.round(this.getDuration()*rh),o=Math.round(this.getAdRemainingTime()*rh),s=Math.round(a-o),d=Math.round(r/s*1e6),{droppedVideoFrames:l,corruptedVideoFrames:c,totalVideoFrames:h,droppedVideoFramesRatio:p}=u(this.adDisplayController.videoNode);Qo.c.values({name:"ViewerDestroy",probability:Xo.a,data:{destroyReason:e},labels:{},values:{shouldPlayTime:t,playingTime:i,notPlayingTime:n,bufferingTime:r,duration:a,remainingTime:o,currentTime:s,bufferingTimeRatio:d,droppedVideoFrames:Math.round(l),corruptedVideoFrames:Math.round(c),totalVideoFrames:Math.round(h),droppedVideoFramesRatio:Math.round(1e6*p)}}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e),this.userInteractionDispatchers=bm}),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=n,this.isStarted.add(()=>{this.trackEvent("creativeView",void 0)}),this.onResume.add(()=>{this.trackEvent("resume",void 0)}),this.onPause.add(()=>{this.trackEvent("pause",void 0)}),this.packshotStartLatch.subscribe(()=>{this.trackEvent("packshotStart",void 0)});let r=0===this.getVolume();this.onVolumeChange.add(()=>{const e=0===this.getVolume();r!==e&&(this.trackEvent(e?"mute":"unmute",void 0),r=e)}),this.onImpression.addOne(()=>{this.trackEvent("impression",void 0)}),this.onImpressionDetermined.addOne(()=>{this.trackEvent("impressionDetermined",void 0)}),this.onImpressionUndetermined.addOne(()=>{this.trackEvent("impressionUndetermined",void 0)});const a=new vm(i.vastAd.progressTrackings);this.playbackPosition.add(e=>{let{remainingTime:t,duration:i}=e;const n=a.getTrackingUrlsByPosition({duration:i,remainingTime:t});n.length&&bt({eventName:"progress",trackingEventDetails:void 0,trackingUrls:n,options:this.adDisplayController.getAdPlacementOptions()})}),this.onFirstQuartile.add(()=>{this.trackEvent("firstQuartile",void 0)}),this.onMidpoint.add(()=>{this.trackEvent("midpoint",void 0)}),this.onThirdQuartile.add(()=>{this.trackEvent("thirdQuartile",void 0)}),this.bufferingTimeManager=new dm,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add(e=>{"play"!==e?(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause()):(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume())})}),this.isStarted.addOne(()=>{const e=(this.getDuration()+lm)*rh;this.playingTimeCounter.addCallback(e,()=>{this.trackError(new Jo.a({code:"TOO_LONG_PLAYING",details:{src:this.getSrc()}}))}),this.playingTimeCounter.start(),this.onPause.add(()=>{this.playingTimeCounter.stop()}),this.onResume.add(()=>{this.playingTimeCounter.start()}),this.addDestroyHandler(()=>{this.playingTimeCounter.stop()})}),this.isStarted.add(()=>{this.playingState.dispatch("play")}),this.onPause.add(()=>{this.playingState.dispatch("pause")}),this.onResume.add(()=>{this.playingState.dispatch("play")}),this.addDestroyHandler(()=>{this.playingState.dispatch("end")}),this.onBeforeComplete.add(()=>{this.trackEvent("beforeComplete",void 0)}),this.addDestroyHandler(e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackEvent(t,void 0)}),this.addDestroyHandler(()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll()}),this.addDestroyHandler(Object(qd.a)({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne(()=>{this.subscribeFullscreenForLogs()})}trackEvent(e,t){this.mediaAd.trackEvent(e,this.adDisplayController.getAdPlacementOptions(),t)}trackAdParametersEvent(e,t){const i=this.getAdParametersTrackingUrls(e);Array.isArray(i)&&(Object($o.a)("Track event=["+e+"]"),bt({eventName:e,trackingEventDetails:t,trackingUrls:i,options:this.adDisplayController.getAdPlacementOptions()}))}trackStartEvent(){this.isCreativeStartRequested.getValue()||Qo.c.error({error:new Jo.a({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=ps),this.trackEvent("start",{timeToStart:e})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;void 0===e&&(e={});const{playerHandles:i=!0}=e,{clickThroughUrl:n}=this.adPodViewerPlaybackParams;let r;this.isDestroyed&&Qo.c.error({error:new Jo.a({code:"CALL_AD_POD_VIEWER_CLICK_THROUGH_AFTER_DESTROY",details:{clickThroughParams:e}})}),e.url?r=e.url:n&&(Qo.c.event({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:n}}),r=n);const{pauseOnClickThrough:a,clickThroughConfirmation:o}=this.adDisplayController.config,{clickThroughCallback:s}=this.adDisplayController.config;if(!Boolean(s||r)||!i)return void this.trackEvent("clickThrough",void 0);r&&(r=A({url:pn(r),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const d=Object(vl.a)((function(i){void 0===i&&(i=!1);const n=Date.now(),o=t.adDisplayController.getPaused(),d=a&&!o;if(d&&t.pause(),i){const e=mn(window.document,i=>{if(!i)return;d&&t.resume();const r=Date.now()-n;t.trackAdParametersEvent("returnAfterClickThrough",{timeSpentBeforeReturn:r});const a=cm(r);Qo.c.event({name:a,data:{timeSpentBeforeReturn:r}}),e()});t.addDestroyHandler(e)}t.trackEvent("clickThrough",void 0),t.onClickThrough.dispatch({adWasPaused:Boolean(a)}),s&&Xo.d&&Qo.c.event({name:"ClickThroughCallbackHandle",probability:Xo.a,data:{clickThroughParams:e,url:r,pauseOnClickThrough:a}})}));if(s){o||d();const t=this.isDestroyed;s({url:r,onHandle:d}),!t&&this.isDestroyed&&Qo.c.error({error:new Jo.a({code:"DESTROY_DURING_CLICK_THROUGH_CALLBACK_CALL",details:{clickThroughParams:e}})}),Qo.c.event({name:"ClickThroughCallbackCall",probability:Xo.a,data:{clickThroughParams:e,url:r,pauseOnClickThrough:a}})}else{null!==window.open(r,"_blank")&&d(!0)}}isClickable(){return Boolean(this.adPodViewerPlaybackParams.isClickable)}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isNonLinear(){return this.mediaAd.vastAd.isNonLinear}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;if(this.isNonLinear())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isNonLinear())return Nh;if(this.isAdaptive())return Ph;const e={width:this.getAdWidth(),height:this.getAdHeight()};return e.height!==$A&&e.width!==em?e:void 0}getDesiredBitrate(){const{desiredBitrate:e=Xl}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}getAdParametersObject(){return this.mediaAd.vastAd.adParametersObject}}const _m=640,Om=480;class Tm extends ym{constructor(e){super(e),fn(this,"preferredSource",void 0),fn(this,"videoNodeController",void 0),fn(this,"curtain",void 0),fn(this,"startTracked",!1),fn(this,"makeVideoClickable",this.ignoreAfterDestroy(()=>{const{videoNode:e,slotParameters:t}=this.adDisplayController,i=()=>{const{clickThroughUrl:e}=this.adPodViewerPlaybackParams;Qo.c.event({name:"VideoElementClick",data:{clickThroughUrl:e}}),e&&this.clickThrough({url:e})};this.addDestroyHandler(this.videoNodeController.onClick.add(i)),this.addDestroyHandler(Object(qd.a)({element:t.element,eventName:"click",listener:i,ignoreBubbling:!0})),on(e)&&this.isClickable()&&(im||(this.addDestroyHandler(Ei(e,{cursor:"pointer"})),this.addDestroyHandler(Ei(t.element,{cursor:"pointer"}))))})),fn(this,"setAdMediaFile",Object(vl.a)(e=>{this.preferredSource=e,this.videoNodeController.setSrc(e),this.onReady.dispatch(void 0)})),fn(this,"getVideoMediaFileToPlay",Object(vl.a)(()=>{const{width:e,height:t}=this.getVideoSize();let i=this.mediaAd.getPreloadedVideoFile();const n=this.mediaAd.getMediaFiles();if(i||(i=ti(n,{container:{width:e,height:t},desiredBitrate:this.getDesiredBitrate()}).prioritisedMediaFile),i)return i}));const{adDisplayController:t}=e;this.videoNodeController=t.videoNodeController,this.videoNodeController.isFullscreen()&&this.trackEvent("fullscreen",void 0);const i=()=>{this.videoNodeController.isFullscreen()?this.trackEvent("fullscreen",void 0):this.trackEvent("exitFullscreen",void 0)};this.videoNodeController.fullscreenApi.addHandler(i),this.addDestroyHandler(()=>{this.videoNodeController.fullscreenApi.removeHandler(i),this.curtain&&Object(Ko.a)(this.curtain)}),this.isStarted.addOne(this.makeVideoClickable);const{adPodViewerPlaybackParams:n}=this,r=new Error,{videoTimeout:a}=n;this.shouldPlayTimeCounter.addCallback(a,()=>{this.isStarted.getValue()||this.destroy({reason:"error",details:new Jo.a(r,{code:"VIDEO_TIMEOUT",details:{timeout:a,src:this.getSrc(),config:t.config,viewerPlaybackParams:n}})})})}resume(){this.playingState.dispatch("play"),this.videoNodeController.play()}play(e){void 0===e&&(e=!0),this.isDestroyed&&Qo.c.error({error:new Jo.a({code:"PLAY_VIDEO_VIEWER_AFTER_DESTROY",details:void 0})}),this.playingState.dispatch(e?"play":"pause");const t=this.getVideoMediaFileToPlay();if(t)this.setAdMediaFile(t),e?this.isCreativeStartRequested.getValue()?this.resume():this.start():this.addDestroyHandler(this.videoNodeController.onPlay.addOne(()=>{if(this.isCreativeStartRequested.getValue())return;this.videoNodeController.videoNode.currentSrc===this.preferredSource.url&&(Qo.c.event({name:"StartVideoAdByVideoPlay",data:void 0}),this.start())}));else{const e=this.mediaAd.getMediaFiles();this.destroy({reason:"error",details:new Jo.a({code:1===e.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE",details:{mediaFiles:e}})})}}pause(){this.playingState.dispatch("pause"),this.videoNodeController.pause()}skipAd(){this.destroy({reason:"skip",details:void 0})}getAdSkippableState(){const{skipDelay:e}=this.adPodViewerPlaybackParams;return e>0&&this.getCurrentTime()>e}getAdWidth(){var e,t;const i=this.videoNodeController.videoNode;return i.videoWidth>0?i.videoWidth:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.width)&&void 0!==e?e:em}getAdHeight(){var e,t;const i=this.videoNodeController.videoNode;return i.videoHeight>0?i.videoHeight:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.height)&&void 0!==e?e:$A}getCurrentTime(){return this.videoNodeController.getCurrentTime()}getAdRemainingTime(){if(this.isDestroyed)return 0;const e=this.getDuration();return this.isCreativeStartRequested.getValue()?e-this.videoNodeController.getCurrentTime():e}getDuration(){const e=this.mediaAd.getDuration();return!this.isStarted.getValue()||this.isDestroyed?e:this.videoNodeController.getDuration()||e}getSrc(){var e,t;return null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.url)&&void 0!==e?e:""}setMuted(e){this.videoNodeController.setMuted(e)}getVolume(){return this.adDisplayController.videoNodeController.getVolume()}setVolume(e){this.videoNodeController.setVolume(e)}resizeAd(e,t,i){void 0===i&&(i=Cp.NORMAL)}subscribeEvents(){this.addDestroyHandler(this.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.onPlayAfterPause.add(()=>{this.startTracked&&this.onResume.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.playingState.add(e=>{"pause"===e&&this.onPause.dispatch(void 0)}));const{bufferEmptyLimit:e}=this.adPodViewerPlaybackParams;this.addDestroyHandler(sn({videoNodeController:this.videoNodeController,bufferEmptyLimit:e,callback:()=>{const t=new Jo.a({code:"BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:e}});this.destroy({reason:"error",details:t})}}));const{bufferFullTimeout:t}=this.adPodViewerPlaybackParams;this.addDestroyHandler(dn({videoNodeController:this.videoNodeController,bufferFullTimeout:t,callback:()=>{this.destroy({reason:"error",details:new Jo.a({code:"BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:t}})})}})),this.addDestroyHandler(this.videoNodeController.onError.add(e=>{this.destroy({reason:"error",details:e})})),this.addDestroyHandler(cn({videoNodeController:this.videoNodeController,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:void 0,callbacks:{AdStarted:()=>{this.startTracked=!0,this.isStarted.dispatch(!0),this.trackStartEvent(),this.onImpression.dispatch(void 0)},AdVideoFirstQuartile:()=>this.onFirstQuartile.dispatch(void 0),AdVideoMidpoint:()=>this.onMidpoint.dispatch(void 0),AdVideoThirdQuartile:()=>this.onThirdQuartile.dispatch(void 0),AdVideoBeforeComplete:()=>this.onBeforeComplete.dispatch(void 0),AdVideoComplete:()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:!0}),this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:!0}})}}}));const i=this.videoNodeController.currentPosition.add(e=>{let{currentTime:t,duration:i}=e;if(i>0)this.mediaAd.actualizeDuration(i);else{const e=this.mediaAd.getDuration();if(!e)return;i=e}this.playbackPosition.dispatch({duration:i,remainingTime:i-t})});this.addDestroyHandler(()=>{i()})}start(){this.isCreativeStartRequested.dispatch(!0),this.subscribeEvents(),this.videoNodeController.setSeekAllowed(!1),this.addDestroyHandler(this.videoNodeController.onSeekRestore.add(()=>{Qo.c.event({name:"RestoreSeek",data:{},probability:Xo.a})})),this.addDestroyHandler(()=>{this.videoNodeController.setSeekAllowed(!0)}),this.videoNodeController.play(),this.videoNodeController.setVisibleControls(!1)}getVideoSize(){const e=this.videoNodeController.getWidth(),t=this.videoNodeController.getHeight();if(e&&t)return{width:e,height:t};const{width:i,height:n}=this.adDisplayController.slotParameters.size.getValue();return i&&n?{width:i,height:n}:{width:_m,height:Om}}}const Em=-1,Sm=-1,wm=-2,Cm=!1,Im={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:wm,getAdVolume:vs,getAdIcons:!1,getAdExpanded:!1,getAdHeight:$A,getAdWidth:em,getAdLinear:!0,getAdSkippableState:Cm},Pm=bn({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),Nm=bn({},Im,Pm),Dm={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},Rm={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},km={adVolume:"setAdVolume"},Vm={getAdUnitId:0},Bm=10,Lm="Yandex creative cannot be played in a third-party environment, use Video Ads SDK https://yandex.ru/dev/video-sdk/",jm={AdSkipped:"skip",AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume"},{initMoatTracking:Mm}=i(174),xm=Object(bd.a)({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),Um=180,Fm=320*Um,Hm=160,Wm=300*Hm;class zm extends yd.a{constructor(e){var t;super(),Tn(this,"onResize",void 0),Tn(this,"resizeObserverCallback",e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})}),Tn(this,"getElementWindow",e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null});const i=zd(e);this.onResize=new _d.a({width:i.width,height:i.height},(e,t)=>{let{width:i,height:n}=t;return e.width===i&&e.height===n}),this.addDestroyHandler(()=>{this.onResize.removeAll()});const n=this.getElementWindow(e),r=null!==(t=null===n||void 0===n?void 0:n.ResizeObserver)&&void 0!==t?t:window.ResizeObserver;if("undefined"!==typeof r&&Object(ls.a)(ResizeObserver))try{const t=new r(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler(()=>{t.disconnect()})}catch(a){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return On({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=zd(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Object(qd.a)({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(oi(i))}}class Gm{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class Ym{constructor(e){this.distributionFunction=e,En(this,"stopped",!0),En(this,"cancel",void 0),En(this,"clock",void 0),En(this,"lastNow",0),En(this,"lastKnockTime",0),En(this,"lastTimeout",0),En(this,"restTime",0),En(this,"destroyed",!1),En(this,"isFirstKnock",!0),En(this,"count",0),this.clock=new Gm}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout(()=>{this.knock(this.lastNow+this.lastTimeout)},this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout(()=>{this.knock(e+t)},t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const qm={height:0,width:0},Km=function(e){if(void 0===e&&(e=window),void 0===e.screen)return qm;const{width:t=qm.width,height:i=qm.height}=e.screen;return{width:t,height:i}},Xm={UNKNOWN:0,ETHERNET:1,WIFI:2,CELL_2G:3,CELL_3G:4};var Jm=i(104);const Qm=os([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],e=>null!==navigator.userAgent.match(e)),Zm=!0,$m=!0,ev=.5,tv=2;class iv extends yd.a{constructor(e,t){let{considerDocumentVisibility:i=Zm,numberOfMeasurementSteps:n=tv}=void 0===t?{}:t;super(),this.element=e,Rn(this,"totalVisibilityValueSignal",new _d.a(!1)),Rn(this,"totalVisibilityRatioValueSignal",void 0),Rn(this,"elementVisibilityRatioValueSignal",void 0),Rn(this,"documentVisibilityValueSignal",new _d.a($m)),Rn(this,"recalculateVisibility",()=>{if(this.isDestroyed||!Ii(this.element))return;const e=Dn(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)}),Rn(this,"refreshTotalVisibility",()=>{const e=this.elementVisibilityRatioValueSignal.getValue(),t=this.documentVisibilityValueSignal.getValue()?e:0;this.totalVisibilityValueSignal.dispatch(t>=ev),this.totalVisibilityRatioValueSignal.dispatch(t)});const r=Math.max(n,tv);this.totalVisibilityRatioValueSignal=new _d.a(0),this.elementVisibilityRatioValueSignal=new _d.a(0);const a=e.ownerDocument.defaultView.IntersectionObserver;Boolean(a)?this.startIntersectionObserver(a,r):this.startVisibilityCheckInterval(),i&&this.startObservingDocumentVisibility(e.ownerDocument),this.elementVisibilityRatioValueSignal.add(this.refreshTotalVisibility),this.documentVisibilityValueSignal.add(this.refreshTotalVisibility),this.addDestroyHandler(()=>{this.totalVisibilityValueSignal.removeAll(),this.totalVisibilityRatioValueSignal.removeAll(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll()})}startIntersectionObserver(e,t){const i=[ev],n=1/t;for(let a=1;a<t;a++)i.push(a*n);const r=new e(e=>{let[{intersectionRatio:t}]=e;this.elementVisibilityRatioValueSignal.dispatch(t)},{threshold:i});r.observe(this.element),this.addDestroyHandler(()=>{r.disconnect()})}startVisibilityCheckInterval(){const e=oi(this.recalculateVisibility);this.addDestroyHandler(e);const{promise:t,clear:i}=Object(kd.a)(0);t.then(this.recalculateVisibility).catch(Zo.a),this.addDestroyHandler(i)}async startObservingDocumentVisibility(e){await dc(0);const t=Object(fm.a)(e);this.documentVisibilityValueSignal.dispatch(t);const i=mn(e,e=>{this.documentVisibilityValueSignal.dispatch(e)});this.addDestroyHandler(i)}}class nv{constructor(){var e=this;Vn(this,"events",{}),Vn(this,"subscribe",(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let n=this.events[t];void 0===n&&(n=this.events[t]=[]),n.push({callback:e,context:i})}),Vn(this,"unsubscribe",(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=Object(Pd.a)(i,t=>{let{callback:i}=t;return e!==i}))}),Vn(this,"dispatch",(function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if("string"!==typeof t)throw new Error("Event name MUST be a string");const a=e.events[t];a&&Object(ts.a)(a,e=>{let{callback:i,context:r}=e;try{i.apply(r,n)}catch(a){Qo.c.error({error:new Jo.a(a,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:n}})})}})}))}}i(175);const rv=WBViewAbility;var av=i(66);const ov=8,sv={id1:"",id2:"",id5:"",id7:"",id9:""},dv=e=>Object(rs.b)("https://pixel.adlooxtracking.com/ads/ic.php",(e=>{let{id1:t,id2:i,id5:n,id7:r,id9:a}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:n,id7:r,id9:a,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(e)),lv="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206&plat=206",cv=e=>"https://"+ss.b+"/pcode-static/measurers/"+e+"/video/adloox.js",uv=ys.b.split("/"),hv=uv[uv.length-1];var pv=i(70);const Av=["MoatSuperV26"],{initMoatTracking:mv}=i(176),vv={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},fv="yandexhostedvideo786420153684",gv=async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n}=e;await Object(av.a)({src:"https://"+ss.b+"/pcode-static/measurers/1/main.js",win:window}).promise,verify(i,{vpaidCreative:t,measurerParameters:n})},bv={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r}=e;const a=i.ownerDocument.defaultView,o=(e=>"https://"+ss.b+"/pcode-static/measurers/"+e+"/video/adriver.js")(r);await Object(av.a)({win:a,src:o}).promise,new a.AdriverViewabilityYandexVPAID(Ln({},n,{ya_custom:"ADSID="+Os.a}),i,t),Object($o.a)("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:n,onMeasurerError:r,yastaticVersion:a}=e;const o=mv(i,jn({},n,{zMoatADID:Os.a,slicer1:hv,partnerCode:fv}),t.getAdDuration(),fv,a);Object(ts.a)(Object(bd.a)(vv),e=>{t.subscribe(()=>{try{o.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(i){r(new Jo.a({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:i,eventName:e}}))}},e)}),t.subscribe(()=>{!function(e){const t=Object(pv.a)(e);for(const i of t)Object(ts.a)(Av,e=>{e in i&&delete i[e]})}(window)},"AdStopped")},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:n,onMeasurerError:r,yastaticVersion:a}=e;var o;const d=Bn({},n,{targetelt:((o=i).id||(o.id=Object(Wd.a)(ov)),o.id),urli:lv,urlv:lv,urle:lv},{id8:Os.a}),l=Object(Dd.a)(Object(Fu.a)(d),(e,t,i)=>{let[n,r]=t;return"string"!==typeof r?e:e+(0===i?"#":"&")+n+"="+encodeURIComponent(r)},"");t.subscribe(()=>{const e=""+cv(a)+l;s(dv(Bn({},sv,d))),Object(av.a)({win:i.ownerDocument.defaultView,src:e}).promise.catch(e=>{r(new Jo.a({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))})},"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r}=e;const a=i.ownerDocument.defaultView,o=(e=>"https://"+ss.b+"/pcode-static/measurers/"+e+"/video/weborama.js")(r);await Object(av.a)({win:a,src:o}).promise,new a.WBMeasurerV(i,t,JSON.stringify(Mn({},n,{siteid:Os.a}))),Object($o.a)("weborama measurer loaded")},admetrica:gv,sizmek:gv,yandexTestMeasurer:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r}=e;Object($o.a)("start YandexTestMeasurer initialization"),Object(ts.a)(xm,e=>{const i=Object(vl.a)(()=>{Qo.c.event({name:xn(e),data:void 0,probability:Xo.a})});t.subscribe((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Object($o.a)("YandexTestMeasurer received VPAID event=["+e+"], args=["+pe(n)+"]"),i()}),e)}),Object($o.a)("complete YandexTestMeasurer initialization")}},yv={moat:{actual:"64",unstable:"56"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"42",unstable:"42"},adriver:{actual:"28",unstable:"28"},sizmek:{actual:"1",unstable:"1"},admetrica:{actual:"1",unstable:"1"},yandexTestMeasurer:{actual:"1",unstable:"2"}},_v=(e,t)=>{const i=yv[e],n=t;return Object(hs.a)(n)&&"use_unstable_script"in n&&Boolean(n.use_unstable_script)?i.unstable:i.actual},Ov=3e4,Tv=Object(bd.a)(bv),Ev={1:[],2:[],3:[],5:[]};class Sv extends yd.a{constructor(e,t,i){var n,r;super(),n=this,this.vpaidCreative=e,this.parameters=t,this.callbacks=i,Xn(this,"userInteractionDispatchers",{AdClickThru:e=>{this.onClickThru.dispatch(e)}}),Xn(this,"vpaidCreativeProxyForMeasurers",void 0),Xn(this,"playingStateValueSignal",new _d.a(!1)),Xn(this,"bufferingTimeManager",void 0),Xn(this,"slotVisibilityStateValueSignal",void 0),Xn(this,"slotHoverStateValueSignal",new _d.a(!1)),Xn(this,"vpaidInitParameters",void 0),Xn(this,"measurerStartParameters",void 0),Xn(this,"shouldPlayTimeCounter",new sm),Xn(this,"lastVolume",void 0),Xn(this,"vpaidEventBus",new nv),Xn(this,"vpaidCreativeProxyForMeasurersEventBus",new nv),Xn(this,"isVisibilityConfirmed",!1),Xn(this,"initMeasurableParameters",Object(vl.a)(e=>{var t;const i=e[4];if(!Object(hs.a)(i))throw new Jo.a({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:n}=i,r=e[5];if(!Object(hs.a)(r)||!Object(hs.a)(r.slot))throw new Jo.a({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:a,videoSlot:o,yandexAdPlaybackParams:s}=r,d=null!==(t=this.parameters.visibilitySlot)&&void 0!==t?t:a;this.bufferingTimeManager.start(o);const{parameters:l,errors:c}=function(e){if(!e)return{parameters:void 0,errors:[new Jo.a({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})]};let t={};try{t=JSON.parse(e)}catch(h){return{parameters:void 0,errors:[new Jo.a({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})]}}const{viewability:i,encounters:n,dwell:r,start:a,trackingEvents:o,viewedComplete:s,weborama:d,moat:l}=t,{measurers:c,errors:u}=Wn(t);return{parameters:{measurers:c,viewability:zn(i),dwell:zn(r),trackingEvents:W(H(o),{encounters:Un(n),viewedComplete:Un(s),start:Un(a)}),weborama:d,moat:Yn(l),skipAdSdkDetect:Gn(t)},errors:u}}(n);if(Object(ts.a)(c,this.callbacks.onExecutionError),!l)throw new Jo.a({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:n}});const{skipAdSdkDetect:u}=l;if(!Object(hs.a)(s)){const e=new Jo.a({code:u?"LEGAL_DIRECT_AD_PLAYING":"ILLEGAL_DIRECT_AD_PLAYING",message:Lm,details:{adParameters:n}});if(this.callbacks.onExecutionError(e),!u)throw e}this.vpaidInitParameters={slot:d,videoSlot:o,adParameters:l},this.initMeasurers()})),Xn(this,"initMeasurers",Object(vl.a)(()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t}=this;if(!e)return this.callbacks.onExecutionError(new Jo.a({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:i,weborama:n,moat:r},slot:a}=e;if(n&&"string"===typeof n.wbStatData)try{(new rv).init(a,n.wbStatData,t)}catch(s){this.callbacks.onExecutionError(new Jo.a(s,{code:"WEBORAMA_INIT_ERROR",details:void 0}))}if(r){const{partnerCode:e,ids:i}=r;try{!function(e,t,i,n){Mm(e,t,i,n)}(t,a,i,e)}catch(s){this.callbacks.onExecutionError(new Jo.a(s,{code:"INIT_MOAT_TRACKING_ERROR",details:{ids:i,partnerCode:e}}))}}const o=Kn({},i,{yandexTestMeasurer:{}});return Promise.all(Object(is.a)(Object(bd.a)(o),async e=>{const i=o[e],n=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(i,["use_unstable_script"]),r=bv[e],d=_v(e,i);try{await r({vpaidCreative:t,slot:a,measurerParameters:n,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:d}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:a,measurerParameters:n})}catch(s){this.callbacks.onExecutionError(new Jo.a({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:n,error:new Od.a(s)}}))}}))})),Xn(this,"trackEncounters",Object(vl.a)(e=>{this.vpaidInitParameters?(this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{reason:e}),this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),void 0),this.trackImpressionWithVisibility()):this.callbacks.onExecutionError(new Jo.a({code:"VPAID_MEASURER_CANNOT_TRACK_ENCOUNTERS_BEFORE_START",details:{eventName:"encounters"}}))})),Xn(this,"trackTrueView",Object(vl.a)(e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{reason:e})})),Xn(this,"startMeasurement",Object(vl.a)(()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new Jo.a({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i,videoSlot:n}=e,{viewability:r,dwell:a}=i;this.addDestroyHandler(function(e,t){let i=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||"function"!==typeof t.querySelector)&&t.querySelector(":hover")===e}(e);i&&t(!0);const n=ki(e,"mouseenter",()=>{i||(i=!0,t(!0))}),r=ki(e,"mouseleave",()=>{i&&(i=!1,t(!1))});return()=>{n(),r()}}(t,e=>{this.slotHoverStateValueSignal.dispatch(e)}));const o=new zm(t),s=o.getSize();this.callbacks.onSlotSizeChange(s);const d=on(n)?new zm(n):o,l=new _d.a(_n(s,im));let c;if(o.onResize.add(e=>{this.callbacks.onSlotSizeChange(e),l.dispatch(_n(e,im))}),this.parameters.visibilityRatio)c=this.parameters.visibilityRatio;else{const e=new iv(t,{numberOfMeasurementSteps:Bm});c=e.totalVisibilityRatioValueSignal,this.addDestroyHandler(()=>e.destroy())}this.measurerStartParameters={videoSlotSize:d.onResize,slotSize:o.onResize,visibilityRatio:c},this.addDestroyHandler(c.add(e=>{this.slotVisibilityStateValueSignal.dispatch(e>=ev)})),this.addDestroyHandler(()=>{d.destroy(),o.destroy()});const u=new Ym(e=>{let{count:t}=e;return 1===t&&(u.destroy(),this.trackTrueView("progress")),Ov}),h=new Ym(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"viewability5",intervalId:5}:1===e?{eventName:"viewability1",intervalId:1}:2===e?{eventName:"viewability2",intervalId:2}:3===e?{eventName:"viewability3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,r[i.intervalId],void 0),qn(t)}),p=new Ym(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"dwell5",intervalId:5}:1===e?{eventName:"dwell1",intervalId:1}:2===e?{eventName:"dwell2",intervalId:2}:3===e?{eventName:"dwell3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,a[i.intervalId],void 0),qn(t)}),A=new Ym(e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),A.destroy()),qn(t)});this.addDestroyHandler(()=>{u.destroy(),h.destroy(),p.destroy(),A.destroy()}),this.addDestroyHandler(this.playingStateValueSignal.add(e=>{u.setEnabled(e)})),this.addDestroyHandler(an([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,l],(e,t,i)=>e&&t&&i,e=>{e&&A.reset(),h.setEnabled(e),A.setEnabled(e)})),this.addDestroyHandler(an([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,l],(e,t,i,n)=>e&&t&&i&&n,e=>{p.setEnabled(e)}))})),Xn(this,"methodSniffers",{subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe}),Xn(this,"onClickThru",new Gd.a),Xn(this,"eventSniffers",{AdLoaded:()=>{this.initMeasurers().then(()=>{this.vpaidEventBus.dispatch("AdLoaded")}).catch(md.a)},AdClickThru:(e,t,i)=>{var n;this.callbacks.onExecutionError(new Jo.a({code:"VPAID_MEASURER_RECEIVED_AD_CLICK_THRU_EVENT",details:{adParameters:null===(n=this.vpaidInitParameters)||void 0===n?void 0:n.adParameters}})),this.onClickThru.dispatch({url:e,id:t,playerHandles:i}),this.vpaidEventBus.dispatch("AdClickThru",e,t,i)}}),Xn(this,"vpaidWillSetProperty",(e,t)=>{this.vpaidCreative[e]=t}),Xn(this,"vpaidWillCallMethod",(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(n){return this.vpaidEventBus.dispatch("AdError",n),void this.destroy({error:n})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodSniffers[e];return i?i(...t):this.vpaidCreative[e].apply(this.vpaidCreative,t)}),Xn(this,"trackImpressionWithVisibility",()=>{Ad?this.trackEvent("impressionDetermined",this.getTrackingUrlsByTrackingEventName("impressionDetermined"),void 0):this.trackEvent("impressionUndetermined",this.getTrackingUrlsByTrackingEventName("impressionUndetermined"),void 0)}),Xn(this,"updatePlayTimeCounter",e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}}),Xn(this,"trackEvent",(function(e,t,i){if(void 0===t&&(t=[]),Object($o.a)("Track VPAIDMeasurer event=["+e+"]"),!n.vpaidInitParameters||!n.measurerStartParameters)return void n.callbacks.onExecutionError(new Jo.a({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:r,videoSlotSize:a,visibilityRatio:o}=n.measurerStartParameters,s={eventName:e,trackingEventDetails:i,trackingUrls:t,options:Cn({win:window,slotSize:r.getValue(),videoSlotSize:a.getValue(),slotVisibilityRatio:o.getValue(),videoNode:n.vpaidInitParameters.videoSlot,bufferingTime:n.bufferingTimeManager.getBufferingTime()})};mt(s),n.callbacks.onTrackEvent(s)})),this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.addDestroyHandler(this.onClickThru.add(e=>{let{url:t,id:i,playerHandles:n}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),void 0),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,i,n)})),this.playingStateValueSignal.add(i.onPlayingStateChange);let a=!1;t.visibilityRatio&&(a=t.visibilityRatio.getValue()>=ev),this.slotVisibilityStateValueSignal=new _d.a(a),null===(r=t.visibilityRatio)||void 0===r||r.add(e=>this.slotVisibilityStateValueSignal.dispatch(e>=ev)),this.slotVisibilityStateValueSignal.add(i.onSlotVisibilityStateChange),this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new dm,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.addDestroyHandler(e=>{i.onStop(e),Object(ts.a)([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal],e=>{e.dispatch(!1),e.removeAll()})}),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=y(Pm,(e,t)=>()=>{Object($o.a)("Measurer called VPAID action method=["+t+"]")}),n=y(Im,(t,i)=>{return function(){const t=e[i];for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.apply(e,r)}});return Object(ts.a)(xm,e=>{this.vpaidEventBus.subscribe((function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...n)}),e)}),kn(Kn({},i,n,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;Object(ts.a)(xm,t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.vpaidDidDispatchEvent(t,n)}),t)})}vpaidDidDispatchEvent(e,t){const i=jm[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),void 0),"AdVideoStart"===e&&this.onAdVideoStart(),"AdVideoComplete"===e&&(this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),void 0),this.trackTrueView("complete")),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new Jo.a({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};Object($o.a)("Track VPAIDMeasurer event=[error]"),m(i),this.callbacks.onAdError(i)}var n,r,a,o,s;("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdUserClose"===e)&&this.callbacks.onExecutionError(new Jo.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null===(n=this.vpaidInitParameters)||void 0===n?void 0:n.adParameters}}));"AdSkipped"===e&&this.callbacks.onExecutionError(new Jo.a({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null===(r=this.vpaidInitParameters)||void 0===r?void 0:r.adParameters}}));"AdImpression"===e&&this.callbacks.onExecutionError(new Jo.a({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null===(a=this.vpaidInitParameters)||void 0===a?void 0:a.adParameters}}));"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new Jo.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null===(o=this.vpaidInitParameters)||void 0===o?void 0:o.adParameters}}));"AdUserMinimize"===e&&this.callbacks.onExecutionError(new Jo.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null===(s=this.vpaidInitParameters)||void 0===s?void 0:s.adParameters}}));if("AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),void 0),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),void 0),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdStopped":case"AdError":case"AdSkipped":this.destroy({reason:e})}const d=this.eventSniffers[e];void 0===d?this.vpaidEventBus.dispatch(e,...t):d(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return Array.isArray(i)?Object(is.a)(i,t=>{const i=this.getConsumerAdditionalTrackingParams(e,t);return Object(hs.a)(i)?Object(rs.b)(t,i,{override:!1}):t}):[]}getConsumerAdditionalTrackingParams(e,t){const i=Object(dd.a)(()=>{var i,n;return null===(i=(n=this.parameters).getAdditionalTrackingParameters)||void 0===i?void 0:i.call(n,{eventName:e,url:t})});return!Object(hs.a)(i)||Wi(i)?null:i}onAdVideoStart(){this.measurerStartParameters?this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{timeToStart:this.shouldPlayTimeCounter.getTime()}):this.callbacks.onExecutionError(new Jo.a({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const wv=()=>vs,Cv=()=>!1,Iv=()=>!1,Pv=e=>"2.0";var Nv,Dv,Rv,kv,Vv,Bv,Lv={},jv=[],Mv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;Nv={__e:function(e,t){for(var i,n;t=t.__;)if((i=t.__c)&&!i.__)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError&&(n=!0,i.setState(i.constructor.getDerivedStateFromError(e))),null!=i.componentDidCatch&&(n=!0,i.componentDidCatch(e)),n)return ar(i.__E=i)}catch(t){e=t}throw e}},ir.prototype.setState=function(e,t){var i;i=this.__s!==this.state?this.__s:this.__s=Qn({},this.state),"function"==typeof e&&(e=e(i,this.props)),e&&Qn(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),ar(this))},ir.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ar(this))},ir.prototype.render=tr,Dv=[],Rv="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Vv=Lv,Bv=0;class xv extends ir{static isValidPreactError(e){return Object(Fd.a)(e)||Object(Pu.a)(e)}static createPreactError(e){return Object(Fd.a)(e)?e:new Jo.a(e,{code:"PREACT_ERROR",details:{error:e}})}constructor(){var e,t,i;super(),e=this,t="initialRender",i=new _d.a({status:"initial"}),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.initialRender.addOne(e=>{"initial"!==e.status&&this.props.onFirstRender(e)})}componentDidCatch(e){const t=xv.createPreactError(e);Qo.c.error({error:t});const{status:i}=this.initialRender.getValue();"initial"===i?this.initialRender.dispatch({status:"error",error:t}):this.props.onRuntimeError(t)}componentDidMount(){this.initialRender.dispatch({status:"success"})}render(){return this.props.children}}var Uv,Fv,Hv,Wv=[],zv=Nv.__r,Gv=Nv.diffed,Yv=Nv.__c,qv=Nv.unmount;Nv.__r=function(e){zv&&zv(e),Uv=0,(Fv=e.__c).__H&&(Fv.__H.__h.forEach(Ir),Fv.__H.__h.forEach(Pr),Fv.__H.__h=[])},Nv.diffed=function(e){Gv&&Gv(e);var t=e.__c;if(t){var i=t.__H;i&&i.__h.length&&(1!==Wv.push(t)&&Hv===Nv.requestAnimationFrame||((Hv=Nv.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(n),cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(i,100);"undefined"!=typeof window&&(t=requestAnimationFrame(i))})(Cr))}},Nv.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Ir),e.__h=e.__h.filter((function(e){return!e.__||Pr(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Nv.__e(i,e.__v)}})),Yv&&Yv(e,t)},Nv.unmount=function(e){qv&&qv(e);var t=e.__c;if(t){var i=t.__H;if(i)try{i.__.forEach((function(e){return e.t&&e.t()}))}catch(e){Nv.__e(e,t.__v)}}};Object(us.a)({propertyName:"ERROR_BOUNDARY_GLOBAL_CALLBACK",win:window}),gr({});const Kv=e=>{const t=e.components;return $n(tr,null,Object(Dd.a)(t,(t,i)=>i(Rr({},e.componentsProps,{children:t})),e.children))};var Xv=function(){for(var e,t,i=0,n="";i<arguments.length;)(e=arguments[i++])&&(t=kr(e))&&(n&&(n+=" "),n+=t);return n};const Jv=gr(Nu.a),Qv=()=>Nu.a,Zv=gr(fs),$v=e=>Vr(e),ef=()=>wr(Zv),tf=gr({element:document.body,window}),nf=e=>{return{element:e,window:e.ownerDocument.defaultView}},rf=()=>wr(tf);Number(new Date);class af{constructor(){var e,t,i;e=this,t="usingStylesByContainersMap",i=new WeakMap,t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const n=i.get(t);return n?(i.set(t,n+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const n=i.get(t);return!n||(i.set(t,n-1),!(n>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}const of=new class{constructor(){Lr(this,"stylesUsingCounter",new af),Lr(this,"styleElementsMap",new WeakMap)}useStyleModule(e,t){const i=t,n=[];for(let r=0;r<i.length;r++){const[t,a]=i[r];if(a){if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=Br(e,a),n=this.styleElementsMap.get(e);n?n.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}n.push(t)}}return n.length?Object(vl.a)(()=>{Object(ts.a)(n,t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),n=this.styleElementsMap.get(e);if(!i||!n)return;const r=n.get(t);Object(Ko.a)(r),n.delete(t),0===n.size&&this.styleElementsMap.delete(e)})}):Zo.a}},sf=gr({descriptionText:void 0,buttonText:"",openClickThroughUrl:Zo.a,progress:0,hasTimeline:!1,disableOverlay:!1});var df=i(148),lf=i.n(df);const cf=e=>{let{children:t,onClick:i}=e;return jr(lf.a),$n("div",{className:df.locals.PackshotButton,onClick:i},$n("div",{className:df.locals.PackshotButton__content},t))};var uf=i(156),hf=i.n(uf);const pf=e=>{let{width:t,height:i}=e;return jr(hf.a),$n("div",{className:uf.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})},Af=4,mf=e=>Math.floor(1e4*e)/1e4;var vf=i(94),ff=i.n(vf);const gf="#ff1a2d",bf=1,yf=e=>{let{currentNumber:t,count:i,color:n=""+gf,adAnimationProgress:r,backgroundOpacity:a=bf}=e;jr(ff.a);const{width:o,transform:s}=function(e){let{currentNumber:t,count:i}=e;const n=Af*(i-1)/i,r="calc("+mf(100/i)+"% - "+mf(n)+"px)",a=t*Af;return{width:r,transform:"translateX("+("calc("+mf(100*t)+"% + "+mf(a)+"px)")+")"}}({currentNumber:t,count:i});return $n("div",{className:vf.locals.TimelineBar__container,style:{width:o,transform:s}},$n("div",{className:Xv(vf.locals.TimelineBar,vf.locals.TimelineBar__background),style:{opacity:""+a}}),$n("div",{className:Xv(vf.locals.TimelineBar,vf.locals.TimelineBar__progress),style:{transform:"scaleX("+r+")",backgroundColor:n}}))};var _f=i(72),Of=i.n(_f);const Tf=()=>{jr(Of.a);const{width:e,height:t}=ef(),i=function(e){let{width:t}=e;return t<560?13:t<720?14:16}({width:e}),{descriptionText:n,buttonText:r,openClickThroughUrl:a,progress:o,hasTimeline:s,disableOverlay:d=!1}=(()=>wr(sf))(),{INPAGE_PACKSHOT_TIMELINE:l}=(()=>wr(Jv))();return $n("div",{onClick:r?void 0:a,className:Xv(_f.locals.PackshotScreen,{[_f.locals.PackshotScreen_clickable]:!r}),style:{width:e+"px",height:t+"px"}},!d&&$n("div",{className:_f.locals.PackshotScreen__packshotOverlayWrapper},$n(pf,{width:e,height:t})),r&&$n("div",{className:_f.locals.PackshotScreen__buttonWrapper},$n(cf,{onClick:a},r)),Object(ml.a)(n)&&$n("div",{className:_f.locals.PackshotScreen__textBlock,style:{fontSize:i+"px"}},n),"DISABLE"===l?s&&$n("div",{className:_f.locals.PackshotScreen__timelineBarWrapper},$n(yf,{adAnimationProgress:o,currentNumber:0,count:1,color:"white"})):$n("div",{className:_f.locals.PackshotScreen__timelineBarWrapper},$n(yf,{adAnimationProgress:o,currentNumber:0,count:1,color:"white"})))},Ef=[e=>$n(tf.Provider,{value:nf(e.container),children:e.children}),e=>$n(Zv.Provider,{value:$v(e.containerSize),children:e.children}),e=>$n(sf.Provider,{value:Mr(e),children:e.children})],Sf=1e4;class wf extends yd.a{constructor(e){var t,i,n;super(),this.props=e,t=this,i="shouldPlay",n=new _d.a(!0),i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n;const{duration:r,container:a,openClickThroughUrl:o,hasTimeline:s}=this.props,d=a.ownerDocument.defaultView,c=!l(r);this.addDestroyHandler(e=>{Object($o.a)("Packshot: destroy packshot reason=["+e.reason+"]"),Qo.c.event({name:"PackshotDestroyed",data:{isInfiniteDuration:c,reason:e}})});const u=new _d.a(0);let h;this.addDestroyHandler(function(e){const{container:t,onRuntimeError:i,onFirstRenderError:n}=e;return fr($n(xv,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&n(e.error)}},$n(Kv,{components:Ef,componentsProps:e},$n(Tf,null))),t),()=>{fr(null,t)}}(xr({},this.props,{openClickThroughUrl:()=>{Qo.c.event({name:"PackshotButtonClicked",data:void 0}),o()},animationProgress:u,onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})},hasTimeline:s}))),Qo.c.event({name:"PackshotRendered",data:{isInfiniteDuration:c}}),c?(h=new XA(d,e=>{let{time:t}=e;const i=Math.atan(t/Sf)/(.5*Math.PI);u.dispatch(i)}),this.addDestroyHandler(()=>{h.stop()}),h.start()):(h=new QA({win:d,duration:r*rh,callback:e=>{u.dispatch(e)},onFinish:()=>{Qo.c.event({name:"PackshotTimelineFinished",data:void 0}),this.destroy({reason:"complete",details:void 0})}}),u.add(e=>{e>=1&&h.stop()}),this.addDestroyHandler(()=>{h.stop(),u.removeAll(),this.shouldPlay.removeAll()}),h.start()),this.shouldPlay.add(e=>{e?h.start():h.stop()})}setPlaying(e){this.shouldPlay.dispatch(e)}}const Cf={complete:"AdVideoComplete",skip:"AdSkipped",close:"AdUserClose",stopAd:"AdStopped"};class If extends yd.a{constructor(e){var t,i,n;super(),this.params=e,n=void 0,(i="promise")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.promise=this.loadAdCreative().catch(e=>{throw this.destroy(),e})}async loadAdCreative(){const{adParametersString:e,slot:t,externalLiveCycle:i,initAdCreative:n}=this.params;if(!Object(_s.a)(n))throw new Jo.a({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let r,a;try{r=n({adParametersString:e,slot:t,externalLiveCycle:i})}catch(o){throw new Jo.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!fd(r))throw new Jo.a({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});try{a=await r}catch(o){if(Object(Fd.a)(o))throw o;throw new Jo.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return this.destroy(),a}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const Pf={startAd:()=>new Promise(Zo.a),stopAd:Zo.a};class Nf extends yd.a{constructor(e){super(),this.params=e,Fr(this,"vpaidEventBus",new nv),Fr(this,"handshakeVersion",Pv),Fr(this,"subscribe",this.vpaidEventBus.subscribe),Fr(this,"unsubscribe",this.vpaidEventBus.unsubscribe),Fr(this,"resizeAd",Zo.a),Fr(this,"expandAd",Zo.a),Fr(this,"collapseAd",Zo.a),Fr(this,"getAdIcons",Iv),Fr(this,"getAdExpanded",Cv),Fr(this,"setAdVolume",Zo.a),Fr(this,"getAdVolume",wv),Fr(this,"initAd",Object(vl.a)(()=>{this.vpaidEventBus.dispatch("AdLoaded")})),Fr(this,"videoStartedLatch",new ZA),Fr(this,"adCreativeLatch",new ZA),Fr(this,"completeLatch",new ZA),Fr(this,"isPackshotStarted",new ZA),Fr(this,"shouldPlay",new _d.a(!1)),Fr(this,"isPlaying",new _d.a(!1)),Fr(this,"remainingTime",new _d.a(wm)),Fr(this,"shouldPlayTimeCounter",new sm),Fr(this,"lifeCycleLatches",y({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},(e,t)=>new ZA(this.ignoreAfterDestroy(()=>{this.vpaidEventBus.dispatch(t)})))),Fr(this,"stopAdAndDestroyWrapper",Zo.a),Fr(this,"stopAnimation",Zo.a),Fr(this,"beforeDestroyLatch",new ZA),Fr(this,"pauseAd",()=>{this.shouldPlay.dispatch(!1)}),Fr(this,"resumeAd",()=>{this.shouldPlay.dispatch(!0)}),Fr(this,"getAdHeight",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoHeight)&&void 0!==e?e:$A}),Fr(this,"getAdWidth",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoWidth)&&void 0!==e?e:em}),Fr(this,"getAdLinear",()=>!1),Fr(this,"getAdDuration",()=>{const e=this.getVideoDurationConsideringDurationLimit();return e||Em}),Fr(this,"getAdRemainingTime",()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDurationConsideringDurationLimit(),i=t.getCurrentTime();if(l(e)&&Z(i))return Math.max(e-i,0)}return Sm}),Fr(this,"getAdSkippableState",()=>!0),Fr(this,"dispatchAdStarted",()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),this.addDestroyHandler(()=>{this.beforeDestroyLatch.dispatch(void 0)});const{videoParameters:t,videoNodeController:i,isNonLinear:n,animationParameters:r,slot:a,slotSize:s,packshotParameters:d,lang:c,getVPAIDLogDetails:u}=e;if(this.vpaidEventBus.subscribe(e=>{Qo.c.errorToStats(e)},"AdError"),this.addDestroyHandler(Object(vl.a)(()=>{this.vpaidEventBus.dispatch("AdStopped")})),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.shouldPlay.add(e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()}),this.remainingTime.add(()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")}),this.beforeDestroyLatch.subscribe(()=>{this.remainingTime.removeAll()}),t){const e=()=>{this.isPlaying.dispatch(i.playingState.getValue()===mA.PLAY)};this.beforeDestroyLatch.subscribe(i.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(t?r?this.adCreativeLatch.subscribe(()=>{this.startVideoPlaying(t,i)}):this.shouldPlay.addOne(()=>{this.startVideoPlaying(t,i)}):n||i.pause(),t?this.videoStartedLatch.subscribe(this.dispatchAdStarted):this.adCreativeLatch.subscribe(this.dispatchAdStarted),this.adCreativeLatch.subscribe(e=>{const{getAdDuration:i,getAdRemainingTime:n,resizeAd:r}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add(t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)}),t||(Object(_s.a)(i)&&(this.getAdDuration=()=>i.call(e)),Object(_s.a)(n)&&(this.getAdRemainingTime=()=>n.call(e),this.beforeDestroyLatch.subscribe(oi(()=>{this.remainingTime.dispatch(this.getAdRemainingTime())})))),this.stopAnimation=Object(vl.a)(()=>{e.stopAd()}),this.beforeDestroyLatch.subscribe(this.stopAnimation),this.beforeDestroyLatch.subscribe(s.add(t=>{Object(_s.a)(r)&&r.call(e,t)}))}),d){const{packshotImageUrl:e}=d;this.lifeCycleLatches.AdVideoThirdQuartile.subscribe(()=>{o(e)}),this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{this.isPackshotStarted.dispatch(d)}))}else this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{this.stopAdAndDestroyWrapper("complete")}));this.isPackshotStarted.subscribe(e=>{let{packshotDuration:t,packshotImageUrl:n,packshotActionButtonClickUrl:r,onPackshotStart:o,packshotButtonText:d}=e;this.stopAnimation(),i.pause(),o();const l=a.ownerDocument.createElement("div");T(l,Ur({},ol,{backgroundImage:"url("+n+")",backgroundPosition:"center",backgroundSize:"cover"})),a.appendChild(l);const h=new wf({duration:t,container:l,containerSize:s,openClickThroughUrl:()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:r,id:void 0,playerHandles:!0})},buttonText:d||Id("LEARN_MORE",c),descriptionText:void 0,disableOverlay:void 0,hasTimeline:!0});this.shouldPlay.add(e=>{h.setPlaying(e)}),h.addDestroyHandler(e=>{let{reason:t,details:i}=e;"complete"!==t?("firstRenderError"!==t&&"runtimeError"!==t||(Qo.c.error({error:new Jo.a({code:"firstRenderError"===t?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:u()})}),this.vpaidEventBus.dispatch("AdError",i)),this.destroy()):this.stopAdAndDestroyWrapper("complete")}),this.addDestroyHandler(()=>{h.destroy({reason:"stopAd",details:void 0}),Object(Ko.a)(l)})})}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null===(e=this.params.videoParameters)||void 0===e?void 0:e.getAutoplay();!t||i?(Object($o.a)("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)):(Object($o.a)("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),Qo.c.event({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,canAutoplay:i},probability:Xo.a})),this.beforeDestroyLatch.subscribe(this.shouldPlay.add(e=>{t&&!this.isPackshotStarted.getDispatched()||this.vpaidEventBus.dispatch(e?"AdPlaying":"AdPaused")})),this.stopAdAndDestroyWrapper=e=>{const t=Cf[e];this.vpaidEventBus.dispatch(t),this.destroy()},this.startAnimationPlaying().catch(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}),this.beforeDestroyLatch.subscribe(()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()})}stopAd(){this.destroy()}skipAd(){this.vpaidEventBus.dispatch("AdSkipped"),this.stopAd()}getVideoDurationConsideringDurationLimit(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{durationLimit:i}=e,n=t.getDuration(),r=l(n)?n:void 0;if(r&&l(i))return Math.min(r,i);if(r)return r}}async startAnimationPlaying(){const{animationParameters:e,adCreativeWindow:t,getVPAIDLogDetails:i,slot:n,videoParameters:r}=this.params;if(!e)return void this.adCreativeLatch.dispatch(Pf);const{animationMediaFile:a,getPreloadedAdCreativeInitFunction:o,adCreativeParameters:s}=e;let d=o();try{if(!Object(_s.a)(d)){const{promise:e,teardown:i}=Dt({animationMediaFile:a,win:t});this.beforeDestroyLatch.subscribe(i),d=await e}}catch(u){throw new Jo.a(u,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:i()})}if(this.isDestroyed)return;const l=new If({slot:n,adParametersString:s,externalLiveCycle:Boolean(r),initAdCreative:d});this.beforeDestroyLatch.subscribe(()=>{l.destroy()});const c=await l.promise;this.isDestroyed||this.adCreativeLatch.dispatch(c)}startVideoPlaying(e,t){const{videoSlotSize:i,videoContentSize:n,videoMediaFile:r,videoTimeout:a,bufferEmptyLimit:o,bufferFullTimeout:s,durationLimit:d,durationFallback:c,onVideoBufferingStateChange:u}=e;t.isBuffering.getValue()&&u(!0),this.addDestroyHandler(t.isBuffering.add(e=>{u(e)}));const{videoNode:h}=t,{clickThroughUrl:p,animationParameters:A,slot:m}=this.params;if(this.getAdVolume=()=>t.getVolume(),this.setAdVolume=e=>{0===e?t.setMuted(!0):t.setVolume(e)},t.onVolumeChange.add(()=>this.vpaidEventBus.dispatch("AdVolumeChange")),t.setSrc(r),void 0!==p){const e=()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:p,id:void 0,playerHandles:!0})};this.beforeDestroyLatch.subscribe(t.onClick.add(()=>{Qo.c.event({name:"AdCreativeWrapperVideoElementClick",data:{clickThroughUrl:p}}),e()})),on(h)&&!im&&this.beforeDestroyLatch.subscribe(Ei(h,{cursor:"pointer"})),void 0===A&&(this.beforeDestroyLatch.subscribe(Object(qd.a)({element:m,eventName:"click",listener:t=>{Qo.c.event({name:"AdCreativeWrapperSlotElementClick",data:{clickThroughUrl:p}}),e()},ignoreBubbling:!0})),im||this.beforeDestroyLatch.subscribe(Ei(m,{cursor:"pointer"})))}this.beforeDestroyLatch.subscribe(t.onVolumeChange.add(()=>{this.vpaidEventBus.dispatch("AdVolumeChange")}));const v=t.onPlayAfterPause.add(()=>{this.videoStartedLatch.getDispatched()&&this.vpaidEventBus.dispatch("AdPlaying")}),f=t.playingState.add(e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")});this.beforeDestroyLatch.subscribe(v),this.beforeDestroyLatch.subscribe(f),this.isPackshotStarted.subscribe(v),this.isPackshotStarted.subscribe(f);const g=()=>{const e=this.adCreativeLatch.getValue();if(!e||!Object(_s.a)(e.adjustAdPosition))return;const t=this.getAdDuration(),i=this.getAdRemainingTime();l(t)&&Z(i)&&e.adjustAdPosition({adDuration:t,adRemainingTime:i})};this.beforeDestroyLatch.subscribe(cn({durationFallback:c,durationLimit:d,videoNodeController:t,callbacks:Ur({},y(this.lifeCycleLatches,e=>()=>{e.dispatch(void 0)}),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),g()},AdVideoComplete:e=>{if(e.completeOnDurationLimit){const{getVPAIDLogDetails:e}=this.params;Qo.c.event({name:"CreativeCompleteOnDurationLimit",data:{durationLimit:d,vpaidLogDetails:e()}})}this.completeLatch.dispatch(void 0)}})}));const b=new Error;this.shouldPlayTimeCounter.addCallback(a,()=>{if(this.videoStartedLatch.getDispatched())return;const e=new Jo.a(b,{code:"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:a,mediaFile:r}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}),this.beforeDestroyLatch.subscribe(sn({videoNodeController:t,bufferEmptyLimit:o,callback:()=>{const e=new Jo.a({code:"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:o,mediaFile:r}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.beforeDestroyLatch.subscribe(dn({videoNodeController:t,bufferFullTimeout:s,callback:()=>{const e=new Jo.a({code:"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:s,mediaFile:r}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),t.setSeekAllowed(!1),this.beforeDestroyLatch.subscribe(t.onSeekRestore.add(()=>{Qo.c.event({name:"AdCreativeRestoreSeek",data:{},probability:Xo.a})})),this.beforeDestroyLatch.subscribe(()=>{t.setSeekAllowed(!0)}),this.beforeDestroyLatch.subscribe(t.onError.add(e=>{this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.beforeDestroyLatch.subscribe(t.currentPosition.add(()=>{g(),this.remainingTime.dispatch(this.getAdRemainingTime())})),this.shouldPlay.getValue()&&t.play();const _=this.shouldPlay.add(e=>{e?t.play():t.pause()});this.isPackshotStarted.subscribe(_),this.addDestroyHandler(_),this.beforeDestroyLatch.subscribe(i.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(_s.a)(t.resizeVideoSlot)&&t.resizeVideoSlot(e)})),this.beforeDestroyLatch.subscribe(n.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(_s.a)(t.resizeVideoContent)&&t.resizeVideoContent(e)}))}startAdCreative(e){const{slot:t,videoParameters:i,slotSize:n,getVPAIDLogDetails:r}=this.params,a=n.getValue(),o=y(this.lifeCycleLatches,e=>i?Zo.a:()=>e.dispatch(void 0)),s=e.startAd({get slot(){return Object(th.a)('You are using "slot" parameter from adCreative.startAd(...) method. This property is deprecated. Use "slot" parameter from initAdCreative method argument.'),Qo.c.error({error:new Jo.a({code:"USING_SLOT_GETTER_FROM_START_AD_PARAMETERS",details:r()})}),t},callbacks:Ur({AdClickThru:this.ignoreAfterDestroy((e,t,i)=>{const n=Object(ml.a)(e)?e:this.params.clickThroughUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:n,id:t,playerHandles:i})})},o),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},videoSlotSize:i?i.videoSlotSize.getValue():a,size:a,videoContentSize:null===i||void 0===i?void 0:i.videoContentSize.getValue()});if(!fd(s))throw new Jo.a({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});s.then(this.ignoreAfterDestroy(e=>{if(i)return;let t="complete";if(Object(hs.a)(e)){const i=e.reason;Object(ml.a)(i)&&Boolean(Cf[i])&&(t=i)}"complete"===t?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(t)})).catch(this.ignoreAfterDestroy(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}))}pauseAdCreative(e){var t;null===(t=e.pauseAd)||void 0===t||t.call(e)}resumeAdCreative(e){var t;null===(t=e.resumeAd)||void 0===t||t.call(e)}}const Df=15e4,Rf=Object(vl.a)(e=>{Qo.c.event({name:"IntersectionObserverMocked",data:{functionCode:Object(dd.a)(()=>e.IntersectionObserver.toString())}})}),kf=Object(vl.a)(()=>{Qo.c.event({name:"DocumentHiddenMocked",data:void 0})}),Vf=Object(vl.a)(e=>{Qo.c.event({name:"IframeIntersectionObserverMocked",data:{functionCode:Object(dd.a)(()=>e.IntersectionObserver.toString())}})}),Bf=Object(vl.a)(()=>{Qo.c.event({name:"IframeDocumentHiddenMocked",data:void 0})}),Lf=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"],jf=0,Mf=.5,xf="TRUE"===Hh("DISABLE_SHADOW_ROOT")||void 0,Uf="open",Ff=5e3,Hf="2.0",Wf=Object(bd.a)({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0});class zf extends yd.a{static getVpaidAd(e){return kn(new zf({outsideApi:e}))}handshakeVersion(){return Hf}stopAd(){Object($o.a)("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),Kr(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,n,r,a){if(this.isDestroyed)return void Qo.c.error({error:new Jo.a({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:n,creativeData:r,environmentVars:a}})});const o=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(a,["slot","videoSlot"]);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:n,creativeData:r,environmentVars:Xr({},o,{videoSlot:void 0,slot:void 0})}]).then(Zo.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.params=e,Jr(this,"unsubscribe",Zo.a),Jr(this,"getAdIcons",Iv),Jr(this,"getterValues",Object(wl.a)(Object(is.a)(Wf,e=>[e,Im[e]]))),Jr(this,"subscribe",(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,(t,n)=>{e.apply(i,n)})});const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy((e,t)=>{this.getterValues[e]=t}))),this.addDestroyHandler(e=>{"fatal"===e.reason&&Qo.c.error({error:new Jo.a({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})})}callRemoteMethod(e,t){this.isDestroyed?Qo.c.error({error:new Jo.a({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(Zo.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}}const Gf=e=>{let{versionSupported:t,versionToCheck:i}=e;const n=Object(is.a)(t.split("."),e=>parseInt(e,10)),r=Object(is.a)(i.split("."),e=>parseInt(e,10));for(let a=0;a<r.length;a++){const e=r[a],t=n[a],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0},Yf=e=>Object(hs.a)(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe,qf=["idle","load","init","start","play"];const Kf=e=>a(e)||!Ce(e),Xf=e=>{const{adConfig:{secureMode:t}}=e,i=null!==Oc&&void 0!==Oc?Oc:t;if(!i)return!1;const n=e.getJSMediaFile();if(!n)return!1;switch(i){case"ForceSafe":return!0;case"Safe":return!Kf(n.url);case"OnlyYandexCreatives":case"Unsafe":default:return!1}};class Jf extends ym{constructor(e){super(e),ea(this,"onAdSkippableStateChange",new Gd.a),ea(this,"creative",void 0),ea(this,"adCreativeWrapper",void 0),ea(this,"adSkippableState",!1),ea(this,"canUseMediaAfterPlayback",!1),ea(this,"lifeCycleStage",new _d.a("idle",(e,t)=>{const i=qf.indexOf(e);return qf.indexOf(t)-i!==1&&Qo.c.error({error:new Jo.a({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:$r({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),ea(this,"isOverlayWithoutVideo",null),ea(this,"startVpaidCreative",Object(vl.a)(e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),Object($o.a)("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();if(e.subscribe(Object(vl.a)(()=>{Object($o.a)("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),Qo.c.values({name:"VpaidCreativeStarted",probability:Xo.a,data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e},labels:{}})}),"AdStarted"),this.isOverlayWithoutVideo){const{promise:e,clear:t}=Object(kd.a)(Df);e.then(()=>{this.destroy({reason:"error",details:this.parseVpaidError(new Jo.a({code:"AD_CREATIVE_MAX_PLAYING_DURATION_REACHED",details:void 0}),"VPAIDPlayingError")})}).catch(md.a),this.addDestroyHandler(t)}})),ea(this,"updatePosition",this.ignoreAfterDestroy(()=>{var e,t;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdRemainingTime())&&void 0!==e?e:Sm})})),ea(this,"creativeAdStartedCallback",re(()=>{if(this.isDestroyed)return void Qo.c.error({error:new Jo.a({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||Qo.c.error({error:new Jo.a({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=Object(vl.a)(()=>{this.isStarted.dispatch(!0)}),t=this.playingState.getValue();Object($o.a)("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"!==t?this.playingState.subscribeValueConditionOnce(e=>"play"===e,e):e()},()=>{Qo.c.error({error:new Jo.a({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),ea(this,"createContainerNode",Object(vl.a)(e=>{let{isAdCreative:t,isNonLinear:i}=e;const{slotDocument:n,slotParameters:r}=this.adDisplayController,a=n.createElement("div");T(a,$r({},ol,{pointerEvents:i?"none":"auto",visibility:"hidden",overflow:"hidden"})),this.isCreativeStartRequested.addOne(()=>{T(a,{visibility:"visible"})}),this.addDestroyHandler(()=>{Object(Ko.a)(a)}),r.element.appendChild(a);let o=null;return(t||i)&&(o=zr(a))&&T(o,ol),o||a})),ea(this,"prepareVpaidCreative",Object(vl.a)(async()=>{this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)}));const e=await this.initCreative();if(!e||this.isDestroyed)throw new Jo.a({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});if(e.subscribe(e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})},"AdError"),"function"===typeof e.getAdUnitId){const t=e.getAdUnitId();t&&(Qo.c.event({name:"UsingVpaidAdUnitId",data:this.getVPAIDLogDetails(),probability:Xo.a}),Ah.addUnit(t))}this.creative=e,this.addDestroyHandler(()=>{this.creative=void 0}),this.onReady.dispatch(void 0),"play"!==this.playingState.getValue()?this.startAndPauseVpaidCreative(e):this.startVpaidCreative(e),this.updateAdSkippableState()})),ea(this,"isAdPlayingCalled",!1),ea(this,"getVPAIDLogDetails",()=>({adParametersString:this.getAdParameters(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:Ii(this.adDisplayController.slotParameters.element),lifeCycleStage:this.lifeCycleStage.getValue()}));const{adPodViewerPlaybackParams:t}=e,i=new Error,{vpaidTimeout:n}=t;this.shouldPlayTimeCounter.addCallback(n,()=>{const e=this.getSrc(),r=this.lifeCycleStage.getValue(),{videoNodeController:a}=this.adDisplayController,o={timeout:n,src:e,config:this.adDisplayController.config,viewerPlaybackParams:t,liveCycleStage:r,videoNodeSrc:a.videoNode.src,adMediaState:this.adDisplayController.adMediaState.getValue()};this.isDestroyed?Qo.c.error({error:new Jo.a({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:o})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&Qo.c.error({error:new Jo.a({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:o})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new Jo.a(i,{code:Zr({creativeLifeCycleStage:r,isYandexCreative:Kf(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:o})}))}),this.isStarted.addOne(()=>{this.addDestroyHandler(oi(this.updatePosition))}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(kd.a)(1e4);this.addDestroyHandler(e),t.then(()=>{Qo.c.error({error:new Jo.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_10_SEC",details:this.getVPAIDLogDetails()})})}).catch(md.a)}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(kd.a)(25e3);this.addDestroyHandler(e),t.then(()=>{Qo.c.error({error:new Jo.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_25_SEC",details:this.getVPAIDLogDetails()})})}).catch(md.a)}),this.addDestroyHandler(()=>{this.onAdSkippableStateChange.removeAll()})}play(e){void 0===e&&(e=!0),this.isDestroyed&&Qo.c.error({error:new Jo.a({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})}),this.playingState.dispatch(e?"play":"pause"),this.creative?this.resume():this.prepareVpaidCreative().catch(e=>{this.destroy({reason:"error",details:e})})}getCurrentTime(){if(!this.creative)return jf;const e=this.creative.getAdRemainingTime()||hm;return d(e)?this.getDuration()-e:jf}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return!d(e)||e<0?this.isStarted.getValue()?hm:this.getDuration():e}pause(){this.playingState.dispatch("pause"),this.creative&&(Object($o.a)("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),Object($o.a)("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(Object($o.a)("VpaidAdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():Cm}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return em}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return $A}resizeAd(e,t,i){var n;void 0===i&&(i=Cp.NORMAL),null===(n=this.creative)||void 0===n||n.resizeAd(e,t,i)}getSrc(){return this.getScriptSrc()}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:Mf;this.setVolume(e?0:i)}getVolume(){var e,t;return null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdVolume())&&void 0!==e?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){this.isDestroyed||(this.creative?this.creative.setAdVolume(e):this.adDisplayController.videoNodeController.setVolume(e))}startAndPauseVpaidCreative(e){Kf(this.getScriptSrc())&&(Object($o.a)("preload VPAID creative by start and pause"),this.startVpaidCreative(e),Qo.c.event({name:"PreloadVPAIDCreativeByStartAndPause",probability:Xo.a,data:{vpaidSrc:this.getSrc()}}),Object($o.a)("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:n}=this.mediaAd,{isNonLinear:r}=n,a=ui(n),o=this.createContainerNode({isAdCreative:a,isNonLinear:r});let s;if(a){Object($o.a)("[VpaidAdPodViewer]: play creative as AdCreative"),s=o;const{creative:i,wrapper:n}=this.wrapAdCreative(s);e=i,this.adCreativeWrapper=n,t=Object(vl.a)(()=>{try{Object($o.a)("[VpaidAdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(t){const e=r?"OVERLAY_STOP_AD_ERROR":"LINEAR_AD_CREATIVE_STOP_AD_ERROR";Qo.c.error({error:new Jo.a(t,{code:e,details:this.getVPAIDLogDetails()})})}})}else if(Xf(this.mediaAd)){Object($o.a)("[VpaidAdPodViewer]: play creative via VASFrame");const i=kl({container:s=o,initTimeout:Ff});this.addDestroyHandler(i.abortInit);const n=await i.initPromise;if(this.isDestroyed)return void n.destroy(void 0);if(n.addDestroyHandler(()=>{this.destroy({reason:"error",details:new Jo.a({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{}})})}),this.addDestroyHandler(()=>{n.destroy(void 0)}),this.isDestroyed)return;if(n.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await n.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const r=()=>zf.getVpaidAd(n),a=this.getStandardVpaidCreative(r);e=a.creative,t=Object(vl.a)(()=>{Object($o.a)("[VpaidAdPodViewer]: call VPAID stopAd method"),a.stopAd()}),this.addDestroyHandler(t),n.changeFrameVisibility(!0)}else{Object($o.a)("[VpaidAdPodViewer]: play creative with Friendly Iframe");const i=wp.create({parentElement:o,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),n=i.iframe;T(n,ol),s=n.contentDocument.body;const r=n.contentWindow;Hr(r)&&Bf(),Wr(r)&&Vf(r),Object(ts.a)(Lf,e=>{this.addDestroyHandler(Object(qd.a)({element:s,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))}),this.addDestroyHandler(()=>{i.destroy(void 0)}),i.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})});const a=await this.loadVpaidMediaFile(r);if(this.isDestroyed)return;const d=this.getStandardVpaidCreative(a);e=d.creative,t=d.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne(()=>{Object($o.a)("[VpaidAdPodViewer]: call stopAd in onBeforeDestroy callback"),t()}),Qo.c.values({name:"VpaidCreativeLoaded",probability:Xo.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i},labels:{}}),this.isDestroyed)throw new Jo.a({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{clientWidth:d,clientHeight:l}=this.adDisplayController.videoNodeController.videoNode,c=this.getDesiredBitrate(),u={AdParameters:this.getAdParameters()},{canPlayMuted:h,canPlayUnMuted:p}=this.adDisplayController.autoplayAbilitySignal.getValue(),A={slot:s,videoSlot:this.adDisplayController.videoNodeController.videoNode,videoSlotCanAutoPlay:this.adDisplayController.videoNodeController.videoNode.muted?h:p,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:this.config.lang,skipDelay:this.config.skipDelay,controlsSettings:{controlsVisibility:$l},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},m=qr({creative:e,isYandexCreative:Kf(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(m);const v=Date.now();return await new Promise((i,n)=>{m.subscribe(()=>{Object($o.a)("VPAID dispatched AdLoaded event"),i(m)},"AdLoaded"),m.subscribe(e=>{Object($o.a)("VPAID dispatched AdError event"),n(this.parseVpaidError(e,"VPAIDLoadingError"))},"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(d,l,Cp.NORMAL,c,u,A)}catch(r){throw Object($o.a)("[VpaidAdPodViewer]: creative.initAd() error, call stopAd"),t(),new Jo.a(r,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}}),Qo.c.values({name:"VpaidCreativeInitialized",probability:Xo.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-v},labels:{}}),m}wrapAdCreative(e){var t;const{vastAd:i}=this.mediaAd,{isNonLinear:n,mediaFiles:r,durationLimit:a}=i,o=this.getAdParameters(),s=null===(t=i.playbackAdParameters)||void 0===t?void 0:t.clickThroughUrl,{parsed:{videoMediaFiles:d,animationMediaFile:l,adParameters:c},errors:u}=Tt(o);ne(u);const h=(null===l||void 0===l?void 0:l.type)===iu.Overlay;if(h!==n)throw new Jo.a({code:"AD_PARAMETERS_ARE_NOT_FIT_TO_VAST_BY_LINEAR_TYPE",details:this.getVPAIDLogDetails()});if(n&&!function(e){let{url:t}=e;return t===eu}(r[0]))throw new Jo.a({code:"CANNOT_PLAY_NON_YANDEX_OVERLAY",details:this.getVPAIDLogDetails()});const{videoContentSize:p,videoSlotSize:A,slotParameters:m,videoNodeController:v,visibilitySlotParameters:f}=this.adDisplayController,{videoTimeout:g,bufferFullTimeout:b,bufferEmptyLimit:y,packshotParameters:_}=this.adPodViewerPlaybackParams;let O,T;if(!n&&d.length>0){let e=this.mediaAd.getPreloadedVideoFile();if(e||(e=ti(d,{container:m.size.getValue(),desiredBitrate:this.getDesiredBitrate()}).prioritisedMediaFile),!e)throw new Jo.a({code:"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE",details:{mediaFiles:d}});O={videoContentSize:p,videoSlotSize:A,videoMediaFile:$r({},e,{url:kh(e.url)}),videoTimeout:g,bufferFullTimeout:b,bufferEmptyLimit:y,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:a,getAutoplay:()=>this.adDisplayController.getAutoplay(),onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}T=l&&"InteractiveElementsAdCreative"===au[l.url]?"IV":n?"OVERLAY_FRIENDLY_IFRAME":"LINEAR_AD_CREATIVE_FRIENDLY_IFRAME";let E,S=e.ownerDocument.defaultView;if(l){E={animationMediaFile:l,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:c};const t=wp.createHidden({parentElement:e,scope:T,provideLogDetails:this.getVPAIDLogDetails});S=t.window,this.addDestroyHandler(()=>{t.destroy(void 0)}),t.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})})}this.isOverlayWithoutVideo=h&&!O;const{creative:w,wrapper:C,userInteractionDispatchers:I}=function(e){const t=new Nf(e),i=kn(t),{measurableVPAIDCreative:n,userInteractionDispatchers:r}=Jn(i,{visibilityRatio:e.visibilityRatio,visibilitySlot:e.visibilitySlot},{onStop:e=>{let{error:t,reason:i}=e;t?Qo.c.error({error:t}):Qo.c.event({name:"AdCreativeMeasured",probability:Xo.a,data:{stopReason:i}})},onInitMeasurer:e=>{"yandexTestMeasurer"!==e.measurerName&&Qo.c.event({name:"AdCreativeInitMeasurer",probability:Xo.a,data:{measurerData:e}})},onTrackEvent:e=>{ft(e)},onExecutionError:e=>{Qo.c.error({error:e})},onAdError:e=>{let{error:t}=e;Qo.c.errorToStats(t)}});return{creative:n,wrapper:t,userInteractionDispatchers:r}}({adCreativeWindow:S,slot:e,visibilitySlot:f.element,visibilityRatio:f.visibilityRatio,animationParameters:E,videoParameters:O,videoNodeController:v,isNonLinear:n,slotSize:m.size,clickThroughUrl:s,getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:_?$r({},_,{onPackshotStart:()=>{this.packshotStartLatch.dispatch(void 0)}}):void 0,lang:this.config.lang,adCreativeUserInteractionCallbacks:{AdClickThru:e=>{Qo.c.event({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e},probability:Xo.a}),this.userInteractionDispatchers.AdClickThru(e),this.clickThrough(e)}}});return this.userInteractionDispatchers=I,{creative:w,wrapper:C}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){var e;const t=this.mediaAd.vastAd,i=null===(e=t.adParametersObject)||void 0===e?void 0:e.theme,n="video-banner_theme_caucasus"===i,r="video-banner_theme_moroz"===i,a="video-banner_theme_lake"===i;Su(t)&&(n||r||a)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=Kf(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(ai(e,(e,i,n)=>{Qo.c.error({error:ii({scope:t,errorType:i,error:e,details:$r({},this.getVPAIDLogDetails(),{error:e,data:n})})})}));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(Sp(e,()=>{this.destroy({reason:"error",details:new Jo.a({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:void 0})})})),t;Qo.c.event({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t}})}try{const{promise:t,teardown:i}=jh({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(n){throw new Jo.a(n,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:void 0})}}getStandardVpaidCreative(e){const t=Kf(this.getScriptSrc());if("function"!==typeof e)throw new Jo.a({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:$r({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(a){throw new Jo.a(a,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const n=Object(vl.a)(()=>{Object($o.a)("[VpaidAdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(a){Qo.c.error({error:new Jo.a(a,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}});if(!Yf(i))throw new Jo.a({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const r=i.handshakeVersion(Hf);if(!Gf({versionSupported:Hf,versionToCheck:r}))throw Object($o.a)("[VpaidAdPodViewer]: vpaid version is NOT supported, call stopAd method"),n(),new Jo.a({code:"VPAID_VERSION_ERROR",details:$r({},this.getVPAIDLogDetails(),{playerSupportedVersion:Hf,creativeVersion:r})});return{creative:i,stopAd:n}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}subscribeCreativeEvents(e){e.subscribe(()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!==(e=null===(t=this.completeLatch.getValue())||void 0===t?void 0:t.canUseMediaAfterPlayback)&&void 0!==e&&e}})},"AdStopped"),e.subscribe((e,t,i)=>{Qo.c.event({name:"VpaidDispatchedAdClickThru",data:this.getVPAIDLogDetails(),probability:Xo.a}),this.clickThrough({url:e,id:t,playerHandles:Boolean(i)})},"AdClickThru"),e.subscribe(()=>{this.updateAdSkippableState()},"AdSkippableStateChange"),e.subscribe(this.updatePosition,"AdRemainingTimeChange");const t=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};e.subscribe(t,"AdStarted"),e.subscribe(()=>{Object($o.a)("VPAID dispatched AdDurationChange event"),t()},"AdDurationChange"),e.subscribe(this.creativeAdStartedCallback,"AdStarted"),e.subscribe(()=>{Object($o.a)("VPAID dispatched AdPaused event"),this.onPause.dispatch(void 0)},"AdPaused"),e.subscribe(()=>{Object($o.a)("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.onResume.dispatch(void 0)},"AdPlaying"),e.subscribe(()=>{this.trackStartEvent()},"AdVideoStart"),e.subscribe(()=>{this.onImpression.dispatch(void 0)},"AdImpression"),e.subscribe(()=>{this.onFirstQuartile.dispatch(void 0)},"AdVideoFirstQuartile"),e.subscribe(()=>{this.onMidpoint.dispatch(void 0)},"AdVideoMidpoint"),e.subscribe(()=>{this.onThirdQuartile.dispatch(void 0)},"AdVideoThirdQuartile");const i=Object(vl.a)(()=>this.onBeforeComplete.dispatch(void 0));e.subscribe(()=>{i()},"AdVideoBeforeComplete"),e.subscribe(()=>{this.onVolumeChange.dispatch(void 0)},"AdVolumeChange"),e.subscribe(()=>{this.destroy({reason:"skip",details:void 0})},"AdSkipped");const n=Object(vl.a)(()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback})});e.subscribe(()=>{Object($o.a)("VPAID dispatched AdVideoComplete event"),n()},"AdVideoComplete"),e.subscribe(()=>{this.destroy({reason:"close",details:void 0})},"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();return"string"===typeof e?new Jo.a({code:t,message:"String error from vpaid ["+e+"]",details:i}):Object(Fd.a)(e)?e:e?new Jo.a(e,{code:t,details:i}):new Jo.a({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}get videoNodeController(){return this.adDisplayController.videoNodeController}get config(){return this.adDisplayController.config}}const Qf=e=>{const{adParametersObject:t}=e;if(!Object(hs.a)(t))return;if(!Object(hs.a)(t.subtitles))return;const{vtt:i}=t.subtitles;return Object(ml.a)(i)?i:void 0},Zf=500,$f=!1,eg=1e3,tg="https://yandex.ru/socialads-transparency-report",ig=(e,t)=>{const i=oi(()=>{Ii(e)||(i(),t())});return i};let ng;const rg=na("ACTION_BUTTON_MASK_BACKGROUND_COLOR"),ag=function(e){return"value"in e},og=function(e){return"value"in e},sg={linear:e=>e,easeIn:e=>e*e,easeOut:e=>e*(2-e),easeInOut:e=>e<.5?2*e*e:(4-2*e)*e-1,easeOutBack:aa(.6,.7,.61,1.09,.01)},dg="linear",lg={number:(e,t,i)=>{return t+(i-t)*e},boolean:(e,t)=>t},cg=gr(e=>Id(e,Ed)),ug=e=>{let{adDisplayController:t}=e;const{lang:i}=t.config;return e=>Id(e,i)},hg=()=>wr(cg),pg=Wu.a||"Multiroll"===Hs.c||"Test"===Hs.c?Bt("ENABLE_YOUTUBE_LIKE_BUTTON",["ENABLE_ON_DESKTOP_SIZE","ENABLE_ACTION_BUTTON_WITH_ARROW","ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW","ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_TEXT","ENABLE_ACTION_BUTTON_WITH_ARROW_WITHOUT_FAVICON","ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_FAVICON","ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_TEXT_WITHOUT_FAVICON","ENABLE_ROUNDED_ACTION_PANEL","DISABLE_NO_ANIMATION","DISABLE_RECTANGULAR_ACTION_BUTTON","DISABLE_WITHOUT_ARROW","DISABLE_LEFT_BOTTOM","ENABLE_LEFT_BOTTOM","ENABLE_SIMPLE_ACTION_BUTTON"]):void 0,Ag=450,mg={oldActionButton:!0,noAnimation:!1,shape:"round",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"default",simpleActionButton:!1},vg=new Map([["ENABLE_ON_DESKTOP_SIZE",{oldActionButton:!1,noAnimation:!1,shape:"rectangular",hasArrow:!1,hasFavicon:!0,hasButtonText:!0,position:"default",simpleActionButton:!1}],["ENABLE_SIMPLE_ACTION_BUTTON",{oldActionButton:!1,noAnimation:!1,shape:"rectangular",hasArrow:!1,hasFavicon:!0,hasButtonText:!0,position:"default",simpleActionButton:!0}],["ENABLE_ACTION_BUTTON_WITH_ARROW",{oldActionButton:!1,noAnimation:!0,shape:"rectangular",hasArrow:!0,hasFavicon:!0,hasButtonText:!0,position:"positioned",simpleActionButton:!1}],["ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW",{oldActionButton:!1,noAnimation:!0,shape:"round",hasArrow:!0,hasFavicon:!0,hasButtonText:!0,position:"positioned",simpleActionButton:!1}],["ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_TEXT",{oldActionButton:!1,noAnimation:!0,shape:"round",hasArrow:!0,hasFavicon:!0,hasButtonText:!1,position:"positioned",simpleActionButton:!1}],["ENABLE_ACTION_BUTTON_WITH_ARROW_WITHOUT_FAVICON",{oldActionButton:!1,noAnimation:!0,shape:"rectangular",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"positioned",simpleActionButton:!1}],["ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_FAVICON",{oldActionButton:!1,noAnimation:!0,shape:"round",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"positioned",simpleActionButton:!1}],["ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_TEXT_WITHOUT_FAVICON",{oldActionButton:!1,noAnimation:!0,shape:"round",hasArrow:!0,hasFavicon:!1,hasButtonText:!1,position:"positioned",simpleActionButton:!1}],["ENABLE_ROUNDED_ACTION_PANEL",{oldActionButton:!1,noAnimation:!0,shape:"roundedCorners",hasArrow:!1,hasFavicon:!0,hasButtonText:!0,position:"positioned",simpleActionButton:!1}],["DISABLE_NO_ANIMATION",{oldActionButton:!0,noAnimation:!0,shape:"round",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"default",simpleActionButton:!1}],["DISABLE_RECTANGULAR_ACTION_BUTTON",{oldActionButton:!0,noAnimation:!0,shape:"rectangular",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"default",simpleActionButton:!1}],["DISABLE_WITHOUT_ARROW",{oldActionButton:!0,noAnimation:!0,shape:"round",hasArrow:!1,hasFavicon:!1,hasButtonText:!0,position:"default",simpleActionButton:!1}],["DISABLE_LEFT_BOTTOM",{oldActionButton:!0,noAnimation:!1,shape:"round",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"alwaysLeftBottom",simpleActionButton:!1}],["ENABLE_LEFT_BOTTOM",{oldActionButton:!1,noAnimation:!1,shape:"rectangular",hasArrow:!1,hasFavicon:!0,hasButtonText:!0,position:"alwaysLeftBottom",simpleActionButton:!1}]]),fg=gr({actionButtonParameters:void 0,progress:0,clickThrough:Zo.a,experimentState:sa(pg,!1)}),gg=e=>{let{actionButtonParameters:t,actionButtonAnimationProgress:i,clickThrough:n,slotParameters:r,config:a}=e;const{controlsVariant:o}=a.controlsSettings,{width:s}=Vr(r.size),d=sa(pg,!(s>=Ag)||"banner"===o);return{actionButtonParameters:Vr(t),progress:Vr(i),clickThrough:Sr(e=>{n(e,"SkinActionButton")},[n]),experimentState:d}},bg=()=>wr(fg),yg=na("ACTION_BUTTON_BACKGROUND_COLOR"),_g=na("ACTION_BUTTON_TEXT_COLOR"),Og=e=>{const{width:t="1em",height:i="1em",style:n={}}=e;return $n("svg",{width:t,height:i,style:da({margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},n),viewBox:"14 14 38 38"},$n("g",{"fill-rule":"nonzero",fill:"currentcolor"},$n("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var Tg=i(149),Eg=i.n(Tg);const Sg=e=>{let{children:t}=e;jr(Eg.a);const{experimentState:i}=bg(),n=(()=>{switch(i.shape){case"round":return"2em";case"roundedCorners":return 10;default:return""}})();return $n("div",{className:Tg.locals.ActionButton,style:{backgroundColor:yg||""}},$n("div",{className:Tg.locals.ActionButton__content,style:{color:_g||"",borderRadius:n}},t,i.hasArrow?$n(Og,{style:{width:"2em",height:"2em",padding:"0 0.2em",marginLeft:t?"0.3em":"0px"}}):void 0))},wg=na("ACTION_BUTTON_INFO_BLOCK_TEXT_COLOR");var Cg=i(95),Ig=i.n(Cg);const Pg=e=>{let{title:t,domain:i}=e;jr(Ig.a);const n=Tr(null),r=Tr(null),[a,o]=yr(!1);Or(()=>{o(n.current.clientHeight>r.current.clientHeight)},[t]);const s=$n("div",{ref:r,className:Cg.locals.InfoBlock__titleSpy},t);return $n("div",{className:Xv(Cg.locals.InfoBlock,a&&Cg.locals.InfoBlock_multiline),style:{color:wg||""}},s,$n("div",{ref:n,className:Cg.locals.InfoBlock__title},t),$n("div",{className:Cg.locals.InfoBlock__domain},i))},Ng=()=>$n("div",{style:{padding:"0 6px 0 10px",height:"100%"}},$n(Og,{style:{width:"3em",height:"100%",color:"#eaebeb"}}));var Dg=i(84),Rg=i.n(Dg);const kg=360,Vg=1080,Bg=function(e,t){const i=t.y-e.y,n=t.x-e.x;return t=>e.y+(t-e.x)*i/n}({x:kg,y:.14},{x:Vg,y:.07}),Lg=700,jg=ra([{durationPortion:200/Lg,values:[-42,10]}],Lg),Mg=ra([{durationPortion:500/Lg,value:0},{durationPortion:200/Lg,values:[0,1]}],Lg),xg=ra([{durationPortion:500/Lg,value:0},{durationPortion:200/Lg,values:[0,1]}],Lg),Ug=e=>{jr(Rg.a);const{progress:t}=bg(),{experimentState:i}=bg(),n=ef(),{adaptiveHeight:r,adaptiveWidth:a}=function(e){let{height:t,width:i}=e;const n=xt(Math.min(t,i),kg,Vg),r=n*Bg(n);return{adaptiveHeight:r,adaptiveWidth:280*r/48}}(n),o=hg(),s=o("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),d=o("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:l,domain:c="",onButtonClick:u,buttonLabel:h=d,disableAnimation:p=!1,faviconSrc:A}=e,m=xt(t*Lg,0,Lg),v=p?1:oa({position:m,unit:"number",steps:Mg}),f=p?10:oa({position:m,unit:"number",steps:jg}),g=p?1:oa({position:m,unit:"number",steps:xg}),b=""!==c;return $n("div",{className:Dg.locals.YoutubeLikeActionButton,style:{height:r,maxWidth:a,fontSize:r/4}},$n("div",{className:Dg.locals.YoutubeLikeActionButton__content},$n("div",{className:Dg.locals.YoutubeLikeActionButton__mask,style:{opacity:v,maxWidth:a*g,backgroundColor:rg||"",borderRadius:"roundedCorners"===i.shape?20:""},onClick:u},$n("div",{className:Xv(Dg.locals.YoutubeLikeActionButton__wrapper,(!b||!i.hasFavicon)&&Dg.locals.YoutubeLikeActionButton__wrapper_wide)},$n(Pg,{domain:c,title:Object(ml.a)(l)?l:s}),i.simpleActionButton?$n(Ng,null):$n(Sg,null,i.hasButtonText?h:null))),b?$n("div",{className:Dg.locals.YoutubeLikeActionButton__favicon,style:{left:f+"px"}},A&&i.hasFavicon?$n("img",{src:A,alt:"favicon"}):void 0):null))},Fg=-1,Hg=-1===Up;var Wg=i(138);const zg=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),Gg=(e,t,i,n)=>{Object(hs.a)(t)?(n=Boolean(i),Object(Fl.a)(t,(t,i)=>{ca(e,i,t,n)})):ca(e,t,i,n)},Yg=en(window),qg=Yg.requestAnimationFrame,Kg=Yg.cancelAnimationFrame,Xg=.8,Jg=1.6,Qg=1.2,Zg=50,$g=5,eb=2,tb=100,ib=1.8,nb=3,rb=.3,ab=.1;class ob extends yd.a{constructor(e){super(),this.params=e,ua(this,"blurWrapper",void 0),ua(this,"canvas",void 0),ua(this,"context",void 0),ua(this,"isPlaying",new _d.a(!1)),ua(this,"framesInterval",tb),ua(this,"lastTime",void 0),ua(this,"slowFramesCounter",0),ua(this,"slowDevice",!1),ua(this,"repaintTimeoutId",0),ua(this,"rafId",0),ua(this,"repaint",()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=rb;if(!this.isPlaying.getValue()&&i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const n=wn(this.params.videoNode);if(!n)return void this.setRepaintTimeout();const{clientWidth:r,clientHeight:a}=this.params.container,o=r/a,s=n.width/n.height,d=s-o;this.prepareBlurCanvas(s,d),this.setVisibility(!0);const{context:l}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=eb;l.drawImage(c,0,0,n.width,n.height,0,0,e,e),l.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else l.drawImage(c,0,0,n.width,n.height,0,0,u,h);l.globalAlpha=ab,this.handleSlowDevices(),this.setRepaintTimeout()}),this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),la(this.params.container,this.blurWrapper),this.appendStyles(),this.isPlaying.add(e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))}),this.addDestroyHandler(()=>{this.setPlaying(!1),Object(Ko.a)(this.blurWrapper)})}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[Jg,Math.max(e,Jg)];t&&i.reverse(),this.slowDevice||Gg(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){Gg(this.canvas,{opacity:e})}simplifyBlur(){const e=2*$g,{clientWidth:t,clientHeight:i}=this.params.container;this.setCanvasSize(t+e,i+e);const n="-"+$g+"px";Gg(this.canvas,{left:n,top:n,transform:"",filter:"blur("+$g+"px)",width:100*(1+e/t)+"%",height:100*(1+e/i)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=Si(this.params.videoNode).position;-1===Object(Wg.a)(["fixed","absolute"],t)&&(e["z-index"]="-1"),Gg(this.blurWrapper,e),Gg(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX("+Qg+") scaleY("+Qg+")",filter:"blur("+Zg+"px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout(()=>this.rafId=qg(this.repaint),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),Kg(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>this.framesInterval*ib?(this.slowFramesCounter++,this.slowFramesCounter>=nb&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:n}=this.params,r=t<0,a=r?n.offsetHeight*e:n.offsetWidth/e,o=r?a:n.offsetWidth,s=r?n.offsetHeight:a,d=(r?i.offsetWidth:i.offsetHeight)/a*Xg;this.setCanvasSize(o,s),this.appendBlurScale(d*Xg,r)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}const sb=.1;var db;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(db||(db={}));const lb=(e,t)=>{let i=0;return()=>{const n=Date.now();n-i>=t&&(e(),i=n)}},cb=2,ub=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class hb{constructor(e){var t,i,n;n=void 0,(i="cues")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n;const{cues:r}=pa(e);this.cues=r.sort((e,t)=>e.start-t.start)}findCuesByCurrentTime(e){return Object(Pd.a)(this.cues,t=>this.isCueApplicable(t,e))}isCueApplicable(e,t){const{start:i,end:n}=e;return t>=i&&t<=n}}const pb=e=>{const t=Pi(e,{crossorigin:null,loop:null}),i=Ei(e,{objectFit:""});return Object(vl.a)(()=>{t(),i()})},Ab=15,mb=1e3,vb=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],fb="Fullscreen is not supported";class gb{constructor(e,t){void 0===e&&(e=window),Oa(this,"handlers",[]),Oa(this,"names",void 0),Oa(this,"onDestroy",new Gd.a),Oa(this,"win",void 0),Oa(this,"video",void 0),Oa(this,"fullscreenElement",null),Oa(this,"setFullScreenElementFromAPI",()=>{const e=_a(this.win,this.video);this.setFullscreenElement(e)}),this.win=e,this.video=t,t&&Wp&&(this.onDestroy.addOne(Object(qd.a)({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne(Object(qd.a)({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=ba(e,t),this.names&&(this.onDestroy.addOne(Object(qd.a)({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(fb);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(fb);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(fb);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=Object(Pd.a)(this.handlers,t=>t!==e)}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,Object(ts.a)(this.handlers,t=>t(e))}}class bb{constructor(e){Ta(this,"violatedSources",[]),Ta(this,"unsubscribeEvent",void 0),Ta(this,"securityPolicyViolationCallback",e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:n}=e;if("media-src"!==i)return;const r={blockedURI:t,violatedDirective:i,originalPolicy:n};this.violatedSources.push(r)}),this.unsubscribeEvent=Object(qd.a)({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return Object(Bh.a)(this.violatedSources,t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)})}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const yb=e=>{e.removeAttribute("src"),e.load()},_b=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class Ob extends yd.a{constructor(e){var t,i,n;super(),this.params=e,n=void 0,(i="mediaSource")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.mediaSource=new e.MediaSourceConstructor,Object(qd.a)({element:this.mediaSource,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object($o.a)("MSEController: got an error inside of mediaSource");const t=e.error;this.destroy(new Jo.a(t,{code:"MSE_CONTROLLER_MEDIA_SOURCE_ERROR",details:{}}))})}),Object($o.a)("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.addDestroyHandler(()=>{Object($o.a)("MSEController: detach BLOB URL"),yb(this.params.videoSlot)}),this.init().then(()=>{Object($o.a)("MSEController: MSE successfully attached"),Qo.c.event({name:"MSEControllerAttachSuccess",data:{},probability:Xo.a})}).catch(e=>{Object($o.a)("MSEController: init error"),Qo.c.error({error:new Jo.a(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})})}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler(()=>{if(e.signal.aborted)return Object($o.a)("MSEController#reader: abort controller was already aborted"),void Qo.c.error({error:new Jo.a({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});Object($o.a)("MSEController#reader: abort controller"),e.abort()});const t=await fetch(this.params.src,{signal:e.signal});if(!t.body)throw new Jo.a({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler(()=>{Object($o.a)("MSEController#reader: cancel reader"),Kr(i.cancel())}),Object($o.a)("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise(e=>Object(qd.a)({element:this.mediaSource,eventName:"sourceopen",listener:e}));const e=this.mediaSource.addSourceBuffer($h);return Object(qd.a)({element:e,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object($o.a)("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new Jo.a(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))})}),this.addDestroyHandler(()=>{"open"===this.mediaSource.readyState&&(Object($o.a)("MSEController#abort source buffer"),e.abort())}),Object($o.a)("MSEController: got source buffer"),e}async doReadCycle(e,t){Object($o.a)("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+_b);let i=await e.read(),n=new Uint8Array;do{for(;t.updating;)await new Promise(e=>Object(qd.a)({element:t,eventName:"updateend",listener:e}));if(!i.value)break;if(this.isDestroyed)return;if(_b){const e=new Uint8Array(n.length+i.value.length);e.set(n),e.set(i.value,n.length),n=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise(e=>Object(qd.a)({element:t,eventName:"updateend",listener:e}));i=await e.read()}while(i.value);for(_b&&(Object($o.a)("MSEController: buffer read complete, length=["+n.length+"]"),t.appendBuffer(n));t.updating;)await new Promise(e=>Object(qd.a)({element:t,eventName:"updateend",listener:e}));Object($o.a)("MSEController: read cycle complete")}async finalize(e){for(Object($o.a)("MSEController#close streams");e.updating;)await new Promise(t=>Object(qd.a)({element:e,eventName:"updateend",listener:t}));"open"===this.mediaSource.readyState?(Object($o.a)("MSEController#finalize: close stream"),this.mediaSource.endOfStream()):Object($o.a)("MSEController#finalize: media source is closed")}}const Tb=e=>{if(!gp||!dp)throw new Jo.a({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new Ob(Ea({},e,{MediaSourceConstructor:dp}))},Eb=e=>"canPlayMseForAbd"===Jt(e).mseAvailability,Sb=50,wb=2;class Cb{constructor(e,t){this.video=e,this.onSeekRestore=t,Sa(this,"unsubscribeVideoTimeupdate",void 0),Sa(this,"lastLegalCurrentTime",void 0),Sa(this,"lastTimestamp",void 0),Sa(this,"seekAllowed",!0),Sa(this,"onVideoTimeUpdate",()=>{const{currentTime:e}=this.video;this.isSeekingIllegal()?(this.video.currentTime=this.lastLegalCurrentTime,this.onSeekRestore()):(this.lastLegalCurrentTime=e,this.lastTimestamp=Date.now())}),this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=Object(qd.a)({element:e,eventName:"timeupdate",listener:this.onVideoTimeUpdate})}setSeekAllowed(e){this.seekAllowed=e}isSeekingIllegal(){return!this.seekAllowed&&this.isSeekingVideo()}destroy(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()}isSeekingVideo(){if(!this.lastLegalCurrentTime)return!1;const e=Date.now()-this.lastTimestamp;if(e<Sb)return!1;const{currentTime:t,playbackRate:i}=this.video;return(t-this.lastLegalCurrentTime)/(e/1e3)>(i||1)*wb}}const Ib=1,Pb=Math.ceil(2/(250/rh)),Nb=500,Db=1e3,Rb=.25,kb=1e3,Vb=1e3,Bb=.1,Lb=lp.a;class jb extends yd.a{constructor(e){super(),this.videoNode=e,wa(this,"onClick",new Gd.a),wa(this,"currentPosition",new _d.a({currentTime:0,duration:0},An)),wa(this,"playingState",new _d.a(this.videoNode.paused?mA.PAUSE:mA.PLAY)),wa(this,"onError",new Gd.a),wa(this,"onEnd",new Gd.a),wa(this,"onVolumeChange",new Gd.a),wa(this,"onPlay",new Gd.a),wa(this,"onPlayAfterPause",new Gd.a),wa(this,"onBufferingAfterPlay",new Gd.a),wa(this,"isBuffering",new _d.a(!1)),wa(this,"onPlaying",new Gd.a),wa(this,"fullscreenApi",void 0),wa(this,"onSeekRestore",new Gd.a),wa(this,"pauseRequest",new _d.a(-1)),wa(this,"seekController",void 0),wa(this,"cspErrorHandler",void 0),wa(this,"activeMSEController",void 0),wa(this,"win",void 0),this.seekController=new Cb(e,()=>this.onSeekRestore.dispatch(void 0)),this.win=on(e)?e.ownerDocument.defaultView:window,this.fullscreenApi=new gb(this.win,e),this.cspErrorHandler=new bb(this.win);let t=this.playingState.getValue();this.playingState.add(e=>{const{currentTime:i,duration:n,paused:r,ended:a}=this.videoNode;switch(Object($o.a)("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:t,nextPlayingState:e,currentTime:i,duration:n,paused:r,ended:a})+"]"),e){case mA.PLAY:"pause"===t&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case mA.END:this.onEnd.dispatch(void 0);break;case mA.BUFFERING:"play"===t&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch(e===mA.BUFFERING),t=e});const i={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new Jo.a({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&Qo.c.error({error:e})};let n=t();if(!n){n=this.getVideoNodeError();const{promise:e,clear:t}=Object(kd.a)(kb);this.addDestroyHandler(()=>{t(),i()}),e.then(i).catch(md.a)}this.onError.dispatch(n)},play:()=>{this.playingState.dispatch(mA.PLAY)},playing:()=>{this.currentPosition.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration()}),this.onPlaying.dispatch(void 0),this.playingState.dispatch(mA.PLAY)}};this.subscribeClick(),this.subscribeTimeupdate(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange();for(const n in i)i.hasOwnProperty(n)&&e.addEventListener(n,i[n]);this.addDestroyHandler(()=>{for(const t in i)i.hasOwnProperty(t)&&e.removeEventListener(t,i[t]);this.fullscreenApi.destroy(),this.seekController.destroy(),this.cspErrorHandler.destroy(),this.onSeekRestore.removeAll()})}play(){Object($o.a)("VideoNodeController.play");const e=this.videoNode.play();fd(e)&&e.catch(e=>{this.shouldIgnorePlayRejection(e)||Qo.c.error({error:new Jo.a(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})})}pause(){Object($o.a)("VideoNodeController.pause"),this.pauseRequest.dispatch(Date.now()),this.videoNode.pause()}setSrc(e){const{url:t}=e,{videoNode:i}=this;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const n=Eb(e);Object($o.a)("VideoNodeController.setSrc playWithMSE=["+n+"] url=["+t+"]"),Bi(i,()=>{if(!n)return i.src=t,void i.load();const e=Tb({src:t,videoSlot:i});this.activeMSEController=e,e.addDestroyHandler(this.ignoreAfterDestroy(e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)})),this.addDestroyHandler(()=>{e.destroy(void 0)})})}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentTime(){return function(e){const t=e.currentTime||0;return Math.max(0,t)}(this.videoNode)}getDuration(){return function(e){const t=e.duration||0;return Math.max(0,t)}(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return _a(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){Bi(e,()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:Mf;e.volume=t}})}(this.videoNode,e)}getVolume(){return(e=this.videoNode).muted?0:e.volume;var e}setVolume(e){!function(e,t){Bi(e,()=>{e.volume=t,e.muted=0===t})}(this.videoNode,e)}setSeekAllowed(e){this.seekController.setSeekAllowed(e)}getVideoNodeError(){const{videoNode:e}=this,{src:t,currentSrc:i,currentTime:n,duration:r,error:a}=e,o=a&&a.code,s={code:o,message:a&&a.message||"",src:t,currentSrc:i,currentTime:n,duration:r};if(!a||"undefined"===typeof MediaError)return new Jo.a({code:"VIDEO_ERROR",details:s});switch(o){case MediaError.MEDIA_ERR_ABORTED:return new Jo.a({code:"MEDIA_ERR_ABORTED",details:s});case MediaError.MEDIA_ERR_NETWORK:return new Jo.a({code:"MEDIA_ERR_NETWORK",details:s});case MediaError.MEDIA_ERR_DECODE:return new Jo.a({code:n>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:s});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return new Jo.a({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:s});default:return new Jo.a({code:"MEDIA_ERROR_UNRECOGNIZED",details:s})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=Hp>=11?ga(this.videoNode,e):Object(qd.a)({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeTimeupdate(){let e=0;const t=()=>{this.seekController.isSeekingIllegal()||(e=Date.now(),this.currentPosition.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration()}))},i=Object(qd.a)({element:this.videoNode,eventName:"timeupdate",listener:t,options:{passive:!0}}),n=oi(()=>{const i=Date.now()-e;this.playingState.getValue()===mA.PLAY&&i>Nb&&(Object($o.a)("dispatch synthetic timeupdate event for currentTime=["+this.videoNode.currentTime+"] duration=["+this.videoNode.duration+"] ended=["+this.videoNode.ended+"]"),t())});this.addDestroyHandler(i),this.addDestroyHandler(n)}subscribePause(){const{videoNode:e}=this,t=Object(qd.a)({element:e,eventName:"pause",listener:()=>{this.getCurrentTime()>=this.getDuration()||this.playingState.dispatch(mA.PAUSE)},options:{passive:!0}}),i=oi(()=>{const{paused:t,ended:i}=e;if(this.playingState.getValue()===mA.PLAY&&t&&!i){const{currentTime:t,duration:i}=e;Object($o.a)("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),Qo.c.event({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch(mA.PAUSE)}});this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Object(qd.a)({element:this.videoNode,eventName:"ended",listener:()=>{this.seekController.isSeekingIllegal()||(this.getCurrentTime()+Rb>=this.getDuration()?this.playingState.dispatch(mA.END):Object($o.a)("video ended ignored with currentTime=["+this.getCurrentTime()+"] duration=["+this.getDuration()+"]"))},options:{passive:!0}});let t=0,i=NaN;const n=oi(()=>{const e=this.getDuration(),n=this.getCurrentTime(),{paused:r}=this.videoNode,a=this.playingState.getValue();if(e>0&&n>=e)return void(a!==mA.END&&(Qo.c.event({name:"DetectVideoEndByCurrentTime",data:void 0}),this.playingState.dispatch(mA.END)));const o=!r&&e>0&&n===i&&e-n<Ib&&this.playingState.getValue()===mA.PLAY;i=n,o?t>=Pb?(t=0,a!==mA.END&&(Qo.c.event({name:"DetectVideoEndByStalledOffset",data:void 0}),this.playingState.dispatch(mA.END))):t++:t=0});this.addDestroyHandler(e),this.addDestroyHandler(n)}subscribeBuffering(){let e=Zo.a;const t=om(this.videoNode,t=>{const i=t?mA.BUFFERING:this.videoNode.paused?mA.PAUSE:mA.PLAY;if(e(),this.playingState.dispatch(i),t&&Lb){const{clear:t,promise:i}=Object(kd.a)(Vb);e=t,this.addDestroyHandler(t),i.then(()=>{if("buffering"!==this.playingState.getValue())return;const e=this.getCurrentTime()+Bb;this.setCurrentTime(e);const{currentSrc:t,src:i}=this.videoNode;Qo.c.event({name:"RecoverSafariPlayingHangup",data:{currentSrc:t,src:i,currentTime:this.getCurrentTime(),duration:this.getDuration()}})}).catch(md.a)}});this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Object(qd.a)({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}shouldIgnorePlayRejection(e){if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=Db}}const Mb=e=>{if(!function(e){if(!Nt(e))return!1;const{adParametersObject:t,adParameters:i}=e;if(!Object(hs.a)(t))return!1;const{parsed:{animationMediaFile:n}}=Tt(i);return!!n&&n.url===ru.ThemeEmpty}(e))return;const{adParametersObject:t}=e;return Object(hs.a)(t)?{parsedParameters:LA(t),adParametersObject:t}:void 0},xb=["left-bottom","right-bottom"],Ub=["left-bottom","right-bottom","left-center","right-center"],Fb=140,Hb=e=>!1!==e.abuse,Wb={isCloseAvailable:!1,isCloseDialogActive:!1},zb=(e,t,i,n)=>{const r=e[t];let a=r;return i?a=Object(Pd.a)(r,e=>e!==n):i||Object(Hd.a)(r,n)||(a=[...r]).push(n),Na({},e,{[t]:a})};let Gb=0;const Yb=100;class qb{enableRetainLastMediaAfterPlayback(){this.retainLastMediaAfterPlayback=!0}disableCreativePackshot(){this.config.packshotSettings={isEnabled:!1}}constructor(e){let{config:t,videoNode:i,videoWrapperNode:n,renderSkin:r,backgroundSlot:a,visibilitySlotParameters:o}=e;Ra(this,"videoContentSize",void 0),Ra(this,"videoSlotSize",void 0),Ra(this,"slotDocument",void 0),Ra(this,"slotWindow",void 0),Ra(this,"slotParameters",void 0),Ra(this,"visibilitySlotParameters",void 0),Ra(this,"onReady",new Gd.a),Ra(this,"onBeforeDestroy",new Gd.a),Ra(this,"onDestroy",new Gd.a),Ra(this,"onBeforeAdStart",new Gd.a),Ra(this,"onAdStart",new Gd.a),Ra(this,"adSlowStart",new _d.a(!1)),Ra(this,"onAdMediaStart",new Gd.a),Ra(this,"onAdMediaEnd",new Gd.a),Ra(this,"onAdEnd",new Gd.a),Ra(this,"onAdSkipped",new Gd.a),Ra(this,"onClickThrough",new Gd.a),Ra(this,"isFinished",void 0),Ra(this,"config",void 0),Ra(this,"videoNodeController",void 0),Ra(this,"videoNode",void 0),Ra(this,"desiredBitrate",void 0),Ra(this,"autoplayAbilitySignal",new _d.a(Da({},uA))),Ra(this,"onAdStartRejected",new Gd.a),Ra(this,"adContentSize",new _d.a(void 0,An)),Ra(this,"onAdStop",new Gd.a),Ra(this,"onAdStartRequest",new Gd.a),Ra(this,"onAdPodPlayAdMedia",new Gd.a),Ra(this,"onAdPodStartRequest",new Gd.a),Ra(this,"onAdPodStart",new Gd.a),Ra(this,"onAdPodImpression",new Gd.a),Ra(this,"onAdPodFirstQuartile",new Gd.a),Ra(this,"onAdPodMidpoint",new Gd.a),Ra(this,"onAdPodThirdQuartile",new Gd.a),Ra(this,"onAdPodPause",new Gd.a),Ra(this,"onAdPodResume",new Gd.a),Ra(this,"onAdPodError",new Gd.a),Ra(this,"onAdPodComplete",new Gd.a),Ra(this,"onAdPodClose",new Gd.a),Ra(this,"onAdInteraction",new Gd.a),Ra(this,"adMediaState",new _d.a({name:"idle"},An)),Ra(this,"isPackshotPlaying",new _d.a(!1)),Ra(this,"actionButtonParameters",new _d.a(void 0,An)),Ra(this,"actionButtonAnimationProgress",new _d.a(0)),Ra(this,"abuseParameters",new _d.a(TA,An)),Ra(this,"adVolume",new _d.a(vs)),Ra(this,"adPodDuration",new _d.a(um)),Ra(this,"adHasBeenUnmuted",new _d.a(!1)),Ra(this,"adVolumeAvailability",new _d.a($f)),Ra(this,"adPodRemainingTime",new _d.a(wm)),Ra(this,"skinAnimationProgress",new _d.a(0)),Ra(this,"timeToSkip",new _d.a(Fg)),Ra(this,"adSkippableState",new _d.a(Cm)),Ra(this,"wasAbuseClosedByClickOutsideVisibility",new _d.a(!1)),Ra(this,"playingState",new _d.a("idle",(e,t)=>"idle"===t?(Qo.c.error({error:new Jo.a({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),Ra(this,"adPodCloseState",new _d.a(Wb,An)),Ra(this,"adTuneState",new _d.a(SA,An)),Ra(this,"combinedSkinControlsVisibility",new _d.a({},An)),Ra(this,"adSystemType",new _d.a(void 0)),Ra(this,"socialAdvertising",new _d.a(!1)),Ra(this,"abuseScreenStatus",new _d.a("hidden")),Ra(this,"pauseByOpenAbuseScreen",new _d.a(!1)),Ra(this,"adPodsCount",new _d.a(0)),Ra(this,"playingAdPodIndex",new _d.a(0)),Ra(this,"adPodCurrentSubtitles",new _d.a([])),Ra(this,"skinContainer",void 0),Ra(this,"retainLastMediaAfterPlayback",!1),Ra(this,"renderSkin",void 0),Ra(this,"skinControlsHideReasons",new _d.a(Object(wl.a)(Object(is.a)(Zl,e=>[e,[]])))),Ra(this,"publicApiControlsSettings",new _d.a({controlsVisibility:{}})),Ra(this,"isNonLinearAdPlaying",new _d.a(!1)),Ra(this,"isCreativeWithOwnControls",new _d.a(!1)),Ra(this,"vastAdControlsSettings",new _d.a(void 0)),Ra(this,"shouldHandleResize",!0),Ra(this,"emitAdEnd",void 0),Ra(this,"viewersList",[]),Ra(this,"currentViewer",void 0),Ra(this,"nativeControlsHideStyle",void 0),Ra(this,"adType",void 0),Ra(this,"showAdCounter",0),Ra(this,"shouldBlurBeVisibleByApiLogic",new _d.a(!0)),Ra(this,"adPodBackground",new _d.a(void 0)),Ra(this,"adPodDestroyReasonObjects",[]),Ra(this,"destroyBlur",Zo.a),Ra(this,"adVideoIsBuffering",new _d.a(!1)),Ra(this,"onAdInteractionWrapper",lb(()=>{this.onAdInteraction.dispatch(void 0)},Zf)),Ra(this,"isFakeVideoElementWithoutVolumeChangeSupport",void 0),Ra(this,"prepareSkin",Object(vl.a)(()=>{const e=this.skinContainer;T(e,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",pointerEvents:"none",fontSize:"16px"});const t=zr(e);t||Qo.c.event({name:"CouldNotCreateSkinShadowRoot",data:void 0});const{firstRenderPromise:i,runtimeErrorPromise:n,clear:r}=this.renderSkin(null!==t&&void 0!==t?t:e,this);i.catch(e=>{Qo.c.error({error:new Jo.a(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)}),n.catch(e=>{Qo.c.error({error:new Jo.a(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)}),this.onDestroy.add(()=>{r(),Object(Ko.a)(e)})})),Ra(this,"backgroundSlot",void 0),Ra(this,"openAdSystemWebsite",()=>{const e=this.socialAdvertising.getValue(),t=e?tg:Id("YANDEX_DIRECT_LINK",this.config.lang),i=!this.getPaused(),n=Date.now();if(Qo.c.event({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e}}),i&&this.pause(),null===window.open(t,"_blank"))return;const r=mn(window.document,a=>{a&&(Qo.c.event({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-n,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e}}),r(),i&&this.resume())});this.onDestroy.add(r)}),Ra(this,"clickThrough",(e,t)=>{this.currentViewer?(Qo.c.event({name:"AdDisplayControllerClickThrough",data:{source:t,playbackParameters:this.config},probability:Xo.a}),this.currentViewer.userInteractionDispatchers.AdClickThru(e),this.currentViewer.clickThrough(e)):Qo.c.error({error:new Jo.a({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{source:t,playbackParameters:this.config}})})}),Ra(this,"destroyCurrentViewer",()=>{this.currentViewer&&(this.currentViewer.destroy({reason:"close",details:void 0}),this.closeAbuseScreen())}),Ra(this,"abuseVariantChooseHandler",(e,t)=>{if(!this.currentViewer)return void Qo.c.error({error:new Jo.a({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});const{reason:i,action:n}=fA?OA[e]:EA[e];this.sendAdTuneTracking({actionId:n,reasonId:i,options:t}),Qo.c.event({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:Xo.b}),(null===t||void 0===t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()}),Ra(this,"getSendBeaconParams",e=>{const t=null===e||void 0===e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})}),Ra(this,"abuseButtonClickHandler",()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),Qo.c.event({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:Xo.b}),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseScreenStatus.dispatch("selection"),fA&&this.sendAdTuneTracking({actionId:gA.open.action,reasonId:gA.open.reason})}),Ra(this,"abuseScreenCloseHandler",()=>{Qo.c.event({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:Xo.b}),this.closeAbuseScreen(),fA&&this.sendAdTuneTracking({actionId:gA.close.action,reasonId:gA.close.reason})}),Ra(this,"handleAbuseScreenCloseByResumeError",()=>{Qo.c.error({error:new Jo.a({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseScreenStatus.dispatch("hidden")}),Ra(this,"getCurrentViewerAssets",()=>{const e=this.currentViewer;if(!e)return void Qo.c.event({name:"GetCurrentViewerAssetsCalledWithoutViewer",data:void 0,probability:Xo.b});const{adParametersObject:t}=e.mediaAd.vastAd,i=t?LA(t):void 0;if(!i)return Qo.c.event({name:"GetCurrentViewerAssetsReturnedEmpty",data:void 0,probability:Xo.b}),{logo:void 0,domain:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0};const n=null===i||void 0===i?void 0:i.assets,r=null===n||void 0===n?void 0:n.button,{abuseUrl:a}=this.abuseParameters.getValue(),o={logo:null===n||void 0===n?void 0:n.logo,domain:null===i||void 0===i?void 0:i.domain,punyDomain:null===i||void 0===i?void 0:i.punyDomain,title:null===i||void 0===i?void 0:i.title,body:null===i||void 0===i?void 0:i.body,age:null===i||void 0===i?void 0:i.ageRestriction,buttonCaption:null===r||void 0===r?void 0:r.caption,lang:this.config.lang,targetUrl:null===i||void 0===i?void 0:i.targetUrl,socialAdvertising:this.socialAdvertising.getValue(),sendAdTuneTracking:a?e=>{Qo.c.event({name:"GetCurrentViewerAssetsAdTuneTracking",data:void 0,probability:Xo.b}),this.sendAdTuneTracking(e)}:void 0,clickThrough:e.isClickable()?()=>{Qo.c.event({name:"GetCurrentViewerAssetsClickThrough",data:void 0,probability:Xo.b}),e.clickThrough()}:void 0,clickThroughButtonAsset:r?()=>{Qo.c.event({name:"GetCurrentViewerAssetsClickThroughButtonAsset",data:void 0,probability:Xo.b}),e.clickThrough({id:r.key,url:r.href})}:void 0};return Qo.c.event({name:"GetCurrentViewerAssetsReturnAssets",data:o,probability:Xo.b}),o}),Ra(this,"subscribeInteractionHandlers",()=>{if(!xp(this.slotParameters.element))return Zo.a;const e=[],t=on(this.videoNode);return Object(ts.a)(Lf,i=>{e.push(Object(qd.a)({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(Object(qd.a)({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))}),()=>ni(e)}),this.onDestroy.add(this.onBeforeDestroy),this.backgroundSlot=a,this.visibilitySlotParameters=o,Hr(window)&&kf(),Wr(window)&&Rf(window);const s=void 0===i.volume||void 0===i.muted;s&&Qo.c.error({error:new Jo.a({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:d,errors:c}=ia(t);this.config=d,this.isFakeVideoElementWithoutVolumeChangeSupport=s;const u=new zm(n),h=u.onResize;if(h.add(e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)}),this.onDestroy.add(()=>{u.destroy()}),this.slotParameters={element:n,size:h},this.slotDocument=this.slotParameters.element.ownerDocument,this.slotWindow=this.slotDocument.defaultView,this.skinContainer=this.slotDocument.createElement("div"),this.renderSkin=r,this.onDestroy.add(ig(n,()=>{this.destroy(new Jo.a({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0}))})),this.videoContentSize=new _d.a(void 0,An),this.videoContentSize.add(e=>{Object($o.a)("videoContentSize changed to "+JSON.stringify(e))}),this.onAdStart.addOne(()=>{this.onDestroy.add(fa(i,e=>{this.videoContentSize.dispatch(e)})),this.videoContentSize.dispatch(wn(i))}),on(i)){const e=new zm(i);this.onDestroy.add(()=>e.destroy()),this.videoSlotSize=e.onResize}else this.videoSlotSize=this.slotParameters.size;ne(c),this.videoNode=i,this.timeToSkip.add(e=>{this.adSkippableState.dispatch(0===e)});const p=this.adVolume.add(e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),p())});this.onAdPodPlayAdMedia.add(e=>{const{abuseUrl:t}=e.mediaAd.vastAd;this.abuseParameters.dispatch({abuseUrl:t})}),++Gb===Yb&&Qo.c.error({error:new Jo.a({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),Qo.c.event({name:"CreateAdDisplayController",probability:Xo.a,data:{config:this.config}}),this.desiredBitrate=t.desiredBitrate,this.videoNodeController=new jb(i),this.onAdEnd.add(()=>this.setVisibleNativeControls(!0)),this.onReady.add(()=>this.setVisibleNativeControls(!1));const A=this.config.controlsSettings;this.onDestroy.add(function(e,t){let{isFakeVideoElementWithoutVolumeChangeSupport:i,playingState:n,showGuiForVpaid:r,controlsSettingsFromConfig:a,slotSize:o,isNonLinearAdPlaying:s,skinControlsHideReasons:d,isCreativeWithOwnControls:l,vastAdControlsSettings:c,publicApiControlsSettings:u}=e,h={};return an([n,o,s,d,l,c,u],(e,t,n,o,s,d,l)=>{let{width:c}=t;if(!("idle"!==e)||!(c>=Fb)||s&&!r||n)return $l;const u={controlsVisibility:y(o,e=>!(e.length>0)&&void 0)};return Yi(d,a,l,u,i?{controlsVisibility:{mute:!1}}:void 0).controlsVisibility},re(e=>{t(h=e)},e=>{for(const i of Zl)if(e[i]!==h[i])return void t(h=e)}))}({isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,showGuiForVpaid:this.config.showGuiForVpaid,controlsSettingsFromConfig:A,slotSize:this.slotParameters.size,isNonLinearAdPlaying:this.isNonLinearAdPlaying,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,publicApiControlsSettings:this.publicApiControlsSettings},e=>{this.combinedSkinControlsVisibility.dispatch(e)})),this.onAdPodPlayAdMedia.add(e=>{const{mediaAd:t}=e;this.isCreativeWithOwnControls.dispatch(t.isCreativeWithOwnControls()),this.adSystemType.dispatch(t.getIsYandexCreative()?"yandex":"external"),this.socialAdvertising.dispatch(function(e){var t;return!0===(null===(t=e.adParametersObject)||void 0===t?void 0:t.socialAdvertising)}(t.vastAd));const i=Zi(t.vastAd);this.vastAdControlsSettings.dispatch(i),this.actionButtonParameters.dispatch(function(e){const t=Mb(e);if(!Object(hs.a)(t))return;const{adParametersObject:i,parsedParameters:n}=t;if(!Object(hs.a)(i)||!Object(hs.a)(n))return;const r=Hi(i);if(!r)return;const{domain:a,punyDomain:o}=n;return{domain:a,punyDomain:o,clickUrl:r,buttonPlacement:Ca(i),oldButtonStyle:Ia(i),label:qi(i)}}(t.vastAd)),e.playbackPosition.subscribeValueConditionOnce(e=>{let{duration:t,remainingTime:i}=e;return!!l(t)&&(!!l(i)&&t-i>=1)},()=>{const t=new QA({win:window,duration:Lg,callback:e=>{this.actionButtonAnimationProgress.dispatch(e)},onFinish:()=>{t.stop()}});t.start(),e.addDestroyHandler(()=>{t.stop()})}),e.packshotStartLatch.subscribe(()=>{this.isPackshotPlaying.dispatch(!0)})}),this.onAdMediaEnd.add(()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.vastAdControlsSettings.dispatch(void 0),this.actionButtonParameters.dispatch(void 0),this.actionButtonAnimationProgress.dispatch(0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1)}),this.onBeforeAdStart.addOne(()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(Object($o.a)("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout(()=>{const t=Date.now()-e;Object($o.a)("mark slow start, actual passed time=["+t+"]ms"),Qo.c.event({name:"AdSlowStart",probability:Xo.a,data:{actualTime:t}}),this.adSlowStart.dispatch(!0)},eg),this.onAdStart.addOne(()=>{i()}),this.onDestroy.add(()=>{i()})}),this.onAdMediaStart.add(e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)}),this.onAdMediaEnd.add(()=>{this.adPodBackground.dispatch(void 0)}),this.onDestroy.add(()=>{this.isFinished=!0,this.playingState.dispatch("end"),Object(ts.a)(this.viewersList,e=>{e.destroy({reason:"destroy",details:void 0})}),this.viewersList.length=0,this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.timeToSkip.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adVolume.removeAll(),this.currentViewer&&(this.currentViewer.isCreativeStartRequested.getValue()&&(void 0===this.adType&&Qo.c.error({error:new Jo.a({code:"EMPTY_AD_TYPE_WHILE_PLAYING",details:void 0})}),this.onAdMediaEnd.dispatch({adType:this.adType})),this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0),this.videoNodeController.destroy(),Object(Ko.a)(this.nativeControlsHideStyle)}),this.onDestroy.add(an([this.vastAdControlsSettings,this.abuseParameters,this.abuseScreenStatus],Pa,e=>this.adPodCloseState.dispatch(e))),this.adPodCloseState.add(e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})}),this.onAdPodPlayAdMedia.add(e=>{this.adPodCurrentSubtitles.dispatch([]);const t=Qf(e.mediaAd.vastAd);let i;if(t)try{i=new hb(t)}catch(n){Qo.c.event({name:"SubtitleProviderInitializationError",data:{message:n.message},probability:Xo.a})}vA||e.addDestroyHandler(an([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],(e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i}),e=>{let{remainingTime:t,duration:n,isPackshotPlaying:r}=e;const a=Math.max(0,n-t);if(r)this.adPodCurrentSubtitles.dispatch([]);else if(i){const e=i.findCuesByCurrentTime(a);this.adPodCurrentSubtitles.dispatch(e)}}))}),this.prepareSkin()}async prepareToPlayAd(e){this.config.autoplay=!1;const t=this.onReady.promise(),i=this.onAdEnd.promise();this.showAd(e),await Promise.race([t,i.then(()=>{throw new Jo.a({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})})])}showAd(e){var t;const i=Date.now(),n=on(this.videoNode)?Ii(this.videoNode):void 0;if(!1===n){const e=this.slotParameters.element,t=xp(e)?Ii(e):void 0;return Qo.c.error({error:new Jo.a({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:n,wrapperInDom:t}})}),Promise.resolve()}if(!e.mediaAds.length)return Qo.c.error({error:new Jo.a({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.config}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&Qo.c.event({name:"CallShowAdMultipleTimes",probability:Xo.a,data:void 0});const{adBreak:r}=e.getFirstMediaAd(),a=null!==(t=r.adType)&&void 0!==t?t:"preroll";return this.adType=a,this.isFinished=!1,new Promise((t,n)=>{this.slotParameters.element.appendChild(this.skinContainer),this.viewersList=Object(is.a)(e.mediaAds,e=>{e.vastAd.trackingEvents=W(e.vastAd.trackingEvents,this.config.trackingEvents);const t={adDisplayController:this,mediaAd:e,adPodViewerPlaybackParams:function(e){let{playbackParameters:t,secureMode:i,vastAd:n,adBreak:r}=e;const a=Yi(Zi(n),t.controlsSettings),{skipDelay:o,eventName:s}=Xi({vastAd:n,secureMode:i});let d;void 0!==s&&Qo.c.event({name:s,probability:Xo.a,data:void 0}),!0===t.backgroundBlur?d="blur":n.backgroundColor?d={color:n.backgroundColor}:!0===n.backgroundBlur&&!1!==t.backgroundBlur&&(d="blur");const c=!1===t.packshotSettings.isEnabled,u=Object(hs.a)(n.adParametersObject)&&!c?Ki(n.adParametersObject):void 0;let h,p;var A,m;let v;var f,g;let b;var y,_;h=!0===t.showGuiForVpaid||(Boolean(n.imhoParams)||Nt(n)),p="number"===typeof t.bufferFullTimeout?t.bufferFullTimeout:null!==(A=null===(m=n.playbackAdParameters)||void 0===m?void 0:m.bufferFullTimeout)&&void 0!==A?A:r.bufferFullTimeout,v=l(t.bufferEmptyLimit)?t.bufferEmptyLimit:null!==(f=null===(g=n.playbackAdParameters)||void 0===g?void 0:g.bufferEmptyLimit)&&void 0!==f?f:r.bufferEmptyLimit,b=l(t.videoTimeout)?t.videoTimeout:null!==(y=null===(_=n.playbackAdParameters)||void 0===_?void 0:_.videoTimeout)&&void 0!==y?y:r.videoTimeout;const O=l(t.vpaidTimeout)?t.vpaidTimeout:r.vpaidTimeout,T=n.adParametersObject?Hi(n.adParametersObject):void 0,E="string"===typeof t.clickThroughUrl||n.isClickable&&Object(ml.a)(n.clickThrough)||Object(ml.a)(T);return{controlsSettings:a,background:d,showGuiForVpaid:h,skipDelay:"number"===typeof t.skipDelay?t.skipDelay:o,bufferFullTimeout:p,bufferEmptyLimit:v,videoTimeout:b,vpaidTimeout:O,clickThroughUrl:Object(ml.a)(t.clickThroughUrl)?t.clickThroughUrl:Object(ml.a)(n.clickThrough)?n.clickThrough:Object(ml.a)(T)?T:"",isClickable:E,packshotParameters:u}}({playbackParameters:this.config,secureMode:e.adConfig.secureMode,vastAd:e.vastAd,adBreak:e.adBreak})},i="js"===e.contentType?new Jf(t):new Tm(t);return i.adVideoIsBuffering.add(e=>this.adVideoIsBuffering.dispatch(e)),i.onImpression.add(this.onAdPodImpression),i.onFirstQuartile.add(this.onAdPodFirstQuartile),i.onMidpoint.add(this.onAdPodMidpoint),i.onThirdQuartile.add(this.onAdPodThirdQuartile),i.onAdInteraction.add(this.onAdInteractionWrapper),i}),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.isNonLinearAdPlaying.dispatch(this.getIfIsNonLinear()),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:a}),this.onAdPodStart.addOne(()=>{Qo.c.values({name:"AdStarted",probability:Xo.a,data:{config:this.config},labels:{},values:{startTime:Date.now()-i}})}),this.startAdPlayback(a).then(()=>t()).catch(e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:a}),n(e)}),this.onDestroy.add(this.subscribeInteractionHandlers())}).catch(e=>{Qo.c.errorToStats(e)}).then(()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:a}),this.destroyBlur()})}getAdPlacementOptions(e){void 0===e&&(e=this.currentViewer);const{videoNode:t}=this;let i,n,r=0;if(e&&(r=e.getBufferingTime()),e&&(i=e.mediaAd.adBreak.adType),e){const t=e.mediaAd.getMediaFiles();t.length>0&&(n=function(e,t){let{type:i,url:n}=e,{vastAd:r}=t;if("js"!==St({type:i}))return"video";if(!a(n))return"external";try{const{adFormatType:e}=Me(r.adParameters);return e}catch(o){return"external"}}(t[0],{vastAd:e.mediaAd.vastAd}))}return Cn({win:this.slotWindow,slotSize:this.slotParameters.size.getValue(),videoSlotSize:this.videoSlotSize.getValue(),slotVisibilityRatio:this.visibilitySlotParameters.visibilityRatio.getValue(),videoNode:t,bufferingTime:r,adBreakType:i,adFormatType:n})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var n;void 0===i&&(i=Cp.NORMAL),null===(n=this.currentViewer)||void 0===n||n.resizeAd(e,t,i)}async play(e){void 0===e&&(e=!0);const{currentViewer:t,config:i}=this;return e&&(i.autoplay=!0),t?(t.play(e),new Promise((e,i)=>{t.addDestroyHandler(t=>{const n=$i(t);n?i(n):e()})})):Promise.reject(new Error("AdSDK Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}close(){this.destroyNextViewers("close")}skipAllViewers(){this.skipCurrentViewer(),this.destroyNextViewers("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void Qo.c.error({error:new Jo.a({code:"SKIP_NOT_PLAYING_AD_POD",details:{isFinished:this.isFinished}})});this.currentViewer.getAdSkippableState()?this.currentViewer.skipAd():Qo.c.error({error:new Jo.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD_POD",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:n}=e;const{abuseUrl:r}=this.abuseParameters.getValue();r||Qo.c.error({error:new Jo.a({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})}),mt({eventName:"close",trackingEventDetails:void 0,trackingUrls:[Object(rs.b)(r,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(n)})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdWidth())&&void 0!==e?e:em}getAdHeight(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdHeight())&&void 0!==e?e:$A}trackEvent(e,t){var i;null===(i=this.currentViewer)||void 0===i||i.trackEvent(e,t)}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}usesVideoNode(){if(this.currentViewer)return!this.currentViewer.mediaAd.getIsIndependentOnVideoElement()}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!==(e=null===t||void 0===t?void 0:t.mediaAd.getDuration())&&void 0!==e?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return Object(ts.a)(this.viewersList,t=>{const i=t.getDuration();i>0&&(e+=i)}),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.slotParameters.element.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}destroy(e){this.onDestroy.dispatch(e),this.onDestroy.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll()}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(zb(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!Object(hs.a)(e)&&!1!==e&&void 0!==e){const t=new Jo.a({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw Qo.c.error({error:t}),Object(th.a)("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsSettings.getValue();let i;i=Object(hs.a)(e)?Da({},t,{controlsVisibility:Da({},t.controlsVisibility,e)}):Da({},t,{visibility:e}),Qo.c.event({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i},probability:Xo.a}),Object($o.a)("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsSettings.dispatch(i)}areAllAdPodsCompleted(){return fc(this.adPodDestroyReasonObjects,e=>{let{reason:t}=e;return"complete"===t})}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}getAutoplay(){if(this.getCurrentViewerIndex()>0)return Object($o.a)("autoplay=true due to subsequent viewer"),!0;if(this.autoplayAbilitySignal.getValue().requireUserGesture)return Object($o.a)("autoplay=false due to requireUserGesture"),!1;const{autoplay:e}=this.config;if(void 0!==e)return Object($o.a)("autoplay=["+e+"] due to config"),e;const t=this.playingState.getValue();if("idle"!==t){const e="pause"!==t;return Object($o.a)("autoplay=["+e+"] due to playingStateValue"),e}return Object($o.a)("autoplay=true due to default"),!0}setVisibleNativeControls(e){this.getIfIsNonLinear()||(e?Object(Ko.a)(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=Br(this.slotParameters.element,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle)))}closeAbuseScreen(){this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==this.adType&&this.resume(),this.abuseScreenStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}initBackgroundColor(e){let t=Zo.a;this.onDestroy.add(()=>t()),this.onDestroy.add(this.adPodBackground.add(i=>{Object(hs.a)(i)&&Object(ml.a)(i.color)?t=Ei(e,{backgroundColor:i.color}):t()}))}initBackground(e){let{backgroundSlot:t}=this.config;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!on(e))return;const{parentElement:t}=e;if(t)return t;Qo.c.error({error:new Jo.a({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void Object($o.a)("BackgroundBlur container cannot be created");if(this.initBackgroundColor(t),!os(e,e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background}))return;if(Object($o.a)("BackgroundBlur is presented in AdBreak"),!Hg)return void Object($o.a)("BackgroundBlur is NOT supported");const n=new ob({container:t,videoNode:this.videoNode});this.destroyBlur=()=>{n.destroy()},Qo.c.event({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i},probability:Xo.a}),this.onDestroy.add(an([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotParameters.size],(e,t,n,r)=>{if(!e)return!1;if(void 0===n)return!1;if("blur"!==t)return!1;if(i)return!0;const a=r.width/r.height,o=n.width/n.height-a;return Math.abs(o)>sb},e=>{n.setPlaying(e)})),this.onDestroy.add(()=>{null===n||void 0===n||n.destroy()})}playAdMedia(e,t){this.currentViewer=e,this.onAdPodStartRequest.dispatch(void 0),e.trackEvent("onCreativeInit",void 0);let i=NaN;e.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{i=Date.now()}),this.adContentSize.dispatch(e.mediaAd.getAdContentDimensions()),e.isStarted.addOne(()=>{this.adContentSize.dispatch(e.getAdContentSize())}),e.addDestroyHandler(()=>{this.adContentSize.dispatch(void 0)}),e.isStarted.add(()=>{isNaN(i)?Qo.c.error({error:new Jo.a({code:"AdPodStartWithoutPlayRequest",details:void 0})}):Xo.d&&Qo.c.values({name:"AdPodStart",values:{startTime:Date.now()-i},data:{src:e.getSrc(),config:this.config,playRequestTime:String(i)},labels:{contentType:e.contentType}})}),this.onAdPodPlayAdMedia.dispatch(e);const n=e.playingState.getValue();"idle"!==n&&Qo.c.error({error:new Jo.a({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:n}})}),e.playingState.subscribeValueCondition(e=>"end"!==e,t=>{this.currentViewer===e?this.playingState.dispatch(t):Qo.c.error({error:new Jo.a({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:t}})})});const r=this.getAutoplay();r&&(this.config.autoplay=!0),e.addDestroyHandler(e=>{const i=$i(e);i&&(this.trackError(i),Qo.c.error({error:i}),ci("AdPod playing error",i),this.onAdPodError.dispatch(i)),this.currentViewer=void 0,t(e)}),this.onAdPodComplete.add(()=>{e.isDestroyed||(e.destroy({reason:"destroy",details:void 0}),Qo.c.error({error:new Jo.a({code:"VIEWER_IS_NOT_DESTROYED_AFTER_COMPLETE",details:{src:e.getSrc()}})}))}),e.play(r)}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this,i=on(t);if(!this.getIfIsNonLinear()&&i){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),n={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},r=pb(e),{parentElement:a}=e;return Object(vl.a)(()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),r(),E(e,n),Bi(e,()=>{e.load()}),a&&a!==e.parentElement&&Qo.c.error({error:new Jo.a({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})})}(t);this.onBeforeDestroy.addOne(e);const i=ha(t);this.onBeforeDestroy.addOne(i);const n=function(e){if(!on(e))return Zo.a;const t=e.getAttribute("src")||e.src||null,i=Object(is.a)(Object(Gs.a)(e.getElementsByTagName("source")),e=>({src:e.getAttribute("src"),type:e.getAttribute("type")}));return Object(vl.a)(()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),Object(ts.a)(i,t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),Object(Jl.a)(t,(e,t)=>{i.setAttribute(t,String(e))})}),Bi(e,()=>{e.load()})})}(t);this.onBeforeDestroy.addOne(()=>{this.isLastAdPodRetainedMedia()||n()}),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add(()=>{pb(t)}))}let n;const r=fc(this.viewersList,e=>e.mediaAd.getIsIndependentOnVideoElement()),{videoSlotCanAutoPlay:a}=this.config;this.videoNode;if(r?(Object($o.a)("autoplayAbility=positive for independentOnVideoElement ad"),n=hA):"boolean"===typeof a?(Object($o.a)("autoplayAbility=["+a+"] due to videoSlotCanAutoPlay"),n=a?hA:uA):i?(Object($o.a)("start autoplay ability request"),n=await this.requestAutoplayAbility(),Object($o.a)("autoplayAbility=["+JSON.stringify(n)+"]")):(Object($o.a)("autoplayAbility=positive for fake video element"),n=hA),this.isFinished)throw new Jo.a({code:"AD_FINISHED_DURING_RAA",details:void 0});this.autoplayAbilitySignal.dispatch(n),n.requireUserGesture&&this.onAdStartRejected.dispatch(void 0),n.requireMute&&this.videoNodeController.setMuted(!0);const o=Object(vl.a)(()=>{this.onReady.dispatch(void 0)}),s=Object(vl.a)(()=>{this.onAdStart.dispatch({adType:e})});return Object(ts.a)(this.viewersList,(t,i)=>{t.addDestroyHandler(t=>{let{reason:i}=t;"complete"===i?this.onAdPodComplete.dispatch(void 0):"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)}),t.onReady.addOne(o),t.isStarted.addOne(s),t.isStarted.add(()=>{this.onAdPodStart.dispatch(void 0)}),t.onPause.add(()=>{this.onAdPodPause.dispatch(void 0)}),t.onResume.add(()=>{this.onAdPodResume.dispatch(void 0)}),t.onVolumeChange.add(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration())}),t.addDestroyHandler(function(e){let{win:t,adPodDuration:i,adPodRemainingTime:n,playingState:r,isStarted:a,isBuffering:o,callback:s}=e;const d=new ZA,c=new _d.a(-1);return d.subscribe(()=>c.removeAll),a.addOne(()=>{const e=new QA({win:t,duration:i.getValue()*rh,callback:e=>{const t=xt(e,0,1);s(t)},onFinish:Zo.a});c.add(t=>{Z(t)&&e.adjustPosition(t)}),d.subscribe(()=>{e.stop()}),d.subscribe(an([n,i],(e,t)=>Z(e)&&l(t)?(t-e)/t:-1,e=>{c.dispatch(e)})),d.subscribe(an([c,r,o],(e,t,i)=>Z(e)&&"play"===t&&!i,t=>{t?e.start():e.stop()}))}),()=>{d.dispatch(void 0)}}({win:this.slotDocument.defaultView,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add(()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add(()=>{this.adMediaState.dispatch({name:"stalled"})})),t.addDestroyHandler(this.videoNodeController.playingState.add(e=>{e===mA.PLAY&&this.adMediaState.dispatch({name:"playing"})}))}),t.addDestroyHandler(()=>{this.adMediaState.dispatch({name:"idle"})}),t.addDestroyHandler(()=>{this.adPodRemainingTime.dispatch(wm),this.skinAnimationProgress.dispatch(0)}),t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)}),t.onClickThrough.add(e=>this.onClickThrough.dispatch(e));const{skipDelay:n}=t.adPodViewerPlaybackParams;(function(e){return!e.isVpaidAdPodViewer()||(!!e.adPodViewerPlaybackParams.showGuiForVpaid||(!!e.mediaAd.getIsYandexCreative()||!!ui(e.mediaAd.vastAd)))})(t)?t.isStarted.addOne(()=>{t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;const r=function(e){let{remainingTime:t,duration:i,skipDelay:n}=e;if(0===n)return Fg;if(n>i-cb)return Fg;if(!Z(t))return Fg;const r=i-t;return n<=r?0:n-r}({remainingTime:i,duration:t,skipDelay:n});this.timeToSkip.dispatch(r)})}):t.onAdSkippableStateChange.add(e=>{this.timeToSkip.dispatch(e?0:Fg)})}),new Promise(t=>{this.playAdViewers(e,()=>{t([])})})}playAdViewers(e,t){this.adPodDestroyReasonObjects=[],this.onAdStartRequest.dispatch(void 0);const i=Object(is.a)(this.viewersList,(t,i)=>n=>{if(this.timeToSkip.dispatch(Fg),this.isFinished){const e=new Jo.a({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),n()}const r=this.getAdPodContainerSizeError(t);if(r)return t.mediaAd.trackError(r),this.onAdPodError.dispatch(r),this.adPodDestroyReasonObjects.push({reason:"error",details:r}),Object(th.a)('You are using unplayable "slot" sizes, check passed element dimensions.'),n();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(Ji(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia(t,t=>{this.adPodDestroyReasonObjects.push(t),this.onAdMediaEnd.dispatch({adType:e}),n()})});let n=-1;!function e(){const r=i[++n];void 0!==r?r(e):t()}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const{size:t,element:i}=this.visibilitySlotParameters,n=t.getValue();if(_n(n,im))return;if(_n(i.getBoundingClientRect(),im))return;const r=0===n.width||0===n.height,a="none"===Si(i).display;let o;return o=r?a?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE",new Jo.a({code:o,details:{slotSize:n,config:this.config,adConfig:e.mediaAd.adConfig,usesVisibilitySlot:Boolean(this.visibilitySlotParameters)}})}async requestAutoplayAbility(){const e=Date.now(),{promise:t,stop:i}=function(e,t){let{checkSoundEnabled:i=!0}=void 0===t?{}:t;const n=Mi(e),r=new AA(e,{checkSoundEnabled:i,promise:n});return{promise:r.promise,stop:r.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});return this.onDestroy.add(i),new Promise(n=>{t.then(t=>{Qo.c.values({name:"DetectAutoplayAbility",values:{duration:Date.now()-e},data:{config:this.config,autoplayAbility:t},labels:{},probability:Xo.a}),n(t)}).catch(()=>{this.isFinished||Qo.c.error({error:new Jo.a({code:"RAA_WAS_STOPPED_WITHOUT_AD_FINISH",details:void 0})})}),"idle"===this.playingState.getValue()&&this.playingState.addOne(e=>{Object($o.a)("RAA stopped by playingState=["+e+"]"),i(),n(hA)})})}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;i&&i.destroy({reason:"destroy",details:void 0});for(let n=this.getCurrentViewerIndex()+1;n<t.length;n++){const{mediaAd:i}=t[n];i.trackEvent(e,this.getAdPlacementOptions(t[n]),void 0)}this.stop()}getIfIsNonLinear(){return fc(this.viewersList,e=>e.isNonLinear())}}class Kb extends yd.a{constructor(e){let{videoSlot:t,slot:i,mediaAds:n,playbackParameters:r,onPlayAd:a,renderSkin:o}=e;super(),ka(this,"pauseAd",this.createPlaybackMethod("pauseAd",()=>{this.adDisplayController.pause()})),ka(this,"resumeAd",this.createPlaybackMethod("resumeAd",()=>{this.adDisplayController.resume()})),ka(this,"isPlayAdCalled",!1),ka(this,"adDisplayController",void 0),ka(this,"onAllAdPodComplete",new Gd.a),ka(this,"videoSlot",void 0),ka(this,"slot",void 0),ka(this,"mediaAds",void 0),ka(this,"playbackParameters",void 0),ka(this,"onPlayAd",void 0),ka(this,"lastMediaRetained",!1),ka(this,"getPublicInstance",()=>({playAd:this.playAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,sendAdTuneTracking:this.sendAdTuneTracking,getCurrentViewerAssets:this.getCurrentViewerAssets,setControlsVisibility:this.setControlsVisibility})),ka(this,"getAdMediaState",()=>this.adDisplayController.adMediaState.getValue()),ka(this,"getAdContentSize",()=>this.adDisplayController.adContentSize.getValue()),ka(this,"setControlsVisibility",e=>this.adDisplayController.setPublicApiControlsSettings(e)),ka(this,"getMediaElementStatusAfterAdStopped",()=>{if(this.isDestroyed)return{lastMediaRetained:this.lastMediaRetained}}),ka(this,"playAd",()=>{if(this.isPlayAdCalled){v(new Jo.a({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled=!0,this.onPlayAd(),this.adDisplayController.showAd(this.mediaAds).then(()=>{this.destroy("adComplete")}).catch(md.a)}),ka(this,"stopAd",()=>{this.destroy("stopAd")}),ka(this,"getAdPlayingState",()=>this.isPlayAdCalled?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle"),ka(this,"getAdSkippableState",()=>this.adDisplayController.adSkippableState.getValue()),ka(this,"getAdPodTimeToSkip",()=>!this.isPlayAdCalled||this.isDestroyed?Fg:this.adDisplayController.timeToSkip.getValue()),ka(this,"getAdPodCloseState",()=>this.adDisplayController.adPodCloseState.getValue()),ka(this,"getAdPodAdTuneState",()=>this.adDisplayController.adTuneState.getValue()),ka(this,"getAdVolume",()=>!this.isPlayAdCalled||this.isDestroyed?vs:this.adDisplayController.getVolume()),ka(this,"setAdVolume",e=>{this.isPlayAdCalled&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))}),ka(this,"sendAdTuneTracking",e=>{let{actionId:t,reasonId:i}=e;Qo.c.event({name:"SendAdTuneTracking",data:{actionId:t,reasonId:i},probability:Xo.a}),this.adDisplayController.sendAdTuneTracking({actionId:t,reasonId:i})}),ka(this,"getAdVolumeAvailabilityState",()=>!this.isPlayAdCalled||this.isDestroyed?$f:this.adDisplayController.getAdVolumeAvailability()),ka(this,"getAdRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdRemainingTime():this.getAdDuration()),ka(this,"getAdPodRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration()),ka(this,"getAdDuration",()=>this.isPlayAdCalled?this.adDisplayController.getDuration():this.mediaAds.getDuration()),ka(this,"getAdPodDuration",()=>{var e;if(this.isPlayAdCalled)return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds.mediaAds;return null!==(e=null===t||void 0===t?void 0:t.getDuration())&&void 0!==e?e:0}),ka(this,"skipAd",()=>{this.getAdSkippableState()?this.adDisplayController.skipAllViewers():Qo.c.error({error:new Jo.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD",details:void 0})})}),ka(this,"getCurrentViewerAssets",()=>this.adDisplayController.getCurrentViewerAssets()),ka(this,"subscribe",(e,t)=>{if("function"!==typeof t)return Zo.a;const i=i=>{try{t(i)}catch(n){Qo.c.error({error:new Jo.a({code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),Object(md.a)(n)}},n=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(n);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(n);case"AdStartRequest":return this.adDisplayController.onAdStartRequest.add(n);case"AdStarted":return this.adDisplayController.onAdStart.add(n);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(n);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(n);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(n);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(n);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(n);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(n);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add(()=>{i({})});case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(n);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(n);case"AdClickThru":return this.adDisplayController.onClickThrough.add(n);case"AdPodError":return this.adDisplayController.onAdPodError.add(e=>{let t;"string"===typeof e.code?t=e.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",Qo.c.error({error:new Jo.a({code:t,details:{error:e}})})),i({code:t})});case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(n);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(n);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(n);case"AllAdPodVideoComplete":return this.onAllAdPodComplete.add(n);case"AdStopped":return this.adDisplayController.onDestroy.add(n);case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add(e=>{i({skippableState:e})});case"AdVolumeChange":return this.adDisplayController.adVolume.add(()=>{i({})});case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add(()=>{i({})});case"AdPlayingStateChange":return this.adDisplayController.playingState.add(e=>{i({playingState:e})});case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(n);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(n);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(n);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(n);default:return Zo.a}}),this.videoSlot=t,this.slot=i,this.mediaAds=n,this.playbackParameters=r,this.onPlayAd=a;const s=new zm(i);this.addDestroyHandler(()=>{s.destroy()});const d=new iv(i,{numberOfMeasurementSteps:Bm});this.addDestroyHandler(()=>{d.destroy(void 0)});const l={element:i,size:s.onResize,visibilityRatio:d.totalVisibilityRatioValueSignal};this.adDisplayController=new qb({config:this.playbackParameters,videoNode:this.videoSlot,videoWrapperNode:this.slot,renderSkin:o,visibilitySlotParameters:l}),this.playbackParameters.retainLastMediaAfterPlayback&&this.adDisplayController.enableRetainLastMediaAfterPlayback(),this.adDisplayController.onDestroy.add(()=>{this.adDisplayController.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained=this.adDisplayController.isLastAdPodRetainedMedia()}),this.addDestroyHandler(()=>{this.adDisplayController.destroy()})}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled&&!this.isDestroyed)t();else{v(new Jo.a({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}const Xb=gr({isAbuseSupported:!1,abuseButtonClickHandler:Zo.a,abuseScreenStatus:"hidden",abuseScreenCloseHandler:Zo.a,abuseVariantChooseHandler:Zo.a,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:Zo.a,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:Zo.a,abuseSubmittedOption:void 0,setAbuseSubmittedOption:Zo.a,previousDisplayType:"default",setPreviousDisplayType:Zo.a,destroyCurrentViewer:Zo.a,abuseScaleRate:void 0,setAbuseScaleRate:Zo.a}),Jb=e=>{let{adDisplayController:t}=e;const i=Vr(t.pauseByOpenAbuseScreen),n=Vr(t.abuseScreenStatus),{abuseParameters:r,playingState:a}=t,{abuseUrl:o}=Vr(r),[s,d]=yr(""),[l,c]=yr("default"),[u,h]=yr(void 0),[p,A]=yr("default"),[m,v]=yr(void 0);return _r(()=>{const e=a.subscribeValueCondition(e=>"play"===e,()=>{"hidden"!==n&&t.handleAbuseScreenCloseByResumeError()});return()=>{e()}},[n]),{isAbuseSupported:Boolean(o),abuseButtonClickHandler:t.abuseButtonClickHandler,abuseScreenStatus:n,abuseScreenCloseHandler:t.abuseScreenCloseHandler,abuseVariantChooseHandler:t.abuseVariantChooseHandler,pauseByOpenAbuseScreen:i,destroyCurrentViewer:t.destroyCurrentViewer,abuseCustomReasonText:s,abuseCustomReasonTextHandler:d,abuseActiveDisplayType:l,setAbuseActiveDisplayType:c,abuseSubmittedOption:u,setAbuseSubmittedOption:h,previousDisplayType:p,setPreviousDisplayType:A,abuseScaleRate:m,setAbuseScaleRate:v}},Qb=()=>wr(Xb),Zb=gr({}),$b=e=>{let{adDisplayController:t}=e;return Vr(t.combinedSkinControlsVisibility)},ey=()=>wr(Zb),ty=gr({layoutVariant:"regular"}),iy=e=>{let{adDisplayController:t}=e;const{controlsVariant:i}=t.config.controlsSettings;return{layoutVariant:"banner"===i?"banner":"regular"}},ny=()=>wr(ty);var ry=i(53),ay=i.n(ry);const oy=e=>{let{isActive:t}=e;return jr(ay.a),$n("svg",{className:Xv(ry.locals.AbuseAnimationIcon,{[ry.locals.AbuseAnimationIcon_cross]:t}),width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},$n("g",{className:ry.locals.AbuseAnimationIcon__lines},$n("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:Xv(ry.locals.AbuseAnimationIcon__line,ry.locals.AbuseAnimationIcon__line_left)}),$n("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:Xv(ry.locals.AbuseAnimationIcon__line,ry.locals.AbuseAnimationIcon__line_right)})),$n("g",null,$n("rect",{width:"24",height:"24",rx:"12","fill-opacity":"0.1"}),$n("g",null,$n("circle",{class:Xv(ry.locals.AbuseAnimationIcon__dot,ry.locals.AbuseAnimationIcon__dot_top),fill:"#fff",cx:"12",cy:"6",r:"1.5"}),$n("circle",{class:ry.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),$n("circle",{class:Xv(ry.locals.AbuseAnimationIcon__dot,ry.locals.AbuseAnimationIcon__dot_bottom),fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))},sy=e=>{let{width:t,height:i}=e;return t<=300||i<=300};var dy=i(123),ly=i.n(dy);const cy=e=>{let{size:t,onClickHandler:i,isActive:n}=e;jr(ly.a);const r=sy(ef());return $n("div",{onClick:i,className:Xv(dy.locals.AbuseBurgerButton,{[dy.locals.AbuseBurgerButton_small]:"small"===t,[dy.locals.AbuseBurgerButton_inFullSize]:r})},$n(oy,{isActive:n}))},uy=gr({socialAdvertising:!1}),hy=e=>{let{adDisplayController:t}=e;return{socialAdvertising:Vr(t.socialAdvertising)}},py=()=>wr(uy);var Ay=i(96),my=i.n(Ay);const vy=e=>{let{children:t,isActive:i=!0,url:n,onClick:r,className:a,buttonClassName:o,contentClassName:s}=e;jr(my.a);const d=Xv(Ay.locals.Button,a,{[Ay.locals.Button_active]:i,[Ay.locals.Button_link]:Boolean(n)}),l=$n("div",{className:Ay.locals.Button__clickable},$n("div",{className:o},$n("div",{className:Xv(Ay.locals.Button__content,s)},t)));return n?$n("a",{className:d,href:n,target:"_blank",onClick:r},l):$n("div",{className:d,onClick:r},l)};var fy=i(97),gy=i.n(fy);const by=e=>{let{icon:t,className:i}=e;return t?$n("div",{className:i},t):null},yy=e=>{let{buttonText:t,leftIcon:i,rightIcon:n,onClick:r,url:a}=e;jr(gy.a);const o=Sr(()=>{r&&r()},[r]);return $n(vy,{className:fy.locals.AbuseOptionButton,url:a,buttonClassName:fy.locals.AbuseOptionButton__clickable,contentClassName:fy.locals.AbuseOptionButton__content,onClick:o},$n(by,{icon:i,className:fy.locals.AbuseOptionButton__leftIcon}),t,$n(by,{icon:n,className:fy.locals.AbuseOptionButton__rightIcon}))};var _y=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{d:"M1 1l3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])};const Oy=e=>{let{className:t}=e;return $n(_y,{className:t})};var Ty=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{d:"M4 1h5v5M9 1L1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])};const Ey=e=>{let{className:t}=e;return $n(Ty,{className:t})},Sy=e=>"anotherReasonAd"===e?$n(Oy,null):"about"===e?$n(Ey,null):void 0;var wy=i(31),Cy=i.n(wy);const Iy=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const n=hg();return $n("div",{className:wy.locals.AbuseDisplay__complaintDisplay},$n("div",{className:wy.locals.AbuseDisplay__text},n("ABUSE_IMPROVE_REASON_TEXT")),Object(is.a)(Object(bd.a)(t),e=>$n(yy,{key:e,onClick:i[e],rightIcon:Sy(e),buttonText:t[e]})))};var Py=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.598 5l2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 01-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 01-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 011.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 012.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 01-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 01-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 01.417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 01-.416.399h-.62a.417.417 0 01-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])};const Ny=e=>{let{className:t}=e;return $n(Py,{className:t})};var Dy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{d:"M16.256 15.256a.833.833 0 000-1.179L2.923.744a.833.833 0 10-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 004.171-.9l1.906 1.906a.833.833 0 001.179 0zm-4.357-3.178A8.309 8.309 0 019 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0010.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])};const Ry=e=>{let{className:t}=e;return $n(Dy,{className:t})};var ky=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{d:"M17.334 9A8.333 8.333 0 11.667 9a8.333 8.333 0 0116.667 0zm-1.667 0A6.667 6.667 0 102.334 9a6.667 6.667 0 0013.333 0zm-7.708 3.536c0-.602.457-1.036 1.035-1.036.59 0 1.048.434 1.048 1.036 0 .602-.458 1.047-1.048 1.047a1.023 1.023 0 01-1.035-1.047zm1.229-8.12c-1.798 0-3.146 1.037-3.146 2.71v.02c0 .23.187.417.417.417h.669c.2 0 .362-.163.362-.363 0-.936.724-1.435 1.698-1.435.948 0 1.573.5 1.573 1.21 0 .675-.35.987-1.224 1.386l-.25.113c-.736.324-1.01.811-1.01 1.66v.116c0 .23.186.417.416.417h.615c.23 0 .416-.187.416-.417v-.029c0-.374.1-.524.4-.661l.25-.113c1.048-.474 1.835-1.098 1.835-2.459v-.075c0-1.435-1.249-2.496-3.021-2.496z",fill:"#498BFF"},[])])};const Vy=e=>{let{className:t}=e;return $n(ky,{className:t})},By=e=>{switch(e){case"hide":return $n(Ry,null);case"complaint":return $n(Ny,null);case"about":return $n(Vy,null);default:return}},Ly=e=>{let{isFullSize:t,buttonTexts:i,onClickHandlers:n}=e;const r=hg();return $n("div",{className:wy.locals.AbuseDisplay__defaultDisplay},t?$n("div",{className:wy.locals.AbuseDisplay__hint},r("ABUSE_ADS_TEXT")):null,Object(is.a)(Object(bd.a)(i),e=>$n(yy,{key:e,url:"about"===e?"https://yandex.ru/adv/products":void 0,onClick:n[e],leftIcon:By(e),rightIcon:Sy(e),buttonText:i[e]})))},jy=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const n=hg();return $n("div",{className:wy.locals.AbuseDisplay__hideDisplay},$n("div",{className:wy.locals.AbuseDisplay__text},n("ABUSE_IMPROVE_REASON_TEXT")),Object(is.a)(Object(bd.a)(t),e=>$n(yy,{key:e,onClick:i[e],rightIcon:Sy(e),buttonText:t[e]})))};var My=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 11-1.178 1.179L.744 5.589a.833.833 0 010-1.178l3.333-3.334a.833.833 0 111.179 1.179l-1.91 1.91z",fill:"#498BFF"},[])])};const xy=e=>{let{className:t}=e;return $n(My,{className:t})},Uy=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:n,abuseCustomReasonTextHandler:r,setAbuseActiveDisplayType:a}=Qb(),o=hg(),s=Sr(()=>{a(t)},[t]);return $n("div",{className:wy.locals.AbuseDisplay__customReasonDisplay},$n("div",{className:wy.locals.AbuseDisplay__customReasonDisplayHeader},$n("div",{className:wy.locals.AbuseDisplay__arrowLeftIcon,onClick:s},$n(xy,null)),$n("div",{className:wy.locals.AbuseDisplay__hint},o("ABUSE_OPTION_ANOTHER_REASON"))),$n("div",{className:wy.locals.AbuseDisplay__messageBox},$n("textarea",{className:wy.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:o("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onInput:e=>{const t=e.currentTarget.value;t&&r(t)},value:n}),$n(vy,{className:wy.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:wy.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:n})},o("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},Fy=e=>{let{isVisibleAbuse:t}=e;jr(Cy.a);const{socialAdvertising:i}=py(),{abuseVariantChooseHandler:n,abuseActiveDisplayType:r,setAbuseActiveDisplayType:a,abuseSubmittedOption:o,setAbuseSubmittedOption:s,previousDisplayType:d,destroyCurrentViewer:l,setPreviousDisplayType:c,setAbuseScaleRate:u}=Qb(),[h,p]=yr(null),A=ef(),m=sy(A),v={};_r(()=>{if(!v.current)return;const e=v.current.ownerDocument,t=null===e||void 0===e?void 0:e.documentElement,i=null===e||void 0===e?void 0:e.defaultView,n=f(()=>{const n=(null===i||void 0===i?void 0:i.innerWidth)||t.clientWidth||e.body.clientWidth,r=n>=1600?((e,t)=>{let i=(e+320)/1600;i=Number(i.toFixed(2)),i=Math.min(i,2);const n=Number((t/275).toFixed(2));return Math.min(n,i)})(n,A.width):void 0;u(r)},30);return i.addEventListener("resize",n,!0),n(),()=>{i.removeEventListener("resize",n,!0)}},[v.current,A.width]),_r(()=>{!t&&o&&l()},[o,t]),_r(()=>{if(m)return;const e=v.current;t&&e&&p(e.offsetHeight+"px")},[r,t,m]),_r(()=>{m&&p(null)},[m]);const g=Er(()=>y(OA,(e,t)=>()=>{if(c(r),"hide"===t){if(i)return void n(t);a("hide"),s(t),n(t,{noDestroyOnClick:!0})}else if("complaint"===t)a("complaint"),s(t),n(t,{noDestroyOnClick:!0});else if("anotherReasonAd"===t)a("message");else{const e="about"===t;s(void 0),n(t,{noDestroyOnClick:e})}}),[n,r,i]),b={height:null!==h&&void 0!==h?h:""},_=hg(),O=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),about:e("ABUSE_OPTION_ABOUT")}))(_),T=(e=>Object(Dd.a)(Object(bd.a)(bA),(t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t},{}))(_),E=((e,t)=>t?Object(Dd.a)(Object(bd.a)(_A),(t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t},{}):Object(Dd.a)(Object(bd.a)(yA),(t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t},{}))(_,i);return $n("div",{className:Xv(wy.locals.AbuseDisplay,{[wy.locals.AbuseDisplay__fullSize]:m,[wy.locals.AbuseDisplay_visible]:t}),style:b},$n("div",{className:Xv(wy.locals.AbuseDisplay__content,{[wy.locals.AbuseDisplay__content_offsetBottom]:"default"!==r}),ref:v},"default"===r?$n(Ly,{isFullSize:m,buttonTexts:O,onClickHandlers:g}):null,"hide"===r?$n(jy,{buttonTexts:T,onClickHandlers:g}):null,"complaint"===r?$n(Iy,{buttonTexts:E,onClickHandlers:g}):null,"message"===r?$n(Uy,{onClickHandler:n,previousDisplayType:d}):null))};var Hy=i(157),Wy=i.n(Hy);const zy=e=>{let{isVisible:t}=e;jr(Wy.a);const{abuseScreenCloseHandler:i,abuseButtonClickHandler:n,abuseScaleRate:r}=Qb(),a=ef(),o=Va(a),s=sy(a)?void 0:{transform:r?"scale("+r+")":"",transformOrigin:r?"top right":""};return $n("div",{className:Hy.locals.AbuseContainer,style:s},$n(cy,{onClickHandler:()=>t?i():n(),isActive:t,size:o}),$n(Fy,{isVisibleAbuse:t}))},Gy={full:"ABUSE_SCREEN_DESCRIPTION",short:"ABUSE_SCREEN_DESCRIPTION_SHORT"},Yy=e=>{return e.replace(/(<([^>]+)>)/gi,"")};var qy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{d:"M1 1l24 24M1 25L25 1",stroke:"#F2F2F2","stroke-width":"2"},[])])};const Ky=e=>{let{className:t}=e;return $n(qy,{className:t})};var Xy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{d:"M5.8 6l.34.34a.48.48 0 000-.68L5.8 6zM.66 1.54l4.8 4.8.68-.68-4.8-4.8-.68.68zm4.8 4.12l-4.8 4.8.68.68 4.8-4.8-.68-.68z",fill:"#fff"},[])])};const Jy=e=>{let{className:t}=e;return $n(Xy,{className:t})};var Qy=i(85),Zy=i.n(Qy);const $y=e=>{let{onClick:t,size:i,text:n,className:r}=e;jr(Zy.a);const a=Xv(Qy.locals.AbuseVariantButton,r,{[Qy.locals.AbuseVariantButton_middle]:"middle"===i}),o=Xv(Qy.locals.AbuseVariantButton__content,{[Qy.locals.AbuseVariantButton__content_middle]:"middle"===i}),s=Xv({[Qy.locals.AbuseVariantButton__icon_middle]:"middle"===i}),d=Sr(e=>{e.stopPropagation(),t()},[]);return $n(vy,{className:a,contentClassName:Qy.locals.AbuseVariantButton__basecontent,onClick:d},$n("div",{className:o},n,$n(Jy,{className:s})))};var e_=i(62),t_=i.n(e_);const i_=()=>{jr(t_.a);const e=hg(),t=ef(),i=Va(t),{width:n,height:r}=t,{abuseVariantChooseHandler:a,abuseScreenCloseHandler:o}=Qb(),{socialAdvertising:s}=py(),d=e("ABUSE_SCREEN_TITLE"),l=Er(()=>y(EA,(e,t)=>()=>a(t)),[a]),c=function(e){let{translate:t,socialAdvertising:i,abuseScreenWidth:n}=e;return i?{notInterestedSocialAd:t("ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD"),politicalSocialAd:t("ABUSE_VARIANT_POLITICAL_SOCIAL_AD"),shockingContentSocialAd:t("ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD"),falseInfoSocialAd:t("ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD")}:{notInterested:t("ABUSE_VARIANT_NOT_INTERESTED"),annoying:t("ABUSE_VARIANT_ANNOYING"),spam:t(n<600?"ABUSE_VARIANT_SPAM_SHORT":"ABUSE_VARIANT_SPAM")}}({translate:e,socialAdvertising:s,abuseScreenWidth:n}),u=function(e){if(!(e<350))return e<450?"short":"full"}(r),h=void 0===u?void 0:e(Gy[u]),p=Boolean(h),A=n<700,m=function(e){let{abuseScreenWidth:t,hasDescription:i}=e;return t>=600?360:i?t>=400?320:240:t>=500?280:t>=400?240:200}({hasDescription:p,abuseScreenWidth:n}),v=r>200,f=function(e){let{abuseScreenWidth:t,hasDescription:i}=e;return t>=600?27:i&&t>=400?25:t>=500?19:17}({hasDescription:p,abuseScreenWidth:n}),g={marginBottom:La({isShortDescription:"short"===u,abuseScreenWidth:n}),fontSize:n<400?11:13,lineHeight:n<400?"15px":"21px"};return $n("div",{className:e_.locals.AbuseScreen},$n("div",{className:Xv(e_.locals.AbuseScreen__content,{[e_.locals.AbuseScreen__content_centered]:A}),style:{width:m,paddingBottom:A&&v?"5%":0}},v&&$n("div",{className:Xv({[e_.locals.AbuseScreen__title_centered]:!p}),style:{fontSize:f,marginBottom:n<500?7:14},dangerouslySetInnerHTML:{__html:Yy(d)}}),p&&$n("div",{style:g},h),$n("div",{className:e_.locals.AbuseScreen__buttons},Object(is.a)(Object(bd.a)(c),e=>$n($y,{key:e,className:e_.locals.AbuseScreen__button,size:Ba({abuseScreenWidth:n,hasDescription:p}),text:c[e],onClick:l[e]})))),$n("div",{onClick:o,className:Xv(e_.locals.AbuseScreen__crossContainer,{[e_.locals.AbuseScreen__crossContainer_medium]:"middle"===i})},$n(Ky,{className:e_.locals.AbuseScreen__cross})))},n_=gr({playingState:"idle",play:Zo.a,pause:Zo.a,isStarted:!1,isSlowStart:!1}),r_={"play-circle-click":"SkinPlayByCircleButton","play-tgo":"SkinTGOPlayByButton","pause-tgo":"SkinTGOPausedByButton"},a_=e=>{let{adDisplayController:t}=e;const[i,n]=yr(!1),r=Vr(t.playingState),a=Vr(t.adSlowStart);return _r(()=>{const e=t.onAdStart.addOne(()=>{n(!0)});return()=>{e()}},[]),{playingState:r,play:Sr(e=>{var i;t.resume(),Qo.c.event({name:null!==(i=r_[e])&&void 0!==i?i:"SkinPlayByButton",data:{reason:e}})},[]),pause:Sr(e=>{var i;t.pause(),Qo.c.event({name:null!==(i=r_[e])&&void 0!==i?i:"SkinPausedByButton",data:{reason:e}})},[]),isStarted:i,isSlowStart:a}},o_=()=>wr(n_),s_=gr({isPackshotPlaying:!1}),d_=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:Vr(t)}},l_=()=>wr(s_),c_=gr({timeToSkip:Fg,skipCurrentAdPod:Zo.a}),u_=e=>{let{adDisplayController:t}=e;const{timeToSkip:i}=t;return{timeToSkip:Vr(i),skipCurrentAdPod:Sr(()=>{const e=i.getValue();0===i.getValue()?t.skipCurrentViewer():Qo.c.event({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e}})},[])}},h_=()=>wr(c_),p_={volumeStatus:"unavailable",setMuted:Zo.a},A_=gr(p_),m_=e=>{let{adDisplayController:t}=e;const[i,n]=yr(p_.volumeStatus);_r(()=>{const{adVolume:e,adVolumeAvailability:i,adHasBeenUnmuted:r}=t,a=ja({adVolume:e.getValue(),adVolumeAvailability:i.getValue(),adHasBeenUnmuted:r.getValue()});return n(a),an([e,i,r],(e,t,i)=>ja({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i}),n)},[]);return{volumeStatus:i,setMuted:e=>{t.setMuted(e)}}},v_=()=>wr(A_),f_="DISABLE"===Hh("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0;var g_=i(158),b_=i.n(g_),y_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42zM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97zm11.248 2.6a7.666 7.666 0 00-2.053-5.2l-1.73 1.487a5.48 5.48 0 011.467 3.712 5.48 5.48 0 01-1.467 3.714l1.73 1.487a7.667 7.667 0 002.053-5.2z",fill:"#F2F2F2"},[])])};const __=e=>{let{className:t}=e;return jr(b_.a),$n(y_,{className:Xv(g_.locals.MuteIcon,t)})};var O_=i(98),T_=i.n(O_);const E_=e=>{let{isActive:t=!0,className:i,size:n}=e,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,["isActive","className","size"]);jr(T_.a);const a=Xv(O_.locals.SquareButton,i,{[O_.locals.SquareButton_active]:t,[O_.locals.SquareButton_middle]:"middle"===n});return $n(vy,Ma({},r,{isActive:t,className:a,buttonClassName:O_.locals.SquareButton__basebutton,contentClassName:O_.locals.SquareButton__basecontent}))};var S_=i(99),w_=i.n(S_);const C_=e=>{let{onClick:t,size:i}=e;return jr(w_.a),$n(E_,{className:S_.locals.MuteButton,onClick:t,size:i},$n("div",{className:S_.locals.MuteButton__content},$n("div",{className:Xv(S_.locals.MuteButton__iconContainer,{[S_.locals.MuteButton__iconContainer_middle]:"middle"===i})},$n(__,{className:S_.locals.MuteButton__icon}))))};var I_=i(159),P_=i.n(I_),N_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4L2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4zm12.907 8.412l2.002 1.686a7.556 7.556 0 00.346-2.258 7.666 7.666 0 00-2.054-5.2l-1.732 1.487a5.48 5.48 0 011.469 3.713c0 .192-.01.383-.031.572zm3.817 3.215l1.79 1.508A10.962 10.962 0 0023.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 01-.85 3.787zM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907z",fill:"#F2F2F2"},[])])};const D_=e=>{let{className:t}=e;return jr(P_.a),$n(N_,{className:Xv(I_.locals.UnmuteIcon,t)})};var R_=i(67),k_=i.n(R_);const V_=e=>{let{onClick:t,size:i,unmuteText:n}=e;return jr(k_.a),$n(E_,{className:R_.locals.UnmuteButton,onClick:t,size:i},$n("div",{className:R_.locals.UnmuteButton__content},$n("div",{className:Xv(R_.locals.UnmuteButton__iconContainer,{[R_.locals.UnmuteButton__iconContainer_middle]:"middle"===i})},$n(D_,{className:R_.locals.UnmuteButton__icon})),n&&$n("div",{className:Xv(R_.locals.UnmuteButton__text,{[R_.locals.UnmuteButton__text_middle]:"middle"===i,[R_.locals.UnmuteButton__without_text]:!n})},n)))},B_=()=>{const{volumeStatus:e,setMuted:t}=v_(),i=Sr(()=>{t(!0)},[]),n=Sr(()=>{t(!1)},[]),r=Va(ef());if("unmuted"===e)return $n(C_,{onClick:i,size:r});const{layoutVariant:a}=ny();let o;return"banner"!==a&&("mutedStart"===e&&"middle"===r)&&"DISABLE"!==f_&&(o=Id("UNMUTE",Ed)),$n(V_,{onClick:n,unmuteText:o,size:r})};var L_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 14L0 28V0l24 14zm10 14V0h-4v28h4z",fill:"#fff"},[])])};const j_=e=>{let{className:t}=e;return $n(L_,{className:t})},M_=e=>{let{timeToSkipString:t,iconClassName:i,digitsContainerClassName:n}=e;if(!t)return $n(j_,{className:i});const[r,a]=t;return $n("div",{className:n},$n("span",null,r),$n("span",null,a))};var x_=i(114),U_=i.n(x_);const F_=e=>{let{isActive:t,onClick:i,countdownString:n}=e;jr(U_.a);const r=Sr(e=>{e.stopPropagation(),i()},[]);return $n(E_,{className:Xv(x_.locals.SkipButtonSmall,{[x_.locals.SkipButtonSmall__disabled]:!t}),onClick:r,size:"small",isActive:t},$n("div",{class:x_.locals.SkipButtonSmall__content},$n(M_,{timeToSkipString:n,iconClassName:x_.locals.SkipButtonSmall__timeToSkipString__icon})))};var H_=i(86),W_=i.n(H_);const z_=e=>{let{isActive:t,onClick:i,skipText:n,countdownString:r}=e;jr(W_.a);const a=Sr(e=>{e.stopPropagation(),i()},[]);return $n(E_,{className:H_.locals.SkipButtonWithText,onClick:a,size:"middle",isActive:t},$n("div",{className:H_.locals.SkipButtonWithText__content},$n("div",{className:H_.locals.SkipButtonWithText__text},n),$n("div",{className:H_.locals.SkipButtonWithText__timeToSkipString},$n(M_,{timeToSkipString:r,iconClassName:H_.locals.SkipButtonWithText__icon,digitsContainerClassName:H_.locals.SkipButtonWithText__digitsContainer}))))};var G_=i(91);const Y_=2,q_=()=>{const e=ef(),{skipCurrentAdPod:t,timeToSkip:i}=h_(),n=hg(),r=Va(e),a=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return Object(G_.a)(String(t),Y_,"0")}(i),o=0===i;return"small"===r?$n(F_,{onClick:t,countdownString:a,isActive:o}):$n(z_,{onClick:t,skipText:n("SKIP"),countdownString:a,isActive:o})},K_=gr(0),X_=e=>{let{skinAnimationProgress:t}=e;return Vr(t)},J_=()=>wr(K_),Q_=gr({adPodsCount:0,playingAdPodIndex:0}),Z_=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:Vr(t),playingAdPodIndex:Vr(i)}};var $_=i(160),eO=i.n($_);const tO=()=>{jr(eO.a);const{adPodsCount:e,playingAdPodIndex:t}=(()=>wr(Q_))(),i=J_();return $n("div",{className:$_.locals.Timeline},Object(is.a)(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(e),n=>$n(yf,n<t?{key:n,adAnimationProgress:1,currentNumber:n,count:e,backgroundOpacity:.3}:n===t?{key:n,adAnimationProgress:i,currentNumber:n,count:e,backgroundOpacity:.3}:{key:n,adAnimationProgress:0,currentNumber:n,count:e,backgroundOpacity:.3})))},iO=gr([]),nO=e=>{let{adDisplayController:t}=e;return Vr(t.adPodCurrentSubtitles)};var rO=i(150),aO=i.n(rO);const oO=()=>{jr(aO.a);const e=(()=>wr(iO))();return e.length>0?$n("div",{className:rO.locals.Subtitles__container},Object(is.a)(e,e=>{let{text:t}=e;return $n("div",{className:rO.locals.Subtitles__subtitle},t)})):null};var sO=i(151),dO=i.n(sO);const lO=()=>{jr(dO.a);const{timeToSkip:e}=h_(),{playingState:t}=o_(),i=ey(),{volumeStatus:n}=v_(),{isPackshotPlaying:r}=l_(),{layoutVariant:a}=ny(),o="banner"===a,s="idle"!==t&&"unavailable"!==n&&!1!==i.mute,d=e!==Fg&&!1!==i.skip,l=!o&&!1!==i.timeline&&!r;return $n(tr,null,$n("div",{className:sO.locals.BottomControls__container},$n(oO,null),!o&&$n("div",{className:sO.locals.ButtonControls},s&&$n(B_,null),d&&$n(q_,null))),l&&$n(tO,null))};var cO=i(161),uO=i.n(cO),hO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])};Object(us.a)({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK",win:window});const pO=e=>{let{className:t}=e;return jr(uO.a),$n(hO,{className:Xv(cO.locals.SpinnerIcon__css_animated,t)})},AO=pO;var mO=i(162),vO=i.n(mO);const fO=e=>{let{className:t}=e;return jr(vO.a),$n(AO,{className:Xv(mO.locals.Spinner,t)})};var gO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30z",fill:"#000","fill-opacity":".65"},[]),$n("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const bO=e=>{let{className:t}=e;return $n(gO,{className:t})};var yO=i(100),_O=i.n(yO);const OO=e=>{let{onClick:t,size:i}=e;jr(_O.a);const n=Xv(yO.locals.CirclePlayButton,{[yO.locals.CirclePlayButton_middle]:"middle"===i}),r=Xv(yO.locals.CirclePlayButton__icon,{[yO.locals.CirclePlayButton__icon_middle]:"middle"===i});return $n(vy,{className:n,contentClassName:yO.locals.CirclePlayButton__basecontent,onClick:t},$n(bO,{className:r}))},TO=()=>{const e=Va(ef()),{play:t}=o_(),i=Sr(()=>{t("play-circle-click")},[]);return $n(OO,{size:e,onClick:i})};var EO=i(163),SO=i.n(EO);const wO=()=>{jr(SO.a);const{playingState:e,isStarted:t,isSlowStart:i}=o_(),n=ey(),{layoutVariant:r}=ny(),a="pause"===e,o=a&&!1!==n.play,s="banner"===r?a&&!t:o,d=!s&&!a&&!t&&i&&!1!==n.loader;return $n("div",{className:EO.locals.CenterControls},s&&$n(TO,null),d&&$n(fO,null))},CO=gr(um),IO=e=>{let{adDisplayController:t}=e;return Vr(t.adPodDuration)},PO=()=>wr(CO),NO=(e,t)=>{const{width:i,height:n}=e,{fontSize:r,lineHeight:a=r,noFontSizeLimit:o}=t,s=Math.min(n+i/20,Math.sqrt(i*i+n*n)/2);if(o)return{fontSize:r*s+"px",lineHeight:a*s+"px"};const d=Math.max(r*s,9);return{fontSize:d+"px",lineHeight:Math.max(a/r*d,9)+"px"}};var DO=i(124),RO=i.n(DO);const kO=e=>{const{children:t,style:i,onClick:n}=e,{experimentState:r}=bg();return jr(RO.a),$n("button",{style:i,className:DO.locals.ArrowButton,onClick:n},$n("span",{className:DO.locals.ArrowButton__content},t&&$n("span",{className:DO.locals.ArrowButton__textContent},t),r.hasArrow&&$n(Og,null)))},VO={body:{fontSize:.035,lineHeight:.05},title:{fontSize:.057,lineHeight:.07},buttonWithoutText:{fontSize:.157,lineHeight:.157},buttonWithText:{fontSize:.107,lineHeight:.107}},BO=gr(void 0),LO=e=>Vr(e),jO=()=>wr(BO),MO=gr(fs),xO=e=>Vr(e),UO=()=>wr(MO);var FO=i(73),HO=i.n(FO);const WO=e=>{let{disableAnimation:t=!1}=e;jr(HO.a);const i=hg()("THEME_EMPTY_ACTION_BUTTON_LABEL"),{experimentState:n}=bg(),{actionButtonParameters:r,clickThrough:a}=bg();if(!r)return null;const{oldButtonStyle:o,buttonPlacement:s,label:d}=r,l=n.hasArrow?void 0:i,c=null!==d&&void 0!==d?d:l,u=J_(),h=PO(),p=h*u,{adjacentSize:A,innerSize:m,extraHorizontalSpace:v}=xa(),f={height:v?m:A,width:v?A:m},g="alwaysLeftBottom"===n.position?{side:"left",position:"left-bottom",oppositeSide:"right"}:s,b=f.width>451&&!Object(Hd.a)(["left-center","right-center"],g.position)?70:"",y=t?void 0:function(e,t,i){return{[i]:oa({position:e,unit:"number",steps:[{duration:.06*t,values:[-100,5],easing:aa(.54,1.25,.54,1.26,.01)},{duration:.62*t,value:5},{duration:.02*t,values:[5,4.9],easing:aa(.5,1,.5,60,.01)},{duration:.04*t,values:[4.9,5],easing:aa(.5,100,.5,-100,.01)}]})+"%"}}(p,h,g.side),_=Sr(()=>a({}),[a]);return $n("div",{className:Xv({[FO.locals.OldActionButton__wrapper]:!0,[FO.locals.OldActionButton__bannerPosition_right_center]:"right-center"===g.position,[FO.locals.OldActionButton__bannerPosition_left_center]:"left-center"===g.position,[FO.locals.OldActionButton__bannerPosition_left_bottom]:"left-bottom"===g.position}),style:f},$n("div",{className:FO.locals.OldActionButton__body,style:{bottom:b}},$n("div",{className:FO.locals.OldActionButton__context}),$n("div",{className:FO.locals.OldActionButton__buttonContainer,style:y},$n(kO,{style:Ua({},NO(f,d?VO.buttonWithText:VO.buttonWithoutText),o,{borderRadius:"rectangular"===n.shape?2:""}),onClick:_},c))))};var zO=i(164),GO=i.n(zO);const YO=e=>{let{children:t,className:i}=e;jr(GO.a);const n=xa(),r=Er(()=>(function(e){let{extraHorizontalSpace:t,adjacentSize:i}=e;return{height:t?"100%":i+"px",width:t?i+"px":"100%",marginTop:t?"0px":-i/2+"px",top:t?"0px":"50%",marginLeft:t?-i/2+"px":"0px",left:t?"50%":"0px"}})(n),[n]);return $n("div",{className:Xv(zO.locals.VideoAvatar,i),style:r},t)},qO=e=>"https://favicon.yandex.net/favicon/"+e+"?size=32";var KO=i(115),XO=i.n(KO);const JO=e=>{let{clickThrough:t,actionButtonParameters:i}=e;const{clickUrl:n,domain:r,label:a,buttonPlacement:o}=i,{experimentState:s}=bg();jr(XO.a);const d=Sr(()=>{t({url:n})},[n]),l=$n("div",{className:KO.locals.SkinActionButton},$n(Ug,{disableAnimation:s.noAnimation,domain:r,buttonLabel:a,onButtonClick:d,faviconSrc:qO(r)}));return"default"===s.position?l:$n(YO,{className:"alwaysLeftBottom"!==s.position?Xv({[KO.locals.SkinActionButton__position_right_center]:"right-center"===o.position,[KO.locals.SkinActionButton__position_left_center]:"left-center"===o.position,[KO.locals.SkinActionButton__position_right_bottom]:"right-bottom"===o.position}):void 0},l)},QO=()=>{const e=PO(),{actionButtonParameters:t,clickThrough:i,experimentState:n}=bg(),{isPackshotPlaying:r}=l_();return!1===ey().actionButton?null:t?r?null:l(e)?n.oldActionButton?$n(WO,{disableAnimation:n.noAnimation}):$n(JO,{clickThrough:i,actionButtonParameters:t}):null:null};var ZO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 10h-4v12h4V10zm8 0h-4v12h4V10z",fill:"#fff"},[])])};const $O=e=>{let{className:t}=e;return $n(ZO,{className:t})};var eT=i(125),tT=i.n(eT);const iT=e=>{let{onClick:t,size:i}=e;jr(tT.a);const n=Xv(eT.locals.PauseButton__icon,{[eT.locals.PauseButton__icon_middle]:"middle"===i});return $n(E_,{className:eT.locals.PauseButton,onClick:t,size:i},$n($O,{className:n}))};var nT=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const rT=e=>{let{className:t}=e;return $n(nT,{className:t})};var aT=i(126),oT=i.n(aT);const sT=e=>{let{onClick:t,size:i}=e;jr(oT.a);const n=Xv(aT.locals.SquarePlayButton__icon,{[aT.locals.SquarePlayButton__icon_middle]:"middle"===i});return $n(E_,{className:aT.locals.SquarePlayButton,onClick:t,size:i},$n(rT,{className:n}))},dT=()=>{const{playingState:e,play:t,pause:i}=o_(),n=Va(ef()),r=Sr(()=>{i("pause-tgo")},[]),a=Sr(()=>{t("play-tgo")},[]);return"play"===e?$n(iT,{onClick:r,size:n}):$n(sT,{onClick:a,size:n})};var lT=i(165),cT=i.n(lT);const uT=()=>{jr(cT.a);const{playingState:e,isStarted:t}=o_(),{volumeStatus:i}=v_(),n="pause"===e&&t,r="play"===e,a=r||n,o=(r||n||"end"===e)&&"unavailable"!==i;return $n("div",null,$n("div",{className:lT.locals.TgoButtonControls},a&&$n(dT,null),o&&$n(B_,null)))};var hT=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[$n("g",{filter:"url(#svg-abuse-jsx-inline-1RCLVi9)",fill:"#fff"},[$n("rect",{x:"13.5",y:"8.25",width:"3",height:"3",rx:"1.5"},[]),$n("rect",{x:"13.5",y:"13.5",width:"3",height:"3",rx:"1.5"},[]),$n("rect",{x:"13.5",y:"18.75",width:"3",height:"3",rx:"1.5"},[])]),$n("filter",{id:"svg-abuse-jsx-inline-1RCLVi9",x:"-16",y:"-16",width:"62",height:"62",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[$n("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},[]),$n("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),$n("feOffset",{},[]),$n("feGaussianBlur",{stdDeviation:"8"},[]),$n("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),$n("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"},[]),$n("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),$n("feOffset",{},[]),$n("feGaussianBlur",{stdDeviation:"4"},[]),$n("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),$n("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"},[]),$n("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),$n("feOffset",{},[]),$n("feGaussianBlur",{stdDeviation:"2"},[]),$n("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),$n("feBlend",{mode:"normal",in2:"effect2_dropShadow",result:"effect3_dropShadow"},[]),$n("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),$n("feOffset",{},[]),$n("feGaussianBlur",{stdDeviation:"1"},[]),$n("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),$n("feBlend",{mode:"normal",in2:"effect3_dropShadow",result:"effect4_dropShadow"},[]),$n("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),$n("feOffset",{dy:"1"},[]),$n("feGaussianBlur",{stdDeviation:".5"},[]),$n("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"},[]),$n("feBlend",{mode:"normal",in2:"effect4_dropShadow",result:"effect5_dropShadow"},[]),$n("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect5_dropShadow",result:"shape"},[])]),$n("clipPath",{id:"svg-abuse-jsx-inline-3qWaf6Y"},[$n("path",{d:"M0 0h30v30H0z"},[])])])};const pT=e=>{let{className:t}=e;return $n(hT,{className:t})};var AT=i(127),mT=i.n(AT);const vT=e=>{let{size:t,onClick:i}=e;return jr(mT.a),$n("div",{className:Xv(AT.locals.AbuseButton,{[AT.locals.AbuseButton_middle]:"middle"===t}),onClick:i},$n(pT,{className:AT.locals.AbuseButton__icon}))},fT=gr({adSystemType:void 0,openAdSystemWebsite:Zo.a}),gT=e=>{let{adDisplayController:t}=e;return{adSystemType:Vr(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite}};var bT=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,$n("svg",Object.assign({height:"14",viewBox:"0 0 67 14",width:"67",xmlns:"http://www.w3.org/2000/svg"},t),[$n("path",{d:"M4.133.977h-.616c-.932 0-1.834.616-1.834 2.405 0 1.728.827 2.284 1.834 2.284h.616zm-.962 5.65l-1.834 4.119H0l2.014-4.404C1.067 5.862.436 4.99.436 3.382.436 1.127 1.863 0 3.562 0H5.29v10.746H4.133V6.628zM27.774 6.958c0-2.374.916-3.892 2.69-3.892.676 0 1.067.18 1.397.39l-.165 1.113c-.315-.27-.766-.526-1.247-.526-.842 0-1.443.947-1.443 2.855 0 1.894.45 2.976 1.398 2.976.57 0 1.007-.225 1.277-.466l.27.872c-.405.346-.886.57-1.577.57-1.623 0-2.6-1.307-2.6-3.892zm-3.427.015v3.773h-1.172V3.17h1.172v3.502l1.818-3.502h1.188l-1.879 3.562 2.15 4.013h-1.278zm-5.516-.706h1.94c0-1.292-.211-2.24-.888-2.24-.721 0-.977.887-1.052 2.24zm1.293 4.584c-1.563 0-2.525-1.247-2.525-3.577 0-2.435.676-4.208 2.284-4.208 1.263 0 2.09.947 2.09 3.517v.646h-3.157c0 1.713.481 2.615 1.413 2.615.661 0 1.187-.3 1.488-.51l.27.9c-.48.376-1.112.617-1.863.617zm-4.99-6.733h-1.307v.135c0 1.593-.075 3.923-.707 5.531h2.014zm1.759 8.116H15.84v-1.488h-3.247v1.488h-1.052v-2.45h.466c.691-1.608.767-3.953.767-5.967v-.646h3.516v6.613h.602zM10.866 3.17v7.575H9.709V7.349H7.965v3.397H6.793V3.17h1.172v3.216H9.71V3.171zM39.121.616h-2.33c-.045 2.72-.12 4.794-.24 6.343-.135 1.608-.376 2.675-.781 3.17h3.351zm.796 10.13H35.32l-.106 1.788h-.586V10.13h.316c.526-.436.782-1.639.932-3.171.15-1.594.195-3.968.24-6.959h3.758v10.13h.736v2.404h-.586zM45.223 5.47c0-.39.03-.72.06-1.036h-.045c-.105.33-.24.646-.406.976l-2.464 5.336h-.602V3.17h.662v5.26c0 .406-.03.737-.06 1.067h.044c.106-.345.256-.676.406-1.007l2.465-5.32h.616v7.575h-.676zM51.294 6.793c0-1.984-.54-3.156-1.412-3.156-.676 0-1.247.721-1.578 1.533v4.238c.3.616.721.917 1.398.917.961 0 1.593-1.142 1.593-3.532zm-2.99 3.427v2.87h-.707V3.171h.617l.06 1.248c.33-.722.886-1.398 1.728-1.398 1.263 0 1.999 1.518 1.999 3.712 0 2.78-.932 4.148-2.345 4.148a1.716 1.716 0 01-1.352-.661zM53.67 6.523h2.75c.12-2.014-.482-2.916-1.248-2.916-.797 0-1.443 1.022-1.503 2.916zm1.652 3.757c1.007 0 1.533-.812 1.533-.812l.226.571s-.571.857-1.774.857c-1.608 0-2.344-1.458-2.344-3.937 0-2.48.932-3.938 2.21-3.938 1.307 0 2.148 1.368 1.908 4.058h-3.427c.03 2.074.571 3.2 1.668 3.2zM59.125 10.746h-.707V3.17h.707v3.562l2.54-3.562h.691l-2.495 3.517 2.675 4.058h-.781l-2.63-3.923zM65.257 3.757v6.989h-.707V3.757h-1.758v-.586H67v.586z"},[])])},yT=i(116),_T=i.n(yT);const OT=e=>{let{size:t,adSystemType:i,onClick:n}=e;jr(_T.a);const r=hg(),a="yandex"===i;return $n("span",{className:Xv(yT.locals.AdLabel,{[yT.locals.AdLabel_middle]:"middle"===t,[yT.locals.AdLabel_withIcon]:a}),title:r("YANDEX_DIRECT"),onClick:n},a?$n(bT,{className:yT.locals.AdLabel_icon}):r("AD_TITLE"))};var TT=i(166),ET=i.n(TT);const ST=e=>{let{onClick:t}=e;jr(ET.a);const i=hg()("SOCIAL_ADVERTISING_AD_LABEL");return $n("a",{className:TT.locals.SocialAdvertisingAdLabel,onClick:t},i)},wT=()=>{const e=Va(ef()),{adSystemType:t,openAdSystemWebsite:i}=(()=>wr(fT))(),{socialAdvertising:n}=py();return n?$n(ST,{onClick:i}):void 0===t||"yandex"===t?null:$n(OT,{size:e,adSystemType:t,onClick:i})};var CT=i(167),IT=i.n(CT);const PT=()=>{jr(IT.a);const{playingState:e}=o_(),t=ey(),{isAbuseSupported:i,abuseButtonClickHandler:n}=Qb(),r=Va(ef()),a=!1!==t.adLabel&&"idle"!==e,o=Hb(t)&&i,s=fA?null:$n(vT,{onClick:n,size:r});return $n("div",{className:CT.locals.TopControls},a&&$n(wT,null),o&&s)},NT=()=>{const{abuseScreenStatus:e}=Qb(),{layoutVariant:t}=ny(),i="banner"===t,n="selection"===e;if(n&&!fA)return $n(i_,null);const r=i?uT:PT,a=ey(),o=Hb(a)&&fA;return $n(tr,null,$n(r,null),$n(lO,null),$n(wO,null),$n(QO,null),o&&$n(zy,{isVisible:n}))},DT=[e=>$n(tf.Provider,{value:nf(e.slotElement),children:e.children}),e=>$n(n_.Provider,{value:a_(e),children:e.children}),e=>$n(Q_.Provider,{value:Z_(e.adDisplayController),children:e.children}),e=>$n(K_.Provider,{value:X_(e.adDisplayController),children:e.children}),e=>$n(CO.Provider,{value:IO(e),children:e.children}),e=>$n(Zv.Provider,{value:$v(e.adDisplayController.slotParameters.size),children:e.children}),e=>$n(MO.Provider,{value:xO(e.adDisplayController.videoSlotSize)},e.children),e=>$n(BO.Provider,{value:LO(e.adDisplayController.videoContentSize)},e.children),e=>$n(c_.Provider,{value:u_(e),children:e.children}),e=>$n(cg.Provider,{value:ug(e),children:e.children}),e=>$n(Zb.Provider,{value:$b(e),children:e.children}),e=>$n(A_.Provider,{value:m_(e),children:e.children}),e=>$n(ty.Provider,{value:iy(e),children:e.children}),e=>$n(Jv.Provider,{value:Qv(),children:e.children}),e=>$n(Xb.Provider,{value:Jb(e),children:e.children}),e=>$n(fT.Provider,{value:gT(e),children:e.children}),e=>$n(uy.Provider,{value:hy(e),children:e.children}),e=>$n(fg.Provider,{value:gg(e.adDisplayController),children:e.children}),e=>$n(s_.Provider,{value:d_(e.adDisplayController),children:e.children}),e=>$n(iO.Provider,{value:nO(e)},e.children)];const RT=(e=>(t,i)=>{const n=new Gd.a,r=new Gd.a,a=new Gd.a,o=new Promise((e,t)=>{n.addOne(()=>{n.removeAll(),r.removeAll(),e()}),r.addOne(e=>{n.removeAll(),r.removeAll(),t(e)})}),s=new Promise((e,t)=>{a.addOne(()=>{t()})}),d=$n(xv,{onFirstRender:e=>{"success"===e.status?n.dispatch(void 0):r.dispatch(e.error)},onRuntimeError:()=>{a.dispatch(void 0)}},$n(Kv,{components:DT,componentsProps:{id:"skin",adDisplayController:i,slotElement:t}},e()));return Object($o.a)("Skin: render skin"),fr(d,t),{firstRenderPromise:o,runtimeErrorPromise:s,clear:()=>{n.removeAll(),r.removeAll(),Object($o.a)("Skin: destroy skin"),fr(null,t)}}})(()=>$n(NT,null));var kT=new WeakMap,VT=new WeakMap,BT=new WeakMap,LT=new WeakMap,jT=new WeakMap,MT=new WeakMap,xT=new WeakMap;class UT{constructor(e,t){var i=this;kT.set(this,{writable:!0,value:void 0}),VT.set(this,{writable:!0,value:[]}),BT.set(this,{writable:!0,value:[]}),LT.set(this,{writable:!0,value:void 0}),jT.set(this,{writable:!0,value:void 0}),Ha(this,"createPlaybackController",(function(e,t,n){void 0===n&&(n={}),Qo.c.event({name:"CreatePlaybackController",probability:Xo.a,data:{config:n}});const r=Fa(n,["autoplay"]),{config:a,errors:o}=ia(r);ne(o);const s="VideoBannerAd"===Hs.c||"Test"===Hs.c,d=n.renderSkin,l=new Kb({videoSlot:e,slot:t,mediaAds:Wa(i,LT),playbackParameters:a,onPlayAd:()=>Wa(i,MT).call(i,"PublicControllerPlayAd"),renderSkin:s&&d?d:RT}).getPublicInstance(),c=Object(Pd.a)(Wa(i,BT),e=>{let{event:t}=e;return"CreateAdPlaybackController"===t});return Object(ts.a)(c,e=>{let{handler:t}=e;return t({playbackController:l})}),l})),Ha(this,"showAd",(function(e,t,n){void 0===n&&(n={}),Wa(i,MT).call(i,"AdStoreShowAd");const r=i.createPlaybackController(e,t,n);Wa(i,VT).push(r);const a=new Promise(e=>{r.subscribe("AdStopped",()=>{za(i,VT,Object(Pd.a)(Wa(i,VT),e=>e!==r)),e()})});return r.playAd(),a})),Ha(this,"getAdDuration",()=>Wa(this,LT).getDuration()),Ha(this,"separateAdPods",()=>Object(is.a)(Wa(this,LT).mediaAds,e=>{const t=new UT(new Mp([e]),Wa(this,jT));return Object(ts.a)(Wa(this,BT),e=>{let{event:i,handler:n}=e;t.subscribe(i,n)}),t})),Ha(this,"getAdSourceTypes",()=>Object(Pd.a)(Object(is.a)(Wa(this,LT).mediaAds,e=>{let{contentType:t}=e;return t}),(e,t,i)=>i.indexOf(e)===t)),Ha(this,"setStatsRootFields",e=>{Qo.c.setRootFields(e)}),Ha(this,"hasNotReplacedBroadcastAd",()=>os(Wa(this,LT).mediaAds,e=>e.isNotReplacedBroadcastAd())),Ha(this,"hasYandexCreative",()=>os(Wa(this,LT).mediaAds,e=>e.getIsYandexCreative())),Ha(this,"getNonYandexVastXmlTree",()=>this.hasYandexCreative()?void 0:function e(t){const i=Object(is.a)(t.children,t=>e(t));return{xmlString:t.xmlString,children:i}}(Wa(this,jT))),Ha(this,"destroy",()=>{Object(ts.a)(Wa(this,VT),e=>{e.stopAd()}),Wa(this,VT).length=0,Wa(this,xT).call(this,"AdStoreDestroy"),za(this,kT,void 0),Wa(this,BT).length=0}),Ha(this,"preload",e=>{let{preloadTimeout:t=Kl}=e,i=Fa(e,["preloadTimeout"]);if(Object(_s.a)(Object(Kd.a)(window)))return Promise.resolve();const n=Object(kd.a)(t).promise.then(()=>Wa(this,xT).call(this,"Timeout"));if(void 0===Wa(this,kT)){const e=Object(is.a)(Wa(this,LT).mediaAds,e=>e.preload(i));za(this,kT,Promise.all(e).then(Zo.a))}return Promise.race([Wa(this,kT),n])}),Ha(this,"filterAdPodsIndependentOnHtmlControls",e=>{const[t,i]=k(Wa(this,LT).mediaAds,e=>e.getIfIsRequiredHtmlControls());za(this,LT,new Mp(i)),Object(ts.a)(t,t=>{t.trackError(new Jo.a({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))})}),Ha(this,"preventPlaying",(e,t)=>{Object(ts.a)(Wa(this,LT).mediaAds,i=>{i.trackError(new Jo.a({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))}),za(this,LT,new Mp([]))}),Ha(this,"getAdPodsCount",()=>Wa(this,LT).mediaAds.length),Ha(this,"subscribe",(e,t)=>(Wa(this,BT).push({event:e,handler:t}),()=>{za(this,BT,Object(Pd.a)(Wa(this,BT),i=>{return!(i.event===e&&i.handler===t)}))})),MT.set(this,{writable:!0,value:e=>{Object(ts.a)(Wa(this,LT).mediaAds,t=>{t.isPreloaded()||t.cancelPreloading(e)})}}),xT.set(this,{writable:!0,value:e=>{Object(ts.a)(Wa(this,LT).mediaAds,t=>{t.cancelPreloading(e)})}}),za(this,LT,e),za(this,jT,t)}}class FT extends yd.a{constructor(e){let{adConfig:t,whenVmapLoaded:i,adBreak:n,adPlacementOptions:r}=e;if(super(),Ga(this,"whenVmapLoaded",void 0),Ga(this,"adBreak",void 0),Ga(this,"vmap",void 0),Ga(this,"adConfig",void 0),Ga(this,"adPlacementOptions",void 0),Ga(this,"getPublicInstance",()=>({loadAd:this.loadAd,destroy:()=>this.destroy()})),Ga(this,"load",async e=>{await this.whenVmapLoaded;const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t}),Ga(this,"loadAd",async()=>{try{await this.whenVmapLoaded;const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new Jo.a({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new UT(t,i)}catch(e){throw ci(e),Qo.c.errorToStats(e),e}}),Ga(this,"getInPageBlock",()=>Ti(this.getAdBreaks(),"inpage")[0]),Ga(this,"getPrerollBlock",()=>Ti(this.getAdBreaks(),"preroll")[0]),Ga(this,"getDefaultAdBreakToPlayAd",()=>{const{impId:e}=this.adConfig;return e?function(e,t){return Object(Bh.a)(e,e=>e.impId===t)}(this.getAdBreaks(),e):Ti(this.getAdBreaks(),"preroll")[0]}),this.adConfig=t,this.whenVmapLoaded=i,this.adBreak=n,this.adPlacementOptions=r,Object($o.a)("AdLoader: create"),Qo.c.event({name:"CreateAdLoader",probability:Xo.a,data:{adConfig:t,adBreak:n}}),Tc({secureMode:t.secureMode,url:void 0})){const e=jl();e.addUser(),this.addDestroyHandler(()=>{e.removeUser()}),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:Ff})}i.then(e=>{this.vmap=e}).catch(e=>{Qo.c.errorToStats(e)})}getAdBreaks(){if(this.adBreak)return[this.adBreak];if(this.vmap)return this.vmap.adBreaks;throw new Jo.a({code:"NO_AD_BREAK_OR_VMAP_IN_AD_LOADER",details:void 0})}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:n}=this;return Oi({adConfig:i,adBreak:t,adPlacementOptions:n,win:window})}}const HT={start:"preroll",end:"postroll"},WT=Object(bd.a)({inpage:0,preroll:0,midroll:0,pauseroll:0,overlay:0,postroll:0,replaced:0,notReplaced:0,inroll:0,"inroll-overlay":0}),zT="linear,nonlinear",GT="linear",YT="nonlinear",qT=0,KT=0,XT=0,JT={dark:"dark",light:"light"},QT={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},ZT=e=>{const t=Xa("Collapse",e);return!0===Xa("Repeat",e)?"auto":!1===t?"manual":null},$T=e=>{if(!Object(hs.a)(e))return;const{preferableAdSize:t}=e;if(!Object(hs.a)(t))return;const{width:i,height:n}=t;return l(i)&&l(n)?{width:i,height:n}:void 0},eE=Object(bd.a)(bc),tE=e=>{if(!Object(hs.a)(e))return"Unsafe";const{secureMode:t}=e;return t&&-1!==eE.indexOf(t)?t:"Unsafe"},iE=async e=>{let{url:t,vmapLoadParams:i,timeout:n}=e;const r=Date.now();let a;Qo.c.event({name:"VmapLoadStart",data:i,probability:Xo.a});try{const e=!Object(_s.a)(Object(Kd.a)(window)),i="boolean"===typeof Md?Md:e;a=await ie({url:t,data:null,timeout:n,withCredentials:i})}catch(d){const e=uc({thrownError:d,errorCode:"VMAP_LOAD_ERROR",errorDetails:i,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:i});throw Qo.c.error({error:e}),e}const{responseStatus:o,responseText:s}=a;if(200!==o){const e=(e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0})(s);if(l(e))throw new Jo.a({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:lo({},i,{responseStatus:o,disabledPageId:e})});throw new Jo.a({code:"INVALID_VMAP_RESPONSE_STATUS",details:lo({},i,{responseStatus:o,responseText:a.responseText})})}try{const e=so(i.config),{vmap:t,events:n,errors:o}=eo({vmapXmlObject:a,vmapLoadParams:i,vmapAdBreaksConfig:e});return ne(o),Object(ts.a)(n,e=>Qo.c.event(lo({labels:void 0},e))),Qo.c.values({name:"VmapLoadSuccess",data:lo({},i,{vmap:t}),probability:Xo.a,labels:{},values:{timeSpent:Date.now()-r}}),t}catch(d){throw Qo.c.errorToStats(d),d}},nE=3e3;var rE=i(117);const aE=()=>Object(rE.a)()/rh,oE="adsdksessionwatchedtimesinceadmap",sE=0;class dE{constructor(){var e,t,i;i=void 0,(t="storage")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:n=aE}=e;if(!i)return;const r=co(i);r[t]=n();try{i.setItem(oE,JSON.stringify(r))}catch(a){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:i,now:n=aE}=e;if(!i)return sE;const r=co(i)[t];if(!l(r))return sE;const a=n();if(!l(a))return sE;const o=a-r;return l(o)?o:sE}({category:t,storage:this.storage})}}const lE="https://"+ss.a+"/vmap/",cE=e=>{const{category:t,vmapScenarioId:i}=e,n=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),r=fh(e);let a;try{a=new dE}catch(s){}let o=sE;return"number"===typeof t&&a&&(o=a.getWatchedTimeSinceAd({category:t})),uo({},r,n,{"vmap-scenario-id":void 0===i?void 0:String(i),"wtime-since-ad":String(Math.floor(o)),client_type:"html"})};class uE{constructor(){ho(this,"adBreaks",[]),ho(this,"isSingleVideoSession",!1)}static async load(e,t){const i=no(e),n=function(e){let{config:t,adPlacementOptions:i=gs,win:n=window}=e;const{partnerId:r}=t;if(!r)throw new Jo.a({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const a=cE(t),o=A({url:Object(rs.b)(""+lE+r,a),ignoreAbd:!0,options:i,win:window}),s=Object(Kd.a)(n);return"function"===typeof s?s(Object(rs.b)(o,{abd:"1"})):o}({config:i,adPlacementOptions:t,win:window}),{vmapLoadTimeout:r}=i;let a=nE;r&&(a=r);const o={url:n,config:e,timeout:a};return await iE({url:n,vmapLoadParams:o,timeout:a})}}const hE={impId:qT,sessionId:"",vastTimeout:3e3,videoTimeout:1e4,vpaidTimeout:1e4,wrapperTimeout:3e3,wrapperMaxCount:3,bufferFullTimeout:5e3,bufferEmptyLimit:5},pE={adTagURI:"",adFoxParameters:void 0},AE=po({adType:"preroll"},pE,hE),mE="0",vE=vo({adType:"inpage",replayMode:null,stick:!1},pE,hE),fE={repeatAfter:XT,maxRepeatCount:KT,repeatNumber:0,timeOffset:10},gE=fo({adType:"midroll",broadcastReplace:!1},pE,fE,hE),bE=go({adType:"overlay"},pE,fE,hE),yE=bo({adType:"postroll"},pE,hE),_E={inpage:vE,preroll:AE,midroll:gE,postroll:yE,overlay:bE},OE=Object(bd.a)(_E),TE=async function(e,t,i,n){void 0===t&&(t=!1),void 0===i&&(i="preroll"),void 0===n&&(n=gs);const{adConfig:r,adBreak:a,warnings:o}=function(e,t,i){const{vastBase64:n,adBreakType:r}=e,a=Oo(e,["vastBase64","adBreakType"]),o=[],s=ao(a),{config:{videoContentId:d},errors:l}=s,c=Oo(s.config,["videoContentId"]);o.push(...l);const u=_o({},c,{videoContentId:mo(d)});let h,p;if(n&&(u.vast=O(n)),yo(r)?p=r:t&&(o.push(new Jo.a({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),yo(i)&&(p=i)),p){const e=so(a);h=_o({},_E[p],e)}return{adConfig:u,adBreak:h,warnings:o}}(e,t,i);ne(o);const{adFoxParameters:s}=r;if(s){const e=a||AE,t=new uE;return t.adBreaks=[e],new FT({adConfig:r,whenVmapLoaded:Promise.resolve(t),adBreak:e,adPlacementOptions:n})}if(a){const e=new uE;return e.adBreaks=[a],new FT({adConfig:r,whenVmapLoaded:Promise.resolve(e),adBreak:e.adBreaks[0],adPlacementOptions:n})}if(r.vmap){const e=(e=>{const t=V(e),{vmap:i,events:n,errors:r}=eo({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return ne(r),Object(ts.a)(n,e=>Qo.c.event(Ao({labels:void 0},e))),i})(r.vmap);return new FT({adConfig:r,whenVmapLoaded:Promise.resolve(e),adPlacementOptions:n})}const d=uE.load(r,n),l=new FT({adConfig:r,whenVmapLoaded:d,adPlacementOptions:n});return d.catch(()=>{l.destroy()}),d.then(()=>l)},EE={width:16,height:9},SE=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),wE={multiplier:1,isVertical:!1},CE={width:"",height:"",marginLeft:"",marginTop:""},IE=(e,t,i)=>{const n=e.ownerDocument.defaultView.IntersectionObserver;let r=Zo.a;const a=new Promise(a=>{const o=new n(e=>{let[{isIntersecting:t,intersectionRatio:i}]=e;(t||i>0)&&(r(),a())},{threshold:i,rootMargin:t+" 0px"});o.observe(e),r=()=>{o.disconnect()}});return{teardown:r,promise:a}},PE=40,NE=(e,t,i,n,r,a)=>{const o=e?n:t,s=e?i:r;return{width:o,height:s,top:(a.height-s)/2,left:(a.width-o)/2}},DE=e=>{const{image:t,boundingRectangle:{width:i,height:n},scaleForHorizontal:r=1,scaleForVertical:a=1,pixelRatio:o,stretch:s}=e,d=t.width,l=t.height,c=d/l,u=c>i/n,h=c>1?r:a,p=h*(i<d||s?i:d),A=h*(n<l||s?n:l),m=d*(A/l),v=l*(p/d);return{width:u?p:m,height:u?v:A,url:t.url,size:t.size,imageWidth:t.width,imageHeight:t.height,box:NE(u,p,A,m,v,{width:i,height:n}),coeff:d*l/(i*n*o),isHorizontal:c>1,smartCenters:t.smartCenters}},RE=e=>{let{size:t,images:i}=e;const{width:n,height:r}=t,a=function(e){var t;void 0===e&&(e={});const i=Array.isArray(e.images)?e.images:[e.images],n=Math.min(2,e.pixelRatio||window.devicePixelRatio||1),r=[];for(const a of i)if(a.width&&a.height&&a.url){const t=No({},e,{pixelRatio:n,image:a});r.push(DE(t))}r.sort((e,t)=>e.coeff-t.coeff);for(const a of r)if(a.coeff>1)return a;return null!==(t=r[r.length-1])&&void 0!==t?t:{}}({boundingRectangle:{width:n,height:r},images:Object(is.a)(i,e=>{let[t,i,n,r]=e;return{url:t,width:parseInt(i,10),height:parseInt(n,10),smartCenters:r?r["smart-centers"]:[]}}),stretch:!0});if(Boolean(a))return a.url},kE=400,VE=kE,BE="200%",LE="_displayController_"+Math.floor(1e3*Math.random());class jE{get displayController(){return Qo.c.warning({name:"GetDisplayControllerInPublicController",message:"AdSDK Warning: get displayController is deprecated, it will NOT be working in next versions"}),Ro(this)}set displayController(e){Qo.c.warning({name:"SetDisplayControllerInPublicController",message:"AdSDK Warning: set displayController is deprecated, it will NOT be working in next versions"}),Do(this,e)}constructor(e){ko(this,"onClickThrough",void 0),ko(this,"onStartError",void 0),ko(this,"onPlayStateChanged",void 0),ko(this,"onAdSkippableStateChange",void 0),ko(this,"onComplete",void 0),ko(this,"onFulfilled",void 0),ko(this,"onSlotVisible",void 0),ko(this,"onBeforeAdStart",void 0),ko(this,"onAdStartRejected",void 0),ko(this,"onAdStart",void 0),ko(this,"onAdEnd",void 0),ko(this,"onAdMediaStart",void 0),ko(this,"onAdMediaEnd",void 0),ko(this,"onAdSkipped",void 0),ko(this,"onAdImpression",void 0),ko(this,"onAdContentSizeChange",void 0),ko(this,"onAdRemainingTimeChange",void 0),ko(this,"adStarted",!1),ko(this,"paused",!0),Do(this,e),Ro(this).onBeforeAdStart.add(e=>{let{adType:t}=e;if("function"===typeof this.onBeforeAdStart)try{this.onBeforeAdStart(t)}catch(i){console.error(i)}}),Ro(this).onAdStartRejected.add(()=>{if("function"===typeof this.onAdStartRejected)try{this.onAdStartRejected()}catch(e){console.error(e)}}),Ro(this).onAdStart.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdStart)try{this.onAdStart(t)}catch(i){console.error(i)}}),Ro(this).onAdMediaStart.add(e=>{let{adType:t}=e;if(this.adStarted=!0,!this.paused&&"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!0)}catch(i){console.error(i)}if("function"===typeof this.onAdMediaStart)try{this.onAdMediaStart(t)}catch(i){console.error(i)}}),Ro(this).onAdMediaEnd.add(e=>{let{adType:t}=e;if("function"===typeof this.onComplete)try{this.onComplete()}catch(i){console.error(i)}if("function"===typeof this.onAdMediaEnd)try{this.onAdMediaEnd(t)}catch(i){console.error(i)}if("function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!1)}catch(i){console.error(i)}}),Ro(this).onAdEnd.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdEnd)try{this.onAdEnd(t)}catch(i){console.error(i)}}),Ro(this).onClickThrough.add(()=>{if("function"===typeof this.onClickThrough)try{this.onClickThrough()}catch(e){console.error(e)}}),Ro(this).onAdSkipped.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(t)}catch(i){console.error(i)}}),Ro(this).onAdPodClose.add(()=>{if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(void 0)}catch(e){console.error(e)}});const t=()=>{if(this.paused=!1,this.adStarted&&"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!0)}catch(e){console.error(e)}};Ro(this).onAdPodResume.add(t),Ro(this).onAdPodStart.add(t),Ro(this).onAdPodPause.add(()=>{if(this.paused=!0,"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!1)}catch(e){console.error(e)}}),Ro(this).adSkippableState.add(e=>{if("function"===typeof this.onAdSkippableStateChange)try{this.onAdSkippableStateChange(e)}catch(t){console.error(t)}}),Ro(this).onAdPodImpression.add(()=>{if("function"===typeof this.onAdImpression)try{this.onAdImpression()}catch(e){console.error(e)}}),Ro(this).adContentSize.add(()=>{if("function"===typeof this.onAdContentSizeChange)try{this.onAdContentSizeChange()}catch(e){console.error(e)}}),Ro(this).adPodRemainingTime.add(()=>{if("function"===typeof this.onAdRemainingTimeChange)try{this.onAdRemainingTimeChange()}catch(e){console.error(e)}})}getCurrentContentType(){const e=Ro(this);if(void 0!==e&&null!==e)return e.getCurrentContentType()}usesVideoNode(){const e=Ro(this);if(void 0!==e&&null!==e)return e.usesVideoNode()}play(e){void 0===e&&(e=0===Ro(this).getVolume());const t=async()=>{Ro(this).setMuted(Ro(this).autoplayAbilitySignal.getValue().requireMute||e);try{await Ro(this).play()}catch(t){Qo.c.error({error:new Jo.a(t,{code:"PUBLIC_CONTROLLER_PLAY_ERROR"})})}};void 0===Ro(this).getCurrentContentType()?Ro(this).onAdPodPlayAdMedia.addOne(t):t()}resume(){this.play()}pause(){Ro(this).pause()}skip(){Qo.c.event({name:"PublicControllerSkip",probability:Xo.a,data:{}}),Ro(this).skipAllViewers()}clickThrough(){Ro(this).clickThrough({},"PublicControllerMethodCall")}getPaused(){return Ro(this).getPaused()}getMuted(){return 0===Ro(this).getVolume()}getVolume(){return Ro(this).getVolume()}setVolume(e){Ro(this).setVolume(e)}getDuration(){return Ro(this).getDuration()}getAdWidth(){return Ro(this).getAdWidth()}getAdHeight(){return Ro(this).getAdHeight()}getCurrentTime(){return Ro(this).getCurrentTime()}getAdSkippableState(){return Ro(this).adSkippableState.getValue()}getAdContentSize(){return Ro(this).adContentSize.getValue()}setStatsRootFields(e){Qo.c.event({name:"UsingSetStatsRootFieldsInPublicController",probability:Xo.a,data:void 0}),Qo.c.setRootFields(e)}destroy(){Ro(this).destroy()}setControlsVisibility(e){Ro(this).setPublicApiControlsSettings(e)}}class ME extends jE{constructor(e){super(e.displayController),this.params=e,Vo(this,"play",e=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.play(e))),Vo(this,"resume",()=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.resume())),Vo(this,"pause",()=>(this.params.pauseByPublicMethodSignal.dispatch(!0),super.pause()))}}let xE=!1;const UE={lock:()=>{xE=!0},unLock:()=>{xE=!1},isLocked:()=>xE},FE=((e,t)=>i=>{let n,r;const a=()=>{e(r),r=NaN},o=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return a(),r=t(e=>{r=NaN,n=i.call(this,e,...o)}),n};return o.cancel=a,o})(Kg,qg),HE={stickTo:"auto",stickyColorScheme:"dark"},WE=e=>"bottom-right"===e||"top-right"===e||"bottom-left"===e||"top-left"===e;class zE extends yd.a{constructor(){super(),Bo(this,"initialState","Inline"),Bo(this,"currentState",this.initialState),Bo(this,"nextState",void 0),Bo(this,"transitionWays",{Inline:"Detached",Detached:"Sticky",Sticky:"Attached",Attached:"Inline"}),Bo(this,"onStateChange",[]),Bo(this,"subscribeForStateTransition",(e,t)=>this.subscribeForStateChange(i=>{if(e.previousState===i.previousState&&e.nextState===i.nextState)return t(i)})),this.addDestroyHandler(()=>{this.onStateChange.length=0})}getCurrentState(){return this.currentState}isWithinTransition(){return void 0!==this.nextState}getNextState(){return this.nextState}subscribeForStateChange(e){return this.onStateChange.push(e),()=>{this.onStateChange=Object(Pd.a)(this.onStateChange,t=>t!==e)}}isValidTransition(e){return e===this.transitionWays[this.currentState]}async setState(e){if(!this.isValidTransition(e))throw new ReferenceError("StickyFSA: invalid transition from ["+this.currentState+"] to ["+e+"]");const t=this.currentState;this.nextState=e;for(const i of this.onStateChange)await i({previousState:t,nextState:e});this.currentState=e,this.nextState=void 0}}var GE=i(93),YE=i.n(GE);const qE=Um,KE=e=>{let{adWidth:t,adHeight:i,windowWidth:n,description:r,isAdaptiveCreative:a}=e;if(!r)return!1;if(a)return!0;const o=qE*(t/i);return!!l(o)&&o/n<.55};var XE=i(51),JE=i.n(XE);const{locals:QE}=YE.a,ZE=i(177);class $E extends yd.a{constructor(e){super(),this.params=e,Lo(this,"setDescription",Zo.a),Lo(this,"description",""),Lo(this,"variantState",new Gd.a),Lo(this,"stickyState",new Gd.a),Lo(this,"additionalContentEnabledState",new Gd.a),Lo(this,"isDetachedState",new Gd.a),Lo(this,"withDisabledAnimation",e=>{this.setAnimationEnabled(!1),e(),function(e){e.offsetLeft}(this.params.layout.stickyWrapperElement),this.setAnimationEnabled(!0)}),Lo(this,"waitForAnimationEnd",()=>{const e=Object(kd.a)(kE),t=e=>e.target===this.params.layout.stickyWrapperElement&&("width"===e.propertyName||"transform"===e.propertyName);let i=Zo.a;const n=new Promise(e=>i=Object(qd.a)({element:this.params.layout.stickyWrapperElement,eventName:"transitionend",listener:i=>{t(i)&&e()}})),r=()=>{e.clear(),i()};return this.addDestroyHandler(r),Promise.race([e.promise,n]).then(r)}),this.render(),this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper,!0),WE(this.params.stickyConfig.stickTo)?(this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__variant__flyroll,!0),this.variantState.dispatch("flyroll")):(this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__variant__covering,!0),this.variantState.dispatch("covering"))}updateAdditionalContentVisibility(){const e=this.params.adContentSize.getValue(),t=WE(this.params.stickyConfig.stickTo)||KE({adWidth:(null===e||void 0===e?void 0:e.width)||0,adHeight:(null===e||void 0===e?void 0:e.height)||0,windowWidth:this.params.win.innerWidth,description:this.description,isAdaptiveCreative:!e||void 0===e.width||void 0===e.height});this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__additionalContent_enabled,t),this.additionalContentEnabledState.dispatch(t)}setAnimatingStateClassName(e){this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__isAnimating,e)}handleClassNames(){let e=!1,t=!1;switch(this.params.stickyFSA.getNextState()||this.params.stickyFSA.getCurrentState()){case"Inline":e=!0,t=!1;break;case"Detached":e=!1,t=!1;break;case"Sticky":e=!1,t=!0;break;case"Attached":e=!0,t=!1;break;default:throw new Error("unhandled state, should never be executed")}this.setAttachStateClassNames(e),this.setStickyStateClassNames(t)}setAnimationEnabled(e){e?this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__unAnimated,!1):this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__unAnimated,!0)}render(){const e=this.params.layout.stickyWrapperElement,t=e.appendChild(this.renderAdditionalContent()),i=e.appendChild(this.renderCross());this.addDestroyHandler(()=>{Object(Ko.a)(t),Object(Ko.a)(i)}),this.attachAdditionalContentClasses(e)}renderAdditionalContent(){const e=document.createElement("div");if(this.toggleClassName(e,XE.locals.yaInpageAdditionalContent,!0),WE(this.params.stickyConfig.stickTo)){const t=document.createElement("div");this.toggleClassName(t,XE.locals.yaInpageAdditionalContent__adTitle,!0),t.innerHTML="\u0440\u0435\u043a\u043b\u0430\u043c\u0430",e.appendChild(t)}else{switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleClassName(e,QE.yaInpageAdditionalContent_dark,!0);break;default:Object(Zo.a)()}e.appendChild(this.renderDescription()),e.appendChild(this.renderActionButton())}const t=document.createElement("div");return this.toggleClassName(t,QE.yaInpageAdditionalContentContainer,!0),t.appendChild(e),t}renderDescription(){var e=this;const t=document.createElement("div");return this.toggleClassName(t,QE.yaInpageAdditionalContent__description,!0),this.addDestroyHandler(Object(qd.a)({element:t,eventName:"click",listener:this.params.onActionClick})),this.setDescription=function(i){void 0===i&&(i=""),e.description=i,t.innerText=i,e.updateAdditionalContentVisibility()},t}renderActionButton(){const e=document.createElement("div");this.toggleClassName(e,QE.yaInpageAdditionalContent__buttonClickableArea,!0);const t=document.createElement("div");return this.toggleClassName(t,QE.yaInpageAdditionalContent__button,!0),t.appendChild(e),t.innerText="\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",this.addDestroyHandler(Object(qd.a)({element:t,eventName:"click",listener:this.params.onActionClick})),t}renderCross(){const e=document.createElement("div");return this.toggleClassName(e,XE.locals.yaInpageCross,!0),e.innerHTML=ZE,this.addDestroyHandler(Object(qd.a)({element:e,eventName:"click",listener:this.params.onCrossClick})),e}toggleClassName(e,t,i){const{classList:n}=e;return i?n.add(t):n.remove(t)}toggleStickyWrapperClassName(e,t){return this.toggleClassName(this.params.layout.stickyWrapperElement,e,t)}setStickyStateClassNames(e){if(this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__inline,!e),this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__sticky,e),this.stickyState.dispatch(e?"sticky":"inline"),WE(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__sticky__flyroll,e):this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__sticky__covering,e),!WE(this.params.stickyConfig.stickTo))switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__sticky__covering_color_scheme_dark,e);break;case"light":this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__sticky__covering_color_scheme_light,e);break;default:Object(Zo.a)()}}setAttachStateClassNames(e){this.isDetachedState.dispatch(!e),this.toggleStickyWrapperClassName(QE.yaInPageStickyWrapper__detached,!e)}attachAdditionalContentClasses(e){const t=Br(e,JE.a.toString());this.addDestroyHandler(()=>{Object(Ko.a)(t)}),this.addDestroyHandler(this.variantState.add(t=>{"flyroll"===t?(null===e||void 0===e||e.classList.toggle(XE.locals.flyroll,!0),null===e||void 0===e||e.classList.toggle(XE.locals.covering,!1)):(null===e||void 0===e||e.classList.toggle(XE.locals.flyroll,!1),null===e||void 0===e||e.classList.toggle(XE.locals.covering,!0))})),this.addDestroyHandler(this.stickyState.add(t=>{"inline"===t?(null===e||void 0===e||e.classList.toggle(XE.locals.inline,!0),null===e||void 0===e||e.classList.toggle(XE.locals.sticky,!1)):(null===e||void 0===e||e.classList.toggle(XE.locals.inline,!1),null===e||void 0===e||e.classList.toggle(XE.locals.sticky,!0))})),this.addDestroyHandler(this.additionalContentEnabledState.add(t=>{null===e||void 0===e||e.classList.toggle(XE.locals.additionalContent__enabled,t)})),this.addDestroyHandler(this.isDetachedState.add(t=>{null===e||void 0===e||e.classList.toggle(XE.locals.isDetached,t)}))}}const eS=320,tS=e=>{let{direction:t,offsets:i,getInpageCurrentRect:n,getViewDimensions:r,getStickyDimensions:a,getPlaceholderDimensions:o}=e;const s=i.x*-t.x,d=i.y*-t.y,l=n(),c=l.left,u=l.top,h=r(),p={x:(-1===t.x?0:h.width-l.width)-c+s,y:(-1===t.y?0:h.height-l.height)-u+d},A=a(),m=o(),v={x:A.width/m.width,y:A.height/m.height};return{origin:(1===t.y?"bottom":0===t.y?"center":"top")+" "+(1===t.x?"right":0===t.y?"center":"left"),translation:p,scale:v}},iS={covering:{x:0,y:0},flyroll:{x:32,y:24}};class nS{constructor(e){var t,i,n;this.params=e,n={horizontal:"right",vertical:"bottom"},(i="intrinsicStickPosition")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.actualizeStickPosition(),"auto"===this.params.stickyConfig.stickTo&&this.params.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},()=>this.actualizeStickPosition())}getViewDimensions(){const{clientHeight:e,clientWidth:t}=this.params.win.document.documentElement;return{height:e,width:t}}getStickyDimensions(){const e=this.getViewDimensions().width;return WE(this.params.stickyConfig.stickTo)&&e>=1600?{width:360,height:202}:{width:eS,height:qE}}getPlaceholderDimensions(){const{width:e,height:t}=this.params.getPlaceholderDOMRect();return{width:e,height:t}}fromDOMDimensionsToCSSDimensions(e){return{width:e.width+"px",height:e.height+"px"}}getTransformStyles(){const{intrinsicStickPosition:e}=this,t=WE(this.params.stickyConfig.stickTo)?iS.flyroll:iS.covering,i={x:WE(this.params.stickyConfig.stickTo)?"right"===e.horizontal?1:-1:0,y:"bottom"===e.vertical?1:-1},{origin:n,scale:r,translation:a}=tS({direction:i,offsets:t,getInpageCurrentRect:()=>this.params.getStickyWrapperDOMRect(),getViewDimensions:()=>this.getViewDimensions(),getStickyDimensions:()=>this.getStickyDimensions(),getPlaceholderDimensions:()=>this.getPlaceholderDimensions()});return{transformOrigin:n,transform:"translate("+a.x+"px, "+a.y+"px) scale("+r.x+", "+r.y+")"}}getInlineStateRect(){const e="top"===this.intrinsicStickPosition.vertical?"0":"",t="bottom"===this.intrinsicStickPosition.vertical?"0":"",i="left"===this.intrinsicStickPosition.horizontal?"0":"";return jo({top:e,right:"right"===this.intrinsicStickPosition.horizontal?"0":"",bottom:t,left:i},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getDetachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:n,bottom:r}=this.params.getStickyWrapperDOMRect(),{width:a,height:o}=this.getViewDimensions(),s="bottom"===e.vertical?o-r+"px":"";return jo({top:"top"===e.vertical?n+"px":"",bottom:s,left:"left"===e.horizontal?t+"px":"",right:"right"===e.horizontal?a-i+"px":""},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getStickyStateRect(){const{intrinsicStickPosition:e}=this,t=WE(this.params.stickyConfig.stickTo)?iS.flyroll:iS.covering,i="top"===e.vertical?t.y+"px":"",n="bottom"===e.vertical?t.y+"px":"",r="left"===e.horizontal?t.x+"px":"",a="right"===e.horizontal?t.x+"px":"",o=this.getStickyDimensions();return{top:i,right:a,bottom:n,left:r,width:WE(this.params.stickyConfig.stickTo)?o.width+"px":"100%",height:o.height+"px"}}getAttachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:n,bottom:r}=this.params.getPlaceholderDOMRect(),{left:a,right:o,top:s,bottom:d,width:l,height:c}=this.params.getStickyWrapperDOMRect();return{top:"top"===e.vertical?s-n+"px":"",bottom:"bottom"===e.vertical?r-d+"px":"",left:"left"===e.horizontal?a-t+"px":"",right:"right"===e.horizontal?i-o+"px":"",width:l+"px",height:c+"px"}}actualizeStickPosition(){const{stickTo:e}=this.params.stickyConfig;if(this.intrinsicStickPosition={vertical:"top-right"===e||"top-left"===e||"top"===e?"top":"bottom",horizontal:"bottom-right"===e||"top-right"===e?"right":"left"},"auto"!==e)return;const t=this.params.getInlineContainerTopCornerPosition()<=0;this.intrinsicStickPosition.vertical=t?"top":"bottom"}}const rS=["position","left","top","bottom","width","height","background","display","zIndex","transform"];class aS{constructor(e){var t,i,n;this.elements=e,n=[],(i="storedStyles")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}save(){Object(ts.a)(this.elements,e=>{this.storedStyles.push(this.extract(e))})}restore(){Object(ts.a)(this.elements,(e,t)=>{To(e,this.storedStyles[t],!0)}),this.storedStyles.length=0}extract(e){return Object(Dd.a)(rS,(t,i)=>(t[i]=e.style[i],t),{})}}class oS extends yd.a{constructor(e){super(),this.params=e,xo(this,"win",void 0),xo(this,"stickyInpageLayout",void 0),xo(this,"stickyFSA",void 0),xo(this,"stickyPositioning",void 0),xo(this,"stylesStore",void 0),xo(this,"stickyConfig",void 0),xo(this,"handleWindowResize",FE(()=>{this.stickyInpageLayout.updateAdditionalContentVisibility()})),xo(this,"setDescription",e=>this.stickyInpageLayout.setDescription(e)),xo(this,"handleFromInlineToDetachTransition",()=>{this.stylesStore.save(),this.stickyInpageLayout.updateAdditionalContentVisibility(),this.stickyInpageLayout.withDisabledAnimation(()=>{To(this.params.layout.stickyWrapperElement,Mo({position:"fixed"},this.stickyPositioning.getDetachedStateRect()),!0)}),WE(this.stickyConfig.stickTo)||To(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions()),!0),this.stickyInpageLayout.handleClassNames()}),xo(this,"handleFromDetachToStickyTransition",async()=>{WE(this.stickyConfig.stickTo)?To(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles(),!0):(To(this.params.layout.stickyWrapperElement,this.stickyPositioning.getStickyStateRect(),!0),To(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getStickyDimensions()),!0)),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation(()=>{To(this.params.layout.stickyWrapperElement,Mo({transform:"",transformOrigin:""},this.stickyPositioning.getStickyStateRect()),!0)}),this.stickyInpageLayout.handleClassNames()}),xo(this,"handleFromStickyToAttachTransition",async()=>{this.stickyInpageLayout.withDisabledAnimation(()=>{To(this.params.layout.stickyWrapperElement,Mo({position:"absolute"},this.stickyPositioning.getAttachedStateRect()),!0)}),this.stickyInpageLayout.handleClassNames()}),xo(this,"handleFromAttachToInlineTransition",async()=>{this.stickyInpageLayout.handleClassNames(),WE(this.stickyConfig.stickTo)?(this.stickyInpageLayout.withDisabledAnimation(()=>{To(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect(),!0)}),this.stickyInpageLayout.withDisabledAnimation(()=>{To(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles(),!0)}),To(this.params.layout.stickyWrapperElement,{transform:""},!0)):(To(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect(),!0),To(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions()),!0)),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation(()=>this.stylesStore.restore())}),this.win=this.params.layout.containerWindow,this.stickyFSA=new zE,this.addDestroyHandler(()=>this.stickyFSA.destroy()),this.stickyConfig=Mo({},HE,b(this.params.stickyConfig)),this.stickyInpageLayout=new $E({stickyFSA:this.stickyFSA,layout:this.params.layout,win:this.win,stickyConfig:this.stickyConfig,adContentSize:this.params.adContentSize,onActionClick:this.params.onActionClick,onCrossClick:this.params.onCrossClick}),this.addDestroyHandler(()=>this.stickyInpageLayout.destroy()),this.stickyPositioning=new nS({stickyFSA:this.stickyFSA,getInlineContainerTopCornerPosition:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect().top,stickyConfig:this.stickyConfig,win:this.win,getPlaceholderDOMRect:()=>this.params.layout.placeholderElement.getBoundingClientRect(),getStickyWrapperDOMRect:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect()}),this.stylesStore=new aS([this.params.layout.stickyWrapperElement,this.params.layout.wrapperElement]),this.addDestroyHandler(Object(qd.a)({element:this.win,eventName:"resize",listener:this.handleWindowResize})),this.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},this.handleFromInlineToDetachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Detached",nextState:"Sticky"},this.handleFromDetachToStickyTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Sticky",nextState:"Attached"},this.handleFromStickyToAttachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Attached",nextState:"Inline"},this.handleFromAttachToInlineTransition)}async goSticky(){await this.stickyFSA.setState("Detached"),await this.stickyFSA.setState("Sticky")}async unSticky(){await this.stickyFSA.setState("Attached"),await this.stickyFSA.setState("Inline")}}const sS=(e,t)=>"replayMode"in e?e.replayMode:t.replayMode,dS=e=>{let{win:t,inPageConfig:i,adBreak:n}=e;return!_h(t)&&("boolean"===typeof i.stick?i.stick:n.stick)},lS=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}();class cS extends yd.a{constructor(e){super(),this.params=e,Ho(this,"overlapVisibility",new _d.a(!1)),Ho(this,"recalculateElementOverlap",FE(()=>{if(this.isDestroyed)return;const e=!Fo(this.params.element,this.params.points);this.overlapVisibility.dispatch(e)})),this.startObservingElementOverlap()}startObservingElementOverlap(){this.addDestroyHandler(oi(this.recalculateElementOverlap));const{promise:e,clear:t}=Object(kd.a)(0);e.then(this.recalculateElementOverlap).catch(md.a),this.addDestroyHandler(t)}}const uS=[0,0];class hS extends yd.a{constructor(e){var t,i,n;super(),n=void 0,(i="visualVisibility")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n;const r=new iv(e,{considerDocumentVisibility:!1});this.addDestroyHandler(()=>r.destroy());const a=new _d.a(!1);r.totalVisibilityValueSignal.add(e=>a.dispatch(e));const o=new cS({element:e,points:[uS]});this.addDestroyHandler(()=>o.destroy()),this.visualVisibility=new _d.a(r.totalVisibilityValueSignal.getValue()&&o.overlapVisibility.getValue()),an([a,o.overlapVisibility],(e,t)=>e&&t,e=>this.visualVisibility.dispatch(e))}}class pS extends yd.a{constructor(e){var t;super(),this.params=e,zo(this,"publicController",void 0),zo(this,"displayController",void 0),zo(this,"displayControllerOnAdEndPromise",void 0),zo(this,"adLoader",void 0),zo(this,"replayMode",null),zo(this,"stickyInPageController",void 0),zo(this,"stickyConfig",void 0),zo(this,"pausedByContainerVisibility",!1),zo(this,"pausedByDocumentVisibility",!1),zo(this,"isSticky",new _d.a(!1)),zo(this,"documentVisibility",new _d.a(!1)),zo(this,"isContainerSizeFixed",void 0),zo(this,"pauseByPublicMethodSignal",new _d.a(!1)),zo(this,"placeholderVisibilitySlot",void 0),zo(this,"placeholderVisibility",void 0),zo(this,"showAds",async e=>{const{layout:t}=this.params,[i]=e.mediaAds.slice(-1),{vastAd:n}=i,{clickThrough:r}=n,a=function(e,t){const{adParametersObject:i}=e;if(!Object(hs.a)(i))return;const n=Ki(i),r=null===n||void 0===n?void 0:n.packshotImageUrl;if(r)return r;if(!Object(hs.a)(i))return;const a=zi(i.adParameters);return 0!==a.length?RE({size:t,images:a}):void 0}(n,this.params.layout.placeholderSize.getValue());a&&"manual"===this.replayMode&&(Object($o.a)("InPage: packshot image found for manual mode ["+a+"]"),this.displayController.onAdPodThirdQuartile.addOne(()=>{o(a)}));try{if(this.displayControllerOnAdEndPromise||await this.initAdForPlaying(e),this.displayController.autoplayAbilitySignal.getValue().requireUserGesture?(this.displayController.setSkinControlHideReason("play",!0,"INPAGE_RETAINS_CONTROL"),this.displayController.onAdMediaStart.addOne(()=>{this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL")}),Object($o.a)("inPage: wait for media activation event to play ad"),this.displayController.setMuted(!1),Qo.c.event({name:"InPageWaitingForUserGesture",probability:Xo.a,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})):(Object($o.a)("inPage: start to play ad"),this.displayController.play(!0).catch(e=>{Qo.c.error({error:new Jo.a(e,{code:"InPageOnReadyPlayError"})})}),Qo.c.event({name:"InPageAutoplay",probability:Xo.a,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})),await this.displayControllerOnAdEndPromise,this.displayControllerOnAdEndPromise=void 0,"auto"===this.replayMode)return;if("manual"===this.replayMode){t.setPackshotContainerVisibility(!0),t.setSlotVisibility(!1),Object($o.a)("inPage: ad played. show packshot");const{disableObjectFit:e,disableOverlay:i,disableButton:o}=this.params.adConfig.packshotSettings||{};let s;if(a?(To(t.packshotContainer,{backgroundImage:"url("+a+")"}),Qo.c.event({name:"InPagePackshotBackgroundImage",data:{vastAd:n}})):this.displayController.isLastAdPodRetainedMedia()?(t.videoSlot.muted=!0,t.videoSlot.loop=!0,e||(t.videoSlot.style.objectFit="cover"),this.displayController.videoNodeController.play(),Qo.c.event({name:"InPagePackshotBackgroundLoopedVideo",data:{vastAd:n}})):Qo.c.event({name:"InPagePackshotBackgroundEmpty",data:{vastAd:n}}),!o){const e=n.adParametersObject&&qi(n.adParametersObject),t=Id("LEARN_MORE",this.params.adConfig.lang);s=e||t}const d=new wf({container:t.packshotContainer,containerSize:t.videoSlotContainerSize,disableOverlay:i,buttonText:s,descriptionText:n.description,duration:1/0,openClickThroughUrl:()=>{window.open(r,"_blank")},hasTimeline:!1});this.addDestroyHandler(()=>{d.destroy({reason:"stopAd",details:void 0})})}else Object($o.a)("inPage: finish playing ad"),this.isSticky.getValue()&&await this.turnOffStickyMode({animated:!0}),this.destroy(void 0)}catch(s){this.destroy(s)}}),zo(this,"handleDocumentVisibilityChange",e=>{this.displayController.getPaused()||e?e&&this.pausedByDocumentVisibility&&(Object($o.a)("inPage: resume by document visibility"),this.displayController.resume(),this.pausedByDocumentVisibility=!1,Qo.c.event({name:"InPageDocumentVisibilityResume",probability:Xo.a,data:{}})):(Object($o.a)("inPage: pause since document is hidden"),this.displayController.pause(),this.pausedByDocumentVisibility=!0,Qo.c.event({name:"InPageDocumentVisibilityPause",probability:Xo.a,data:{}}))}),zo(this,"handleVisibilityChange",e=>{this.documentVisibility.getValue()&&(e?this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!1})?(Object($o.a)("inPage: go into inline since container is visible"),this.changeStickyState({willBeSticky:!1})):(!this.isSticky.getValue()&&this.pausedByContainerVisibility&&this.displayController.getPaused()||this.displayController.wasAbuseClosedByClickOutsideVisibility.getValue())&&(Object($o.a)("inPage: pause playback since container is visible"),this.pausedByContainerVisibility=!1,this.displayController.resume(),Qo.c.event({name:"InPageElementVisibilityResume",probability:Xo.a,data:{}})):this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!0})?(Object($o.a)("inPage: go into sticky since container is hidden"),this.changeStickyState({willBeSticky:!0})):this.isSticky.getValue()||this.pausedByContainerVisibility||this.displayController.getPaused()||(Object($o.a)("inPage: pause since container is hidden"),this.pausedByContainerVisibility=!0,this.displayController.pause(),Qo.c.event({name:"InPageElementVisibilityPause",probability:Xo.a,data:{}})))}),zo(this,"onceWhenCanShowInpage",()=>{if("function"===typeof this.publicController.onSlotVisible)try{this.publicController.onSlotVisible()}catch(e){console.error(e)}}),zo(this,"handleStickyInpageCrossClick",()=>{this.stickyInPageController&&(Object($o.a)("inPage: handle cross click"),Qo.c.event({name:"InPageStickyCrossClick",probability:Xo.a,data:{}}),this.turnOffStickyMode({animated:!0}),this.placeholderVisibility.getValue()||this.displayController.getPaused()||(this.pausedByContainerVisibility=!0,this.displayController.pause()))}),zo(this,"makeStickAction",async e=>{try{this.displayController.disableResizeHandling(),await e(),this.displayController.enableResizeHandling()}catch(t){Qo.c.error({error:new Jo.a(t,{code:"InPageOnStickError"})})}}),zo(this,"handlePauseByMethodCall",e=>{e&&this.isSticky.getValue()&&(Object($o.a)("inPage: set to inline mode because of pause"),this.changeStickyState({willBeSticky:!1}))}),Object($o.a)("inPage: run constructor"),this.addDestroyHandler(e=>{Object($o.a)("inPage: destroy error=["+e+"]")});const{layout:i,adConfig:n,initialContainerRect:r}=e,{containerElement:a,placeholderElement:s,placeholderSize:d,videoSlotContainerSize:l,wrapperElement:c}=i;this.isContainerSizeFixed=r.height>0,Object($o.a)("inPage: isContainerSizeFixed=["+this.isContainerSizeFixed+"] initialContainerRect=["+JSON.stringify(r)+"]"),this.isContainerSizeFixed?(To(s,{height:"100%"},!0),To(a,{height:"100%"},!0)):(Object($o.a)("inPage: adjust to default ad size"),Uo({placeholderElement:s,placeholderWidth:d.getValue().width,adContentSize:EE}));const u=null!==(t=n.visibilitySlot)&&void 0!==t?t:s,h=new zm(c),p=new iv(c,{numberOfMeasurementSteps:Bm}),A=new iv(u,{numberOfMeasurementSteps:Bm}),m=Eo([this.isSticky,A.totalVisibilityRatioValueSignal,p.totalVisibilityRatioValueSignal],(e,t,i)=>e?i:t),v=Eo([this.isSticky,d,h.onResize],(e,t,i)=>e?i:t);this.addDestroyHandler(()=>{h.destroy(),p.destroy(),A.destroy(void 0),m.teardown(),v.teardown()});const f={element:u,size:v.valueSignal,visibilityRatio:m.valueSignal},g=new qb({config:Wo({},n,{backgroundBlur:!1}),videoNode:i.videoSlot,videoWrapperNode:i.slot,backgroundSlot:i.backgroundContainer,visibilitySlotParameters:f,renderSkin:RT});this.displayController=g,this.subscribeDisplayControllerEvents(g),this.placeholderVisibilitySlot=u;const b=new hS(this.placeholderVisibilitySlot);this.placeholderVisibility=b.visualVisibility,this.addDestroyHandler(()=>b.destroy());const _=new _d.a(wn(i.videoSlot),An);if(this.addDestroyHandler(fa(i.videoSlot,e=>_.dispatch(e))),this.addDestroyHandler(()=>{_.removeAll()}),this.isContainerSizeFixed){const{allowedToHideVideoSlotAreaPortion:e}=n;e&&this.addDestroyHandler(an([l,_],(t,i)=>(function(e){let{slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:n}=e;if(!i)return wE;if(void 0===i.width&&void 0===i.height)return wE;const{innerSize:r,adjacentSize:a,extraHorizontalSpace:o}=Sn({slotSize:t,videoContentSize:i,videoSlotSize:t}),s=r/(a/(o?t.width:t.height)),d=r/(1-n);return{multiplier:Math.min(s,d)/r,isVertical:o}})({slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:e}),e=>{const t=l.getValue(),n=_.getValue();Object($o.a)("InPage: compensate videoEars=["+JSON.stringify(e)+"] slotSize=["+JSON.stringify(t)+"] adContentSize=["+JSON.stringify(n)+"]");const r=function(e){let{slotSize:{width:t,height:i},videoEarsCompensation:{isVertical:n,multiplier:r}}=e;if(1===r||!t||!i)return;const a=n?t:i,o=n?i:t,s=o*r,d=-1*(o*(r-1))/2;return{width:n?a:s,height:n?s:a,marginLeft:n?0:d,marginTop:n?d:0}}({slotSize:t,videoEarsCompensation:e}),a=r?y(r,e=>e+"px"):CE;To(i.videoSlot,a,!0)}))}else{const e=e=>{Uo({placeholderElement:s,placeholderWidth:d.getValue().width,adContentSize:e})};e(g.adContentSize.getValue()),this.addDestroyHandler(g.adContentSize.add(e))}this.displayController.abuseScreenStatus.add(e=>{if("hidden"===e){this.displayController.pauseByOpenAbuseScreen.getValue()&&(this.placeholderVisibility.getValue()?this.displayController.resume():this.displayController.wasAbuseClosedByClickOutsideVisibility.dispatch(!0))}}),this.documentVisibility.add(this.handleDocumentVisibilityChange),this.documentVisibility.dispatch(Object(fm.a)(i.containerDocument)),this.addDestroyHandler(mn(i.containerDocument,e=>this.documentVisibility.dispatch(e))),this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL"),this.pauseByPublicMethodSignal.add(this.handlePauseByMethodCall),this.addDestroyHandler(()=>{this.pauseByPublicMethodSignal.removeAll(),this.isSticky.removeAll()}),this.publicController=new ME({pauseByPublicMethodSignal:this.pauseByPublicMethodSignal,displayController:this.displayController});let{backgroundSlot:O}=n;O||(O=i.backgroundContainer);const T=new ob({container:O,videoNode:i.videoSlot});Qo.c.event({name:"InitBackgroundBlurInPage",data:{},probability:Xo.a}),n.backgroundSlot?T.setPlaying(!0):this.addDestroyHandler(an([_,l],(e,t)=>{if(void 0===e)return!1;const i=t.width/t.height,n=e.width/e.height-i;return Math.abs(n)>sb},e=>{T.setPlaying(e)})),this.addDestroyHandler(()=>{T.destroy()}),i.makeVisible(),Object($o.a)("inPage: call constructor callback"),this.processInPage().catch(e=>this.destroy(e))}async processInPage(){const{adConfig:e,layout:t}=this.params,i=this.waitForShowing();Object($o.a)("inPage: wait for loadVmap");const n=await this.loadVmap();this.replayMode=sS(e,n),"manual"===this.replayMode&&(this.displayController.enableRetainLastMediaAfterPlayback(),this.displayController.disableCreativePackshot()),dS({win:window,inPageConfig:e,adBreak:n})&&(Object($o.a)("inPage: initialize sticky"),this.stickyConfig=Wo({stickTo:n.stickTo,stickyColorScheme:n.stickyColorScheme},b(Ya(e))),this.stickyInPageController=new oS({layout:t,stickyConfig:this.stickyConfig,adContentSize:this.displayController.adContentSize,onActionClick:()=>this.displayController.clickThrough({},"StickyInPageActionButton"),onCrossClick:this.handleStickyInpageCrossClick}),this.addDestroyHandler(()=>{this.turnOffStickyMode({animated:!1})})),Object($o.a)("inPage: wait for loadAd");const r=await this.loadAd(n);hd&&(Object($o.a)("inPage: wait for warming up"),await Promise.race([this.waitForWarmingUpPosition(),i])),Object($o.a)("inPage: warm up ad"),await this.warmAdUp(r),Object($o.a)("inPage: wait till visible"),await i,Object($o.a)("inPage: visibility reached"),this.onceWhenCanShowInpage();let a=this.showAds(r);"auto"===this.replayMode&&this.displayController.onAdEnd.add(async()=>{if(!this.displayController.areAllAdPodsCompleted())return Object($o.a)("inPage: not all AdPods has been completed, stop auto replay"),void this.destroy(void 0);Object($o.a)("inPage: all AdPods has been completed"),await a,this.isDestroyed||(Object($o.a)("inPage: play ad again"),Qo.c.event({name:"InPageReplayAdAutomatically",probability:Xo.a,data:{}}),a=this.showAds(r))})}subscribeDisplayControllerEvents(e){e.onDestroy.add(e=>this.destroy(e)),e.onAdPodStart.addOne(async()=>{const{placeholderVisibility:e}=this;e.add(f(e=>{Object($o.a)("handle visual state change ["+e+"]"),this.handleVisibilityChange(e)},VE));const t=e.getValue();Object($o.a)("handle AdPodStart with visualVisibilityValue=["+t+"] visibility=["+this.displayController.visibilitySlotParameters.visibilityRatio.getValue()+"]"),this.handleVisibilityChange(t)}),e.onAdStop.add(()=>{this.displayController.destroy()}),e.onAdMediaStart.add(e=>{let{viewer:t}=e;this.stickyInPageController&&this.stickyInPageController.setDescription(t.mediaAd.vastAd.description)})}async loadVmap(){const{adConfig:e}=this.params,t=Boolean(e.partnerId&&void 0!==e.category);t&&Qo.c.error({error:new Jo.a({code:"INPAGE_LOAD_VMAP",details:e})}),this.adLoader=await TE(Wo({},e,{adBreakType:t?void 0:"inpage"}),void 0,void 0,this.displayController.getAdPlacementOptions()),this.addDestroyHandler(()=>{this.adLoader.destroy()});const i=this.adLoader.getInPageBlock();if(i)return i;throw new Jo.a({code:"NO_INPAGE_AD_BREAK_IN_VMAP",details:{config:e}})}async waitForShowing(){const{layout:e}=this.params,t=Po(e.containerElement,this.placeholderVisibilitySlot,ev);this.addDestroyHandler(t.unsubscribe),await t.promise}async loadAd(e){const t=await this.adLoader.load(e);return t.mediaAds.length>1&&Qo.c.event({name:"InPageHasMultipleMediaAds",probability:Xo.a,data:{mediaAdsCount:t.mediaAds.length}}),t}async initAdForPlaying(e){this.displayControllerOnAdEndPromise=this.displayController.onAdEnd.promise().then(Zo.a),await this.displayController.prepareToPlayAd(e)}async waitForWarmingUpPosition(){if(!hd)return;const{promise:e,teardown:t}=IE(this.params.layout.containerElement,BE,0);return this.addDestroyHandler(t),e}async warmAdUp(e){const{layout:t}=this.params;Qo.c.event({name:"InPageWarmUpStart",probability:Xo.a,data:{relativeCoordinates:In(t.videoSlot),verticalScroll:Object(dd.a)(()=>t.videoSlot.ownerDocument.scrollingElement.scrollTop)}}),await this.initAdForPlaying(e)}turnOffStickyMode(e){let{animated:t=!0}=e;const i=()=>{this.stickyInPageController&&(this.stickyInPageController.destroy(),this.stickyInPageController=void 0,this.stickyConfig=void 0)},n=this.changeStickyState({willBeSticky:!1,animated:t});return fd(n)?n.then(i):i()}canChangeStickyState(e){let{willBeSticky:t}=e;return!!this.stickyInPageController&&(this.isSticky.getValue()!==t&&((!t||!UE.isLocked())&&(!t||!this.displayController.getPaused())))}changeStickyState(e){let{willBeSticky:t,animated:i=!0}=e;const{stickyInPageController:n}=this;if(!n)return;const r=()=>{const e=this.stickyConfig.stickTo;Qo.c.event({name:"InPageChangeStickyState",probability:Xo.a,data:{willBeSticky:t,stickTo:e}});const r=!t;if(this.displayController.setSkinControlHideReason("timeline",r,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("abuse",r,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("adLabel",r,"INPAGE_STICKY_RETAINS_CONTROL"),Object($o.a)("inPage: change sticky state, willBeSticky=>"+t),t)return UE.lock(),this.isSticky.dispatch(!0),this.displayController.setBlurDisplay(!1),i?n.goSticky():void 0;{const e=()=>{this.displayController.setBlurDisplay(!0)};UE.unLock(),this.isSticky.dispatch(!1);const t=i?n.unSticky():void 0;return t?t.then(e).catch(md.a):e(),t}};return i?this.makeStickAction(r):r()}}const AS=function(e){void 0===e&&(e=window);try{const t=e.document;return!!Boolean(t.body.attachShadow)&&Ci(function(e,t){try{if(Object(ls.a)(e.attachShadow))return e.attachShadow(t);if(Object(ls.a)(e.createShadowRoot))return e.createShadowRoot();if(Object(ls.a)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(t.createElement("div"),{mode:"open"}))}catch(t){return!1}},{locals:mS}=YE.a,vS=e=>{const t=Go(e);return t.setAttribute("x-webkit-airplay","allow"),t.autoplay=!1,t.volume=Mf,t.muted=!0,t.preload="auto",t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.classList.add(mS.InPageLayout__videoSlot),function(e){e.setAttribute("playsinline","playsinline"),e.setAttribute("webkit-playsinline","webkit-playsinline")}(t),t};class fS extends yd.a{constructor(e){super(),this.containerElement=e,Yo(this,"containerWindow",void 0),Yo(this,"containerDocument",void 0),Yo(this,"placeholderElement",void 0),Yo(this,"placeholderSize",void 0),Yo(this,"videoSlotContainerSize",void 0),Yo(this,"wrapperElement",void 0),Yo(this,"stickyWrapperElement",void 0),Yo(this,"videoSlotContainer",void 0),Yo(this,"slot",void 0),Yo(this,"packshotContainer",void 0),Yo(this,"videoSlot",void 0),Yo(this,"backgroundContainer",void 0),this.containerWindow=Object(dd.a)(()=>e.ownerDocument.defaultView,e=>{Qo.c.error({error:new Jo.a(e,{code:"CANNOT_GET_INPAGE_LAYOUT_PLACEHOLDER_ELEMENT_WINDOW",details:void 0})})})||window,this.containerDocument=this.containerWindow.document;const t=this.containerDocument.createElement("div");t.classList.add(mS.reset),t.classList.add(mS.yaInPagePlaceholderElement),this.placeholderElement=t;const i=this.containerDocument.createElement("div");To(i,{width:"100%",height:"100%"},!0),i.classList.add(mS.reset),this.stickyWrapperElement=i,this.placeholderElement.appendChild(this.stickyWrapperElement);const n=this.containerDocument.createElement("div");n.classList.add(mS.reset),n.classList.add(mS.yaInPageWrapper),this.wrapperElement=n,this.stickyWrapperElement.appendChild(this.wrapperElement);const r=this.containerDocument.createElement("div");r.classList.add(mS.reset),this.wrapperElement.appendChild(r);const a=zr(r);AS(this.containerWindow)&&!a&&Qo.c.error({error:new Jo.a({code:"INPAGE_CONTAINER_ELEMENT_NOT_SUPPORTS_SHADOW",details:{containerElementOrId:String(e),containerHTML:Object(dd.a)(()=>e.outerHTML)}})}),a?this.backgroundContainer=a:(this.backgroundContainer=document.createElement("div"),r.appendChild(this.backgroundContainer)),To(this.backgroundContainer,{position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px",margin:"0px",padding:"0px",overflow:"hidden"}),this.videoSlotContainer=this.containerDocument.createElement("div"),this.videoSlotContainer.classList.add(mS.reset),this.videoSlotContainer.classList.add(mS.InPageLayout__videoSlotContainer),this.wrapperElement.appendChild(this.videoSlotContainer);const o=this.containerDocument.createElement("div");o.classList.add(mS.reset),this.wrapperElement.appendChild(o);const s=zr(o);if(s){this.slot=s;const e=Br(this.slot,YE.a.toString());this.addDestroyHandler(()=>{Object(Ko.a)(e)})}else this.slot=document.createElement("div"),o.appendChild(this.slot);this.slot.classList.add(mS.InPageLayout__slot);const d=this.containerDocument.createElement("div");d.classList.add(mS.reset),this.wrapperElement.appendChild(d);const l=zr(d);if(l){this.packshotContainer=l;const e=Br(this.packshotContainer,YE.a.toString());this.addDestroyHandler(()=>{Object(Ko.a)(e)})}else this.packshotContainer=document.createElement("div"),d.appendChild(this.packshotContainer);this.packshotContainer.classList.add(mS.InPageLayout__packshotContainer),this.videoSlot=vS(this.containerDocument),this.videoSlotContainer.appendChild(this.videoSlot),this.containerElement.appendChild(this.placeholderElement);const c=Br(this.containerElement,YE.a.toString());this.addDestroyHandler(()=>{Object(Ko.a)(c)});const u=new zm(t);this.placeholderSize=u.onResize,this.addDestroyHandler(()=>u.destroy());const h=new zm(this.videoSlotContainer);this.videoSlotContainerSize=h.onResize,this.addDestroyHandler(()=>h.destroy())}makeVisible(){To(this.placeholderElement,{visibility:"visible"},!0)}setPackshotContainerVisibility(e){To(this.packshotContainer,{display:e?"block":"none"},!0)}setSlotVisibility(e){To(this.slot,{display:e?"block":"none"},!0)}}const gS=e=>"undefined"===e,bS=e=>{let{containerElementOrId:t,insertAfter:i,insertPosition:n,win:r=window}=e;const a=Object(dd.a)(()=>r.document.querySelectorAll(""+i)),o={insertAfter:null,insertInto:null,win:r};if(!a||0===a.length||!Object(Zd.a)(i)||!i||gS(i))return o.insertInto=function(e,t){return void 0===t&&(t=window),"string"===typeof e?t.document.getElementById(e):e}(t,r),o;const s=n||0;if(!d(parseInt(""+s,10))&&!/^\d+%$/.test(""+s)&&!/^\d+$/.test(""+s))throw new Jo.a({code:"INPAGE_CONTAINER_CONFIG_VALIDATION_ERROR",details:{containerElementOrId:String(t),insertPosition:n,insertAfter:i}});const c=a.length;if(0===c)return o;const u=a[((e,t)=>{let i=Object(Zd.a)(e)?parseInt(e,10):e;if(Object(Zd.a)(e)&&-1!==e.indexOf("%")){const e=i/100;i=Math.round(e*(t-1))}else l(i)&&(i-=1);return i=xt(i,0,t-1)})(s,c)];return o.insertAfter=u,o},yS=e=>{let{insertAfter:t,insertInto:i}=e;return null!==t&&void 0!==t?t:i},_S=Object(ls.a)(window.WeakSet)?new window.WeakSet:[],OS={place(e){const t=yS(e);return Object(Nd.a)(_S)?_S.push(t):_S.add(t)},free(e){const t=yS(e);return Object(Nd.a)(_S)?_S.splice(_S.indexOf(t),1):_S.delete(t)},isFree(e){const t=yS(e);return Object(Nd.a)(_S)?-1===_S.indexOf(t):!1===_S.has(t)}},TS=(e,t)=>{Object($o.a)("inPage: normalizeInPageConfig");const i=(e=>{if(!Object(hs.a)(e))throw new Jo.a({code:"NO_AD_CONFIG_IN_INPAGE",details:void 0});const t=Yi(Y(e),{controlsVisibility:{skip:!1}});let i=e.vastUrl;e.vastUrl&&r(e.vastUrl)&&(i=Object(rs.b)(e.vastUrl,{tags:"inpage"}));const{allowedToHideVideoSlotAreaPortion:n}=e;if(void 0!==n&&(!Z(n)||n>=1))throw new Jo.a({code:"INVALID_ALLOWED_TO_HIDE_VIDEO_SLOT_AREA_PORTION_PARAMETER",details:{value:n}});let a;if(xp(e.visibilitySlot))a=e.visibilitySlot,Qo.c.event({name:"UsingVisibilitySlot",probability:Xo.a,data:{config:e}});else if(void 0!==e.visibilitySlot)throw new Jo.a({code:"VISIBILITY_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}});return qo({},e,{visibilitySlot:a,controlsSettings:t,vastUrl:i,backgroundBlur:!0,videoTimeout:1e4,vpaidTimeout:1e4,allowedToHideVideoSlotAreaPortion:null!==n&&void 0!==n?n:0})})(t),{insertPosition:n,insertAfter:a}=i;gS(a)&&Qo.c.event({name:"InPageInsertAfterIsSerializedUndefined",data:{containerElementOrId:String(e),insertPosition:n,insertAfter:a}}),Object($o.a)("inPage: prepareGetOrCreateContainerElementParams");const o=bS({insertPosition:n,insertAfter:a,containerElementOrId:e});if(!(e=>Boolean(e.insertAfter||e.insertInto))(o))throw new Jo.a({code:"CANNOT_FIND_INPAGE_CONTAINER_ELEMENT",details:{containerElementOrId:String(e),insertPosition:n,insertAfter:a}});if(!OS.isFree(o))throw new Jo.a({code:"INPAGE_CONTAINER_USED_TWICE",details:{containerElementOrId:String(e),insertPosition:n,insertAfter:a}});OS.place(o);const s=(e=>{let{insertAfter:t,insertInto:i,win:n=window}=e;if(void 0===t||null===t)return i;const r=n.document.createElement("div");return t.parentNode.insertBefore(r,t.nextSibling)})(o),d=s.getBoundingClientRect();if(0===d.width)throw new Jo.a({code:"INPAGE_CONTAINER_ZERO_WIDTH",details:{containerElementOrId:String(e),insertAfter:a,insertPosition:n,containerRect:d}});Object($o.a)("inPage: create InPageLayout");const l=document.createElement("div");s.appendChild(l);const c=new fS(l);return c.addDestroyHandler(()=>{OS.free(o)}),{layout:c,adConfig:i,initialContainerRect:d,containerElementByParams:s}};!function(e,t){st({videoAd:{loadedModules:{[e]:t},modules:{[Fs.a]:{[e]:t}}}},"ya")}("InPage",{addInPageVideo:(e,t,i)=>{Object($o.a)("inPage: add inpage video");const n="function"===typeof i?Object(es.a)(i,"INPAGE_CALLBACK_ERROR"):Zo.a;let r;try{r=TS(e,t)}catch(a){return Object($o.a)("inPage: prepareInPageParameters error=["+a+"]"),v(a),void n(a)}Qo.c.event({name:"AddInPageVideo",probability:Xo.a,data:{adConfig:t,containerElementOrId:String(e),containerRect:r.initialContainerRect}});try{const e=new pS(r);Object($o.a)("inPage: call public callback"),n(e.publicController),e.addDestroyHandler(e=>{Object(Ko.a)(r.containerElementByParams),r.layout.destroy(),e&&(v(e),n(e))})}catch(a){Object($o.a)("inPage: create InPage error=["+a+"]"),Qo.c.error({error:new Jo.a(a,{code:"CREATE_INTERNAL_INPAGE_INSTANCE_ERROR",details:void 0})}),n(a)}}})}]);